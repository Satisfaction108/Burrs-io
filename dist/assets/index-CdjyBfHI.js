const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DFuA7cHB.js","assets/webworkerAll-BFMnHoSc.js","assets/colorToUniform-D98wEAIY.js","assets/WebGPURenderer-BZhqfJ-4.js","assets/SharedSystems-B4GFR_m_.js","assets/WebGLRenderer-BBmLLy7h.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function $o(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hl={exports:{}},Li={},Wl={exports:{}},de={};var Zd;function Ky(){if(Zd)return de;Zd=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function w(M,O,ae){this.props=M,this.context=O,this.refs=k,this.updater=ae||_}w.prototype.isReactComponent={},w.prototype.setState=function(M,O){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,O,"setState")},w.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function b(){}b.prototype=w.prototype;function I(M,O,ae){this.props=M,this.context=O,this.refs=k,this.updater=ae||_}var E=I.prototype=new b;E.constructor=I,S(E,w.prototype),E.isPureReactComponent=!0;var A=Array.isArray,F=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function Q(M,O,ae){var ue,fe={},he=null,we=null;if(O!=null)for(ue in O.ref!==void 0&&(we=O.ref),O.key!==void 0&&(he=""+O.key),O)F.call(O,ue)&&!z.hasOwnProperty(ue)&&(fe[ue]=O[ue]);var xe=arguments.length-2;if(xe===1)fe.children=ae;else if(1<xe){for(var Se=Array(xe),Ye=0;Ye<xe;Ye++)Se[Ye]=arguments[Ye+2];fe.children=Se}if(M&&M.defaultProps)for(ue in xe=M.defaultProps,xe)fe[ue]===void 0&&(fe[ue]=xe[ue]);return{$$typeof:i,type:M,key:he,ref:we,props:fe,_owner:R.current}}function Y(M,O){return{$$typeof:i,type:M.type,key:O,ref:M.ref,props:M.props,_owner:M._owner}}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function j(M){var O={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return O[ae]})}var ce=/\/+/g;function le(M,O){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):O.toString(36)}function me(M,O,ae,ue,fe){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var we=!1;if(M===null)we=!0;else switch(he){case"string":case"number":we=!0;break;case"object":switch(M.$$typeof){case i:case e:we=!0}}if(we)return we=M,fe=fe(we),M=ue===""?"."+le(we,0):ue,A(fe)?(ae="",M!=null&&(ae=M.replace(ce,"$&/")+"/"),me(fe,O,ae,"",function(Ye){return Ye})):fe!=null&&(V(fe)&&(fe=Y(fe,ae+(!fe.key||we&&we.key===fe.key?"":(""+fe.key).replace(ce,"$&/")+"/")+M)),O.push(fe)),1;if(we=0,ue=ue===""?".":ue+":",A(M))for(var xe=0;xe<M.length;xe++){he=M[xe];var Se=ue+le(he,xe);we+=me(he,O,ae,Se,fe)}else if(Se=v(M),typeof Se=="function")for(M=Se.call(M),xe=0;!(he=M.next()).done;)he=he.value,Se=ue+le(he,xe++),we+=me(he,O,ae,Se,fe);else if(he==="object")throw O=String(M),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return we}function Ze(M,O,ae){if(M==null)return M;var ue=[],fe=0;return me(M,ue,"","",function(he){return O.call(ae,he,fe++)}),ue}function X(M){if(M._status===-1){var O=M._result;O=O(),O.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=O)}if(M._status===1)return M._result.default;throw M._result}var K={current:null},$={transition:null},W={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:$,ReactCurrentOwner:R};function q(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Ze,forEach:function(M,O,ae){Ze(M,function(){O.apply(this,arguments)},ae)},count:function(M){var O=0;return Ze(M,function(){O++}),O},toArray:function(M){return Ze(M,function(O){return O})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},de.Component=w,de.Fragment=t,de.Profiler=o,de.PureComponent=I,de.StrictMode=s,de.Suspense=f,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,de.act=q,de.cloneElement=function(M,O,ae){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ue=S({},M.props),fe=M.key,he=M.ref,we=M._owner;if(O!=null){if(O.ref!==void 0&&(he=O.ref,we=R.current),O.key!==void 0&&(fe=""+O.key),M.type&&M.type.defaultProps)var xe=M.type.defaultProps;for(Se in O)F.call(O,Se)&&!z.hasOwnProperty(Se)&&(ue[Se]=O[Se]===void 0&&xe!==void 0?xe[Se]:O[Se])}var Se=arguments.length-2;if(Se===1)ue.children=ae;else if(1<Se){xe=Array(Se);for(var Ye=0;Ye<Se;Ye++)xe[Ye]=arguments[Ye+2];ue.children=xe}return{$$typeof:i,type:M.type,key:fe,ref:he,props:ue,_owner:we}},de.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},de.createElement=Q,de.createFactory=function(M){var O=Q.bind(null,M);return O.type=M,O},de.createRef=function(){return{current:null}},de.forwardRef=function(M){return{$$typeof:h,render:M}},de.isValidElement=V,de.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:X}},de.memo=function(M,O){return{$$typeof:m,type:M,compare:O===void 0?null:O}},de.startTransition=function(M){var O=$.transition;$.transition={};try{M()}finally{$.transition=O}},de.unstable_act=q,de.useCallback=function(M,O){return K.current.useCallback(M,O)},de.useContext=function(M){return K.current.useContext(M)},de.useDebugValue=function(){},de.useDeferredValue=function(M){return K.current.useDeferredValue(M)},de.useEffect=function(M,O){return K.current.useEffect(M,O)},de.useId=function(){return K.current.useId()},de.useImperativeHandle=function(M,O,ae){return K.current.useImperativeHandle(M,O,ae)},de.useInsertionEffect=function(M,O){return K.current.useInsertionEffect(M,O)},de.useLayoutEffect=function(M,O){return K.current.useLayoutEffect(M,O)},de.useMemo=function(M,O){return K.current.useMemo(M,O)},de.useReducer=function(M,O,ae){return K.current.useReducer(M,O,ae)},de.useRef=function(M){return K.current.useRef(M)},de.useState=function(M){return K.current.useState(M)},de.useSyncExternalStore=function(M,O,ae){return K.current.useSyncExternalStore(M,O,ae)},de.useTransition=function(){return K.current.useTransition()},de.version="18.3.1",de}var Jd;function Wu(){return Jd||(Jd=1,Wl.exports=Ky()),Wl.exports}var ef;function Zy(){if(ef)return Li;ef=1;var i=Wu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var g,y={},v=null,_=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(_=f.ref);for(g in f)s.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:v,ref:_,props:y,_owner:o.current}}return Li.Fragment=t,Li.jsx=c,Li.jsxs=c,Li}var tf;function Jy(){return tf||(tf=1,Hl.exports=Zy()),Hl.exports}var yt=Jy(),Ne=Wu();const e0=$o(Ne);var yo={},jl={exports:{}},gt={},$l={exports:{}},Yl={};var nf;function t0(){return nf||(nf=1,(function(i){function e($,W){var q=$.length;$.push(W);e:for(;0<q;){var M=q-1>>>1,O=$[M];if(0<o(O,W))$[M]=W,$[q]=O,q=M;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var W=$[0],q=$.pop();if(q!==W){$[0]=q;e:for(var M=0,O=$.length,ae=O>>>1;M<ae;){var ue=2*(M+1)-1,fe=$[ue],he=ue+1,we=$[he];if(0>o(fe,q))he<O&&0>o(we,fe)?($[M]=we,$[he]=q,M=he):($[M]=fe,$[ue]=q,M=ue);else if(he<O&&0>o(we,q))$[M]=we,$[he]=q,M=he;else break e}}return W}function o($,W){var q=$.sortIndex-W.sortIndex;return q!==0?q:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var f=[],m=[],g=1,y=null,v=3,_=!1,S=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var W=t(m);W!==null;){if(W.callback===null)s(m);else if(W.startTime<=$)s(m),W.sortIndex=W.expirationTime,e(f,W);else break;W=t(m)}}function A($){if(k=!1,E($),!S)if(t(f)!==null)S=!0,X(F);else{var W=t(m);W!==null&&K(A,W.startTime-$)}}function F($,W){S=!1,k&&(k=!1,b(Q),Q=-1),_=!0;var q=v;try{for(E(W),y=t(f);y!==null&&(!(y.expirationTime>W)||$&&!j());){var M=y.callback;if(typeof M=="function"){y.callback=null,v=y.priorityLevel;var O=M(y.expirationTime<=W);W=i.unstable_now(),typeof O=="function"?y.callback=O:y===t(f)&&s(f),E(W)}else s(f);y=t(f)}if(y!==null)var ae=!0;else{var ue=t(m);ue!==null&&K(A,ue.startTime-W),ae=!1}return ae}finally{y=null,v=q,_=!1}}var R=!1,z=null,Q=-1,Y=5,V=-1;function j(){return!(i.unstable_now()-V<Y)}function ce(){if(z!==null){var $=i.unstable_now();V=$;var W=!0;try{W=z(!0,$)}finally{W?le():(R=!1,z=null)}}else R=!1}var le;if(typeof I=="function")le=function(){I(ce)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ze=me.port2;me.port1.onmessage=ce,le=function(){Ze.postMessage(null)}}else le=function(){w(ce,0)};function X($){z=$,R||(R=!0,le())}function K($,W){Q=w(function(){$(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_continueExecution=function(){S||_||(S=!0,X(F))},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(f)},i.unstable_next=function($){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var q=v;v=W;try{return $()}finally{v=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=v;v=$;try{return W()}finally{v=q}},i.unstable_scheduleCallback=function($,W,q){var M=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?M+q:M):q=M,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=q+O,$={id:g++,callback:W,priorityLevel:$,startTime:q,expirationTime:O,sortIndex:-1},q>M?($.sortIndex=q,e(m,$),t(f)===null&&$===t(m)&&(k?(b(Q),Q=-1):k=!0,K(A,q-M))):($.sortIndex=O,e(f,$),S||_||(S=!0,X(F))),$},i.unstable_shouldYield=j,i.unstable_wrapCallback=function($){var W=v;return function(){var q=v;v=W;try{return $.apply(this,arguments)}finally{v=q}}}})(Yl)),Yl}var rf;function n0(){return rf||(rf=1,$l.exports=t0()),$l.exports}var sf;function r0(){if(sf)return gt;sf=1;var i=Wu(),e=n0();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,r){c(n,r),c(n+"Capture",r)}function c(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(n){return f.call(y,n)?!0:f.call(g,n)?!1:m.test(n)?y[n]=!0:(g[n]=!0,!1)}function _(n,r,a,u){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,r,a,u){if(r===null||typeof r>"u"||_(n,r,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function k(n,r,a,u,d,p,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=p,this.removeEmptyString=x}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){w[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];w[r]=new k(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){w[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){w[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){w[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){w[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){w[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){w[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){w[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(b,I);w[r]=new k(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(b,I);w[r]=new k(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(b,I);w[r]=new k(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){w[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),w.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){w[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function E(n,r,a,u){var d=w.hasOwnProperty(r)?w[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(S(r,a,d,u)&&(a=null),u||d===null?v(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,u=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?n.setAttributeNS(u,r,a):n.setAttribute(r,a))))}var A=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),$=Symbol.iterator;function W(n){return n===null||typeof n!="object"?null:(n=$&&n[$]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,M;function O(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+n}var ae=!1;function ue(n,r){if(!n||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(N){var u=N}Reflect.construct(n,[],r)}else{try{r.call()}catch(N){u=N}n.call(r.prototype)}else{try{throw Error()}catch(N){u=N}n()}}catch(N){if(N&&u&&typeof N.stack=="string"){for(var d=N.stack.split(`
`),p=u.stack.split(`
`),x=d.length-1,C=p.length-1;1<=x&&0<=C&&d[x]!==p[C];)C--;for(;1<=x&&0<=C;x--,C--)if(d[x]!==p[C]){if(x!==1||C!==1)do if(x--,C--,0>C||d[x]!==p[C]){var P=`
`+d[x].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=x&&0<=C);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?O(n):""}function fe(n){switch(n.tag){case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return n=ue(n.type,!1),n;case 11:return n=ue(n.type.render,!1),n;case 1:return n=ue(n.type,!0),n;default:return""}}function he(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case R:return"Portal";case Y:return"Profiler";case Q:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case ce:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ze:return r=n.displayName||null,r!==null?r:he(n.type)||"Memo";case X:r=n._payload,n=n._init;try{return he(n(r))}catch{}}return null}function we(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(r);case 8:return r===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Se(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ye(n){var r=Se(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){u=""+x,p.call(this,x)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Cn(n){n._valueTracker||(n._valueTracker=Ye(n))}function Qt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Se(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Pt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ft(n,r){var a=r.checked;return q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Kt(n,r){var a=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;a=xe(r.value!=null?r.value:a),n._wrapperState={initialChecked:u,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ss(n,r){r=r.checked,r!=null&&E(n,"checked",r,!1)}function fr(n,r){ss(n,r);var a=xe(r.value),u=r.type;if(a!=null)u==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?as(n,r.type,a):r.hasOwnProperty("defaultValue")&&as(n,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function os(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function as(n,r,a){(r!=="number"||Pt(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var qr=Array.isArray;function pr(n,r,a,u){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&u&&(n[a].defaultSelected=!0)}else{for(a=""+xe(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Jo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lc(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(qr(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:xe(a)}}function uc(n,r){var a=xe(r.value),u=xe(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),u!=null&&(n.defaultValue=""+u)}function cc(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function hc(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?hc(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ls,dc=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,u,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,u,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ls.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Qr(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tg=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(n){tg.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Kr[r]=Kr[n]})});function fc(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Kr.hasOwnProperty(n)&&Kr[n]?(""+r).trim():r+"px"}function pc(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=fc(a,r[a],u);a==="float"&&(a="cssFloat"),u?n.setProperty(a,d):n[a]=d}}var ng=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(n,r){if(r){if(ng[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function na(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=null;function ia(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sa=null,mr=null,gr=null;function mc(n){if(n=_i(n)){if(typeof sa!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Rs(r),sa(n.stateNode,n.type,r))}}function gc(n){mr?gr?gr.push(n):gr=[n]:mr=n}function yc(){if(mr){var n=mr,r=gr;if(gr=mr=null,mc(n),r)for(n=0;n<r.length;n++)mc(r[n])}}function xc(n,r){return n(r)}function _c(){}var oa=!1;function vc(n,r,a){if(oa)return n(r,a);oa=!0;try{return xc(n,r,a)}finally{oa=!1,(mr!==null||gr!==null)&&(_c(),yc())}}function Zr(n,r){var a=n.stateNode;if(a===null)return null;var u=Rs(a);if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var aa=!1;if(h)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){aa=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{aa=!1}function rg(n,r,a,u,d,p,x,C,P){var N=Array.prototype.slice.call(arguments,3);try{r.apply(a,N)}catch(U){this.onError(U)}}var ei=!1,us=null,cs=!1,la=null,ig={onError:function(n){ei=!0,us=n}};function sg(n,r,a,u,d,p,x,C,P){ei=!1,us=null,rg.apply(ig,arguments)}function og(n,r,a,u,d,p,x,C,P){if(sg.apply(this,arguments),ei){if(ei){var N=us;ei=!1,us=null}else throw Error(t(198));cs||(cs=!0,la=N)}}function jn(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function wc(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Sc(n){if(jn(n)!==n)throw Error(t(188))}function ag(n){var r=n.alternate;if(!r){if(r=jn(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,u=r;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Sc(d),n;if(p===u)return Sc(d),r;p=p.sibling}throw Error(t(188))}if(a.return!==u.return)a=d,u=p;else{for(var x=!1,C=d.child;C;){if(C===a){x=!0,a=d,u=p;break}if(C===u){x=!0,u=d,a=p;break}C=C.sibling}if(!x){for(C=p.child;C;){if(C===a){x=!0,a=p,u=d;break}if(C===u){x=!0,u=p,a=d;break}C=C.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==u)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Cc(n){return n=ag(n),n!==null?kc(n):null}function kc(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=kc(n);if(r!==null)return r;n=n.sibling}return null}var Pc=e.unstable_scheduleCallback,Ec=e.unstable_cancelCallback,lg=e.unstable_shouldYield,ug=e.unstable_requestPaint,De=e.unstable_now,cg=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,Tc=e.unstable_UserBlockingPriority,hs=e.unstable_NormalPriority,hg=e.unstable_LowPriority,bc=e.unstable_IdlePriority,ds=null,Zt=null;function dg(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ds,n,void 0,(n.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:mg,fg=Math.log,pg=Math.LN2;function mg(n){return n>>>=0,n===0?32:31-(fg(n)/pg|0)|0}var fs=64,ps=4194304;function ti(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ms(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,d=n.suspendedLanes,p=n.pingedLanes,x=a&268435455;if(x!==0){var C=x&~d;C!==0?u=ti(C):(p&=x,p!==0&&(u=ti(p)))}else x=a&~d,x!==0?u=ti(x):p!==0&&(u=ti(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=u;0<r;)a=31-zt(r),d=1<<a,u|=n[a],r&=~d;return u}function gg(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yg(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var x=31-zt(p),C=1<<x,P=d[x];P===-1?((C&a)===0||(C&u)!==0)&&(d[x]=gg(C,r)):P<=r&&(n.expiredLanes|=C),p&=~C}}function ca(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ac(){var n=fs;return fs<<=1,(fs&4194240)===0&&(fs=64),n}function ha(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ni(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-zt(r),n[r]=a}function xg(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-zt(a),p=1<<d;r[d]=0,u[d]=-1,n[d]=-1,a&=~p}}function da(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-zt(a),d=1<<u;d&r|n[u]&r&&(n[u]|=r),a&=~d}}var Ce=0;function Mc(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Rc,fa,Ic,Bc,Lc,pa=!1,gs=[],kn=null,Pn=null,En=null,ri=new Map,ii=new Map,Tn=[],_g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nc(n,r){switch(n){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":ri.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(r.pointerId)}}function si(n,r,a,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},r!==null&&(r=_i(r),r!==null&&fa(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function vg(n,r,a,u,d){switch(r){case"focusin":return kn=si(kn,n,r,a,u,d),!0;case"dragenter":return Pn=si(Pn,n,r,a,u,d),!0;case"mouseover":return En=si(En,n,r,a,u,d),!0;case"pointerover":var p=d.pointerId;return ri.set(p,si(ri.get(p)||null,n,r,a,u,d)),!0;case"gotpointercapture":return p=d.pointerId,ii.set(p,si(ii.get(p)||null,n,r,a,u,d)),!0}return!1}function Fc(n){var r=$n(n.target);if(r!==null){var a=jn(r);if(a!==null){if(r=a.tag,r===13){if(r=wc(a),r!==null){n.blockedOn=r,Lc(n.priority,function(){Ic(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ys(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ga(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);ra=u,a.target.dispatchEvent(u),ra=null}else return r=_i(a),r!==null&&fa(r),n.blockedOn=a,!1;r.shift()}return!0}function zc(n,r,a){ys(n)&&a.delete(r)}function wg(){pa=!1,kn!==null&&ys(kn)&&(kn=null),Pn!==null&&ys(Pn)&&(Pn=null),En!==null&&ys(En)&&(En=null),ri.forEach(zc),ii.forEach(zc)}function oi(n,r){n.blockedOn===r&&(n.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wg)))}function ai(n){function r(d){return oi(d,n)}if(0<gs.length){oi(gs[0],n);for(var a=1;a<gs.length;a++){var u=gs[a];u.blockedOn===n&&(u.blockedOn=null)}}for(kn!==null&&oi(kn,n),Pn!==null&&oi(Pn,n),En!==null&&oi(En,n),ri.forEach(r),ii.forEach(r),a=0;a<Tn.length;a++)u=Tn[a],u.blockedOn===n&&(u.blockedOn=null);for(;0<Tn.length&&(a=Tn[0],a.blockedOn===null);)Fc(a),a.blockedOn===null&&Tn.shift()}var yr=A.ReactCurrentBatchConfig,xs=!0;function Sg(n,r,a,u){var d=Ce,p=yr.transition;yr.transition=null;try{Ce=1,ma(n,r,a,u)}finally{Ce=d,yr.transition=p}}function Cg(n,r,a,u){var d=Ce,p=yr.transition;yr.transition=null;try{Ce=4,ma(n,r,a,u)}finally{Ce=d,yr.transition=p}}function ma(n,r,a,u){if(xs){var d=ga(n,r,a,u);if(d===null)Ba(n,r,u,_s,a),Nc(n,u);else if(vg(d,n,r,a,u))u.stopPropagation();else if(Nc(n,u),r&4&&-1<_g.indexOf(n)){for(;d!==null;){var p=_i(d);if(p!==null&&Rc(p),p=ga(n,r,a,u),p===null&&Ba(n,r,u,_s,a),p===d)break;d=p}d!==null&&u.stopPropagation()}else Ba(n,r,u,null,a)}}var _s=null;function ga(n,r,a,u){if(_s=null,n=ia(u),n=$n(n),n!==null)if(r=jn(n),r===null)n=null;else if(a=r.tag,a===13){if(n=wc(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return _s=n,null}function Oc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cg()){case ua:return 1;case Tc:return 4;case hs:case hg:return 16;case bc:return 536870912;default:return 16}default:return 16}}var bn=null,ya=null,vs=null;function Dc(){if(vs)return vs;var n,r=ya,a=r.length,u,d="value"in bn?bn.value:bn.textContent,p=d.length;for(n=0;n<a&&r[n]===d[n];n++);var x=a-n;for(u=1;u<=x&&r[a-u]===d[p-u];u++);return vs=d.slice(n,1<u?1-u:void 0)}function ws(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ss(){return!0}function Uc(){return!1}function _t(n){function r(a,u,d,p,x){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ss:Uc,this.isPropagationStopped=Uc,this}return q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),r}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=_t(xr),li=q({},xr,{view:0,detail:0}),kg=_t(li),_a,va,ui,Cs=q({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ui&&(ui&&n.type==="mousemove"?(_a=n.screenX-ui.screenX,va=n.screenY-ui.screenY):va=_a=0,ui=n),_a)},movementY:function(n){return"movementY"in n?n.movementY:va}}),Gc=_t(Cs),Pg=q({},Cs,{dataTransfer:0}),Eg=_t(Pg),Tg=q({},li,{relatedTarget:0}),wa=_t(Tg),bg=q({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ag=_t(bg),Mg=q({},xr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Rg=_t(Mg),Ig=q({},xr,{data:0}),Vc=_t(Ig),Bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ng[n])?!!r[n]:!1}function Sa(){return Fg}var zg=q({},li,{key:function(n){if(n.key){var r=Bg[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ws(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lg[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sa,charCode:function(n){return n.type==="keypress"?ws(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ws(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Og=_t(zg),Dg=q({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=_t(Dg),Ug=q({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sa}),Gg=_t(Ug),Vg=q({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=_t(Vg),Wg=q({},Cs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=_t(Wg),$g=[9,13,27,32],Ca=h&&"CompositionEvent"in window,ci=null;h&&"documentMode"in document&&(ci=document.documentMode);var Yg=h&&"TextEvent"in window&&!ci,Wc=h&&(!Ca||ci&&8<ci&&11>=ci),jc=" ",$c=!1;function Yc(n,r){switch(n){case"keyup":return $g.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var _r=!1;function Xg(n,r){switch(n){case"compositionend":return Xc(r);case"keypress":return r.which!==32?null:($c=!0,jc);case"textInput":return n=r.data,n===jc&&$c?null:n;default:return null}}function qg(n,r){if(_r)return n==="compositionend"||!Ca&&Yc(n,r)?(n=Dc(),vs=ya=bn=null,_r=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Wc&&r.locale!=="ko"?null:r.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Qg[n.type]:r==="textarea"}function Qc(n,r,a,u){gc(u),r=bs(r,"onChange"),0<r.length&&(a=new xa("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var hi=null,di=null;function Kg(n){ph(n,0)}function ks(n){var r=kr(n);if(Qt(r))return n}function Zg(n,r){if(n==="change")return r}var Kc=!1;if(h){var ka;if(h){var Pa="oninput"in document;if(!Pa){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Pa=typeof Zc.oninput=="function"}ka=Pa}else ka=!1;Kc=ka&&(!document.documentMode||9<document.documentMode)}function Jc(){hi&&(hi.detachEvent("onpropertychange",eh),di=hi=null)}function eh(n){if(n.propertyName==="value"&&ks(di)){var r=[];Qc(r,di,n,ia(n)),vc(Kg,r)}}function Jg(n,r,a){n==="focusin"?(Jc(),hi=r,di=a,hi.attachEvent("onpropertychange",eh)):n==="focusout"&&Jc()}function ey(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ks(di)}function ty(n,r){if(n==="click")return ks(r)}function ny(n,r){if(n==="input"||n==="change")return ks(r)}function ry(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ot=typeof Object.is=="function"?Object.is:ry;function fi(n,r){if(Ot(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!f.call(r,d)||!Ot(n[d],r[d]))return!1}return!0}function th(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function nh(n,r){var a=th(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=th(a)}}function rh(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?rh(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ih(){for(var n=window,r=Pt();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Pt(n.document)}return r}function Ea(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function iy(n){var r=ih(),a=n.focusedElem,u=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&rh(a.ownerDocument.documentElement,a)){if(u!==null&&Ea(a)){if(r=u.start,n=u.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!n.extend&&p>u&&(d=u,u=p,p=d),d=nh(a,p);var x=nh(a,u);d&&x&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==x.node||n.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),p>u?(n.addRange(r),n.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var sy=h&&"documentMode"in document&&11>=document.documentMode,vr=null,Ta=null,pi=null,ba=!1;function sh(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ba||vr==null||vr!==Pt(u)||(u=vr,"selectionStart"in u&&Ea(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pi&&fi(pi,u)||(pi=u,u=bs(Ta,"onSelect"),0<u.length&&(r=new xa("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=vr)))}function Ps(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var wr={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},Aa={},oh={};h&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Es(n){if(Aa[n])return Aa[n];if(!wr[n])return n;var r=wr[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in oh)return Aa[n]=r[a];return n}var ah=Es("animationend"),lh=Es("animationiteration"),uh=Es("animationstart"),ch=Es("transitionend"),hh=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(n,r){hh.set(n,r),l(r,[n])}for(var Ma=0;Ma<dh.length;Ma++){var Ra=dh[Ma],oy=Ra.toLowerCase(),ay=Ra[0].toUpperCase()+Ra.slice(1);An(oy,"on"+ay)}An(ah,"onAnimationEnd"),An(lh,"onAnimationIteration"),An(uh,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(ch,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function fh(n,r,a){var u=n.type||"unknown-event";n.currentTarget=a,og(u,r,void 0,n),n.currentTarget=null}function ph(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],d=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var x=u.length-1;0<=x;x--){var C=u[x],P=C.instance,N=C.currentTarget;if(C=C.listener,P!==p&&d.isPropagationStopped())break e;fh(d,C,N),p=P}else for(x=0;x<u.length;x++){if(C=u[x],P=C.instance,N=C.currentTarget,C=C.listener,P!==p&&d.isPropagationStopped())break e;fh(d,C,N),p=P}}}if(cs)throw n=la,cs=!1,la=null,n}function be(n,r){var a=r[Da];a===void 0&&(a=r[Da]=new Set);var u=n+"__bubble";a.has(u)||(mh(r,n,2,!1),a.add(u))}function Ia(n,r,a){var u=0;r&&(u|=4),mh(a,n,u,r)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function gi(n){if(!n[Ts]){n[Ts]=!0,s.forEach(function(a){a!=="selectionchange"&&(ly.has(a)||Ia(a,!1,n),Ia(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Ts]||(r[Ts]=!0,Ia("selectionchange",!1,r))}}function mh(n,r,a,u){switch(Oc(r)){case 1:var d=Sg;break;case 4:d=Cg;break;default:d=ma}a=d.bind(null,r,a,n),d=void 0,!aa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Ba(n,r,a,u,d){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var C=u.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(x===4)for(x=u.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;x=x.return}for(;C!==null;){if(x=$n(C),x===null)return;if(P=x.tag,P===5||P===6){u=p=x;continue e}C=C.parentNode}}u=u.return}vc(function(){var N=p,U=ia(a),G=[];e:{var D=hh.get(n);if(D!==void 0){var Z=xa,ee=n;switch(n){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Z=Og;break;case"focusin":ee="focus",Z=wa;break;case"focusout":ee="blur",Z=wa;break;case"beforeblur":case"afterblur":Z=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Gg;break;case ah:case lh:case uh:Z=Ag;break;case ch:Z=Hg;break;case"scroll":Z=kg;break;case"wheel":Z=jg;break;case"copy":case"cut":case"paste":Z=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Hc}var te=(r&4)!==0,Ue=!te&&n==="scroll",B=te?D!==null?D+"Capture":null:D;te=[];for(var T=N,L;T!==null;){L=T;var H=L.stateNode;if(L.tag===5&&H!==null&&(L=H,B!==null&&(H=Zr(T,B),H!=null&&te.push(yi(T,H,L)))),Ue)break;T=T.return}0<te.length&&(D=new Z(D,ee,null,a,U),G.push({event:D,listeners:te}))}}if((r&7)===0){e:{if(D=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",D&&a!==ra&&(ee=a.relatedTarget||a.fromElement)&&($n(ee)||ee[un]))break e;if((Z||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,Z?(ee=a.relatedTarget||a.toElement,Z=N,ee=ee?$n(ee):null,ee!==null&&(Ue=jn(ee),ee!==Ue||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Z=null,ee=N),Z!==ee)){if(te=Gc,H="onMouseLeave",B="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(te=Hc,H="onPointerLeave",B="onPointerEnter",T="pointer"),Ue=Z==null?D:kr(Z),L=ee==null?D:kr(ee),D=new te(H,T+"leave",Z,a,U),D.target=Ue,D.relatedTarget=L,H=null,$n(U)===N&&(te=new te(B,T+"enter",ee,a,U),te.target=L,te.relatedTarget=Ue,H=te),Ue=H,Z&&ee)t:{for(te=Z,B=ee,T=0,L=te;L;L=Sr(L))T++;for(L=0,H=B;H;H=Sr(H))L++;for(;0<T-L;)te=Sr(te),T--;for(;0<L-T;)B=Sr(B),L--;for(;T--;){if(te===B||B!==null&&te===B.alternate)break t;te=Sr(te),B=Sr(B)}te=null}else te=null;Z!==null&&gh(G,D,Z,te,!1),ee!==null&&Ue!==null&&gh(G,Ue,ee,te,!0)}}e:{if(D=N?kr(N):window,Z=D.nodeName&&D.nodeName.toLowerCase(),Z==="select"||Z==="input"&&D.type==="file")var ne=Zg;else if(qc(D))if(Kc)ne=ny;else{ne=ey;var ie=Jg}else(Z=D.nodeName)&&Z.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(ne=ty);if(ne&&(ne=ne(n,N))){Qc(G,ne,a,U);break e}ie&&ie(n,D,N),n==="focusout"&&(ie=D._wrapperState)&&ie.controlled&&D.type==="number"&&as(D,"number",D.value)}switch(ie=N?kr(N):window,n){case"focusin":(qc(ie)||ie.contentEditable==="true")&&(vr=ie,Ta=N,pi=null);break;case"focusout":pi=Ta=vr=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,sh(G,a,U);break;case"selectionchange":if(sy)break;case"keydown":case"keyup":sh(G,a,U)}var se;if(Ca)e:{switch(n){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else _r?Yc(n,a)&&(oe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Wc&&a.locale!=="ko"&&(_r||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&_r&&(se=Dc()):(bn=U,ya="value"in bn?bn.value:bn.textContent,_r=!0)),ie=bs(N,oe),0<ie.length&&(oe=new Vc(oe,n,null,a,U),G.push({event:oe,listeners:ie}),se?oe.data=se:(se=Xc(a),se!==null&&(oe.data=se)))),(se=Yg?Xg(n,a):qg(n,a))&&(N=bs(N,"onBeforeInput"),0<N.length&&(U=new Vc("onBeforeInput","beforeinput",null,a,U),G.push({event:U,listeners:N}),U.data=se))}ph(G,r)})}function yi(n,r,a){return{instance:n,listener:r,currentTarget:a}}function bs(n,r){for(var a=r+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Zr(n,a),p!=null&&u.unshift(yi(n,p,d)),p=Zr(n,r),p!=null&&u.push(yi(n,p,d))),n=n.return}return u}function Sr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gh(n,r,a,u,d){for(var p=r._reactName,x=[];a!==null&&a!==u;){var C=a,P=C.alternate,N=C.stateNode;if(P!==null&&P===u)break;C.tag===5&&N!==null&&(C=N,d?(P=Zr(a,p),P!=null&&x.unshift(yi(a,P,C))):d||(P=Zr(a,p),P!=null&&x.push(yi(a,P,C)))),a=a.return}x.length!==0&&n.push({event:r,listeners:x})}var uy=/\r\n?/g,cy=/\u0000|\uFFFD/g;function yh(n){return(typeof n=="string"?n:""+n).replace(uy,`
`).replace(cy,"")}function As(n,r,a){if(r=yh(r),yh(n)!==r&&a)throw Error(t(425))}function Ms(){}var La=null,Na=null;function Fa(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,hy=typeof clearTimeout=="function"?clearTimeout:void 0,xh=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof xh<"u"?function(n){return xh.resolve(null).then(n).catch(fy)}:za;function fy(n){setTimeout(function(){throw n})}function Oa(n,r){var a=r,u=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){n.removeChild(d),ai(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);ai(r)}function Mn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function _h(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Cr,xi="__reactProps$"+Cr,un="__reactContainer$"+Cr,Da="__reactEvents$"+Cr,py="__reactListeners$"+Cr,my="__reactHandles$"+Cr;function $n(n){var r=n[Jt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[un]||a[Jt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=_h(n);n!==null;){if(a=n[Jt])return a;n=_h(n)}return r}n=a,a=n.parentNode}return null}function _i(n){return n=n[Jt]||n[un],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function kr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Rs(n){return n[xi]||null}var Ua=[],Pr=-1;function Rn(n){return{current:n}}function Ae(n){0>Pr||(n.current=Ua[Pr],Ua[Pr]=null,Pr--)}function Te(n,r){Pr++,Ua[Pr]=n.current,n.current=r}var In={},nt=Rn(In),ht=Rn(!1),Yn=In;function Er(n,r){var a=n.type.contextTypes;if(!a)return In;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=r[p];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function dt(n){return n=n.childContextTypes,n!=null}function Is(){Ae(ht),Ae(nt)}function vh(n,r,a){if(nt.current!==In)throw Error(t(168));Te(nt,r),Te(ht,a)}function wh(n,r,a){var u=n.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(t(108,we(n)||"Unknown",d));return q({},a,u)}function Bs(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||In,Yn=nt.current,Te(nt,n),Te(ht,ht.current),!0}function Sh(n,r,a){var u=n.stateNode;if(!u)throw Error(t(169));a?(n=wh(n,r,Yn),u.__reactInternalMemoizedMergedChildContext=n,Ae(ht),Ae(nt),Te(nt,n)):Ae(ht),Te(ht,a)}var cn=null,Ls=!1,Ga=!1;function Ch(n){cn===null?cn=[n]:cn.push(n)}function gy(n){Ls=!0,Ch(n)}function Bn(){if(!Ga&&cn!==null){Ga=!0;var n=0,r=Ce;try{var a=cn;for(Ce=1;n<a.length;n++){var u=a[n];do u=u(!0);while(u!==null)}cn=null,Ls=!1}catch(d){throw cn!==null&&(cn=cn.slice(n+1)),Pc(ua,Bn),d}finally{Ce=r,Ga=!1}}return null}var Tr=[],br=0,Ns=null,Fs=0,Et=[],Tt=0,Xn=null,hn=1,dn="";function qn(n,r){Tr[br++]=Fs,Tr[br++]=Ns,Ns=n,Fs=r}function kh(n,r,a){Et[Tt++]=hn,Et[Tt++]=dn,Et[Tt++]=Xn,Xn=n;var u=hn;n=dn;var d=32-zt(u)-1;u&=~(1<<d),a+=1;var p=32-zt(r)+d;if(30<p){var x=d-d%5;p=(u&(1<<x)-1).toString(32),u>>=x,d-=x,hn=1<<32-zt(r)+d|a<<d|u,dn=p+n}else hn=1<<p|a<<d|u,dn=n}function Va(n){n.return!==null&&(qn(n,1),kh(n,1,0))}function Ha(n){for(;n===Ns;)Ns=Tr[--br],Tr[br]=null,Fs=Tr[--br],Tr[br]=null;for(;n===Xn;)Xn=Et[--Tt],Et[Tt]=null,dn=Et[--Tt],Et[Tt]=null,hn=Et[--Tt],Et[Tt]=null}var vt=null,wt=null,Me=!1,Dt=null;function Ph(n,r){var a=Rt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function Eh(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,vt=n,wt=Mn(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,vt=n,wt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Xn!==null?{id:hn,overflow:dn}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Rt(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,vt=n,wt=null,!0):!1;default:return!1}}function Wa(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ja(n){if(Me){var r=wt;if(r){var a=r;if(!Eh(n,r)){if(Wa(n))throw Error(t(418));r=Mn(a.nextSibling);var u=vt;r&&Eh(n,r)?Ph(u,a):(n.flags=n.flags&-4097|2,Me=!1,vt=n)}}else{if(Wa(n))throw Error(t(418));n.flags=n.flags&-4097|2,Me=!1,vt=n}}}function Th(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vt=n}function zs(n){if(n!==vt)return!1;if(!Me)return Th(n),Me=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Fa(n.type,n.memoizedProps)),r&&(r=wt)){if(Wa(n))throw bh(),Error(t(418));for(;r;)Ph(n,r),r=Mn(r.nextSibling)}if(Th(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){wt=Mn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}wt=null}}else wt=vt?Mn(n.stateNode.nextSibling):null;return!0}function bh(){for(var n=wt;n;)n=Mn(n.nextSibling)}function Ar(){wt=vt=null,Me=!1}function $a(n){Dt===null?Dt=[n]:Dt.push(n)}var yy=A.ReactCurrentBatchConfig;function vi(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var u=a.stateNode}if(!u)throw Error(t(147,n));var d=u,p=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(x){var C=d.refs;x===null?delete C[p]:C[p]=x},r._stringRef=p,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Os(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Ah(n){var r=n._init;return r(n._payload)}function Mh(n){function r(B,T){if(n){var L=B.deletions;L===null?(B.deletions=[T],B.flags|=16):L.push(T)}}function a(B,T){if(!n)return null;for(;T!==null;)r(B,T),T=T.sibling;return null}function u(B,T){for(B=new Map;T!==null;)T.key!==null?B.set(T.key,T):B.set(T.index,T),T=T.sibling;return B}function d(B,T){return B=Gn(B,T),B.index=0,B.sibling=null,B}function p(B,T,L){return B.index=L,n?(L=B.alternate,L!==null?(L=L.index,L<T?(B.flags|=2,T):L):(B.flags|=2,T)):(B.flags|=1048576,T)}function x(B){return n&&B.alternate===null&&(B.flags|=2),B}function C(B,T,L,H){return T===null||T.tag!==6?(T=zl(L,B.mode,H),T.return=B,T):(T=d(T,L),T.return=B,T)}function P(B,T,L,H){var ne=L.type;return ne===z?U(B,T,L.props.children,H,L.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===X&&Ah(ne)===T.type)?(H=d(T,L.props),H.ref=vi(B,T,L),H.return=B,H):(H=lo(L.type,L.key,L.props,null,B.mode,H),H.ref=vi(B,T,L),H.return=B,H)}function N(B,T,L,H){return T===null||T.tag!==4||T.stateNode.containerInfo!==L.containerInfo||T.stateNode.implementation!==L.implementation?(T=Ol(L,B.mode,H),T.return=B,T):(T=d(T,L.children||[]),T.return=B,T)}function U(B,T,L,H,ne){return T===null||T.tag!==7?(T=rr(L,B.mode,H,ne),T.return=B,T):(T=d(T,L),T.return=B,T)}function G(B,T,L){if(typeof T=="string"&&T!==""||typeof T=="number")return T=zl(""+T,B.mode,L),T.return=B,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case F:return L=lo(T.type,T.key,T.props,null,B.mode,L),L.ref=vi(B,null,T),L.return=B,L;case R:return T=Ol(T,B.mode,L),T.return=B,T;case X:var H=T._init;return G(B,H(T._payload),L)}if(qr(T)||W(T))return T=rr(T,B.mode,L,null),T.return=B,T;Os(B,T)}return null}function D(B,T,L,H){var ne=T!==null?T.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ne!==null?null:C(B,T,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ne?P(B,T,L,H):null;case R:return L.key===ne?N(B,T,L,H):null;case X:return ne=L._init,D(B,T,ne(L._payload),H)}if(qr(L)||W(L))return ne!==null?null:U(B,T,L,H,null);Os(B,L)}return null}function Z(B,T,L,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return B=B.get(L)||null,C(T,B,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case F:return B=B.get(H.key===null?L:H.key)||null,P(T,B,H,ne);case R:return B=B.get(H.key===null?L:H.key)||null,N(T,B,H,ne);case X:var ie=H._init;return Z(B,T,L,ie(H._payload),ne)}if(qr(H)||W(H))return B=B.get(L)||null,U(T,B,H,ne,null);Os(T,H)}return null}function ee(B,T,L,H){for(var ne=null,ie=null,se=T,oe=T=0,Qe=null;se!==null&&oe<L.length;oe++){se.index>oe?(Qe=se,se=null):Qe=se.sibling;var _e=D(B,se,L[oe],H);if(_e===null){se===null&&(se=Qe);break}n&&se&&_e.alternate===null&&r(B,se),T=p(_e,T,oe),ie===null?ne=_e:ie.sibling=_e,ie=_e,se=Qe}if(oe===L.length)return a(B,se),Me&&qn(B,oe),ne;if(se===null){for(;oe<L.length;oe++)se=G(B,L[oe],H),se!==null&&(T=p(se,T,oe),ie===null?ne=se:ie.sibling=se,ie=se);return Me&&qn(B,oe),ne}for(se=u(B,se);oe<L.length;oe++)Qe=Z(se,B,oe,L[oe],H),Qe!==null&&(n&&Qe.alternate!==null&&se.delete(Qe.key===null?oe:Qe.key),T=p(Qe,T,oe),ie===null?ne=Qe:ie.sibling=Qe,ie=Qe);return n&&se.forEach(function(Vn){return r(B,Vn)}),Me&&qn(B,oe),ne}function te(B,T,L,H){var ne=W(L);if(typeof ne!="function")throw Error(t(150));if(L=ne.call(L),L==null)throw Error(t(151));for(var ie=ne=null,se=T,oe=T=0,Qe=null,_e=L.next();se!==null&&!_e.done;oe++,_e=L.next()){se.index>oe?(Qe=se,se=null):Qe=se.sibling;var Vn=D(B,se,_e.value,H);if(Vn===null){se===null&&(se=Qe);break}n&&se&&Vn.alternate===null&&r(B,se),T=p(Vn,T,oe),ie===null?ne=Vn:ie.sibling=Vn,ie=Vn,se=Qe}if(_e.done)return a(B,se),Me&&qn(B,oe),ne;if(se===null){for(;!_e.done;oe++,_e=L.next())_e=G(B,_e.value,H),_e!==null&&(T=p(_e,T,oe),ie===null?ne=_e:ie.sibling=_e,ie=_e);return Me&&qn(B,oe),ne}for(se=u(B,se);!_e.done;oe++,_e=L.next())_e=Z(se,B,oe,_e.value,H),_e!==null&&(n&&_e.alternate!==null&&se.delete(_e.key===null?oe:_e.key),T=p(_e,T,oe),ie===null?ne=_e:ie.sibling=_e,ie=_e);return n&&se.forEach(function(Qy){return r(B,Qy)}),Me&&qn(B,oe),ne}function Ue(B,T,L,H){if(typeof L=="object"&&L!==null&&L.type===z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:e:{for(var ne=L.key,ie=T;ie!==null;){if(ie.key===ne){if(ne=L.type,ne===z){if(ie.tag===7){a(B,ie.sibling),T=d(ie,L.props.children),T.return=B,B=T;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===X&&Ah(ne)===ie.type){a(B,ie.sibling),T=d(ie,L.props),T.ref=vi(B,ie,L),T.return=B,B=T;break e}a(B,ie);break}else r(B,ie);ie=ie.sibling}L.type===z?(T=rr(L.props.children,B.mode,H,L.key),T.return=B,B=T):(H=lo(L.type,L.key,L.props,null,B.mode,H),H.ref=vi(B,T,L),H.return=B,B=H)}return x(B);case R:e:{for(ie=L.key;T!==null;){if(T.key===ie)if(T.tag===4&&T.stateNode.containerInfo===L.containerInfo&&T.stateNode.implementation===L.implementation){a(B,T.sibling),T=d(T,L.children||[]),T.return=B,B=T;break e}else{a(B,T);break}else r(B,T);T=T.sibling}T=Ol(L,B.mode,H),T.return=B,B=T}return x(B);case X:return ie=L._init,Ue(B,T,ie(L._payload),H)}if(qr(L))return ee(B,T,L,H);if(W(L))return te(B,T,L,H);Os(B,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,T!==null&&T.tag===6?(a(B,T.sibling),T=d(T,L),T.return=B,B=T):(a(B,T),T=zl(L,B.mode,H),T.return=B,B=T),x(B)):a(B,T)}return Ue}var Mr=Mh(!0),Rh=Mh(!1),Ds=Rn(null),Us=null,Rr=null,Ya=null;function Xa(){Ya=Rr=Us=null}function qa(n){var r=Ds.current;Ae(Ds),n._currentValue=r}function Qa(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Ir(n,r){Us=n,Ya=Rr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(ft=!0),n.firstContext=null)}function bt(n){var r=n._currentValue;if(Ya!==n)if(n={context:n,memoizedValue:r,next:null},Rr===null){if(Us===null)throw Error(t(308));Rr=n,Us.dependencies={lanes:0,firstContext:n}}else Rr=Rr.next=n;return r}var Qn=null;function Ka(n){Qn===null?Qn=[n]:Qn.push(n)}function Ih(n,r,a,u){var d=r.interleaved;return d===null?(a.next=a,Ka(r)):(a.next=d.next,d.next=a),r.interleaved=a,fn(n,u)}function fn(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ln=!1;function Za(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bh(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Nn(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ye&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,fn(n,a)}return d=u.interleaved,d===null?(r.next=r,Ka(u)):(r.next=d.next,d.next=r),u.interleaved=r,fn(n,a)}function Gs(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,da(n,a)}}function Lh(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=x:p=p.next=x,a=a.next}while(a!==null);p===null?d=p=r:p=p.next=r}else d=p=r;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function Vs(n,r,a,u){var d=n.updateQueue;Ln=!1;var p=d.firstBaseUpdate,x=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var P=C,N=P.next;P.next=null,x===null?p=N:x.next=N,x=P;var U=n.alternate;U!==null&&(U=U.updateQueue,C=U.lastBaseUpdate,C!==x&&(C===null?U.firstBaseUpdate=N:C.next=N,U.lastBaseUpdate=P))}if(p!==null){var G=d.baseState;x=0,U=N=P=null,C=p;do{var D=C.lane,Z=C.eventTime;if((u&D)===D){U!==null&&(U=U.next={eventTime:Z,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ee=n,te=C;switch(D=r,Z=a,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){G=ee.call(Z,G,D);break e}G=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,D=typeof ee=="function"?ee.call(Z,G,D):ee,D==null)break e;G=q({},G,D);break e;case 2:Ln=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,D=d.effects,D===null?d.effects=[C]:D.push(C))}else Z={eventTime:Z,lane:D,tag:C.tag,payload:C.payload,callback:C.callback,next:null},U===null?(N=U=Z,P=G):U=U.next=Z,x|=D;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;D=C,C=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);if(U===null&&(P=G),d.baseState=P,d.firstBaseUpdate=N,d.lastBaseUpdate=U,r=d.shared.interleaved,r!==null){d=r;do x|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);Jn|=x,n.lanes=x,n.memoizedState=G}}function Nh(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var u=n[r],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(t(191,d));d.call(u)}}}var wi={},en=Rn(wi),Si=Rn(wi),Ci=Rn(wi);function Kn(n){if(n===wi)throw Error(t(174));return n}function Ja(n,r){switch(Te(Ci,r),Te(Si,n),Te(en,wi),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ea(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=ea(r,n)}Ae(en),Te(en,r)}function Br(){Ae(en),Ae(Si),Ae(Ci)}function Fh(n){Kn(Ci.current);var r=Kn(en.current),a=ea(r,n.type);r!==a&&(Te(Si,n),Te(en,a))}function el(n){Si.current===n&&(Ae(en),Ae(Si))}var Re=Rn(0);function Hs(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tl=[];function nl(){for(var n=0;n<tl.length;n++)tl[n]._workInProgressVersionPrimary=null;tl.length=0}var Ws=A.ReactCurrentDispatcher,rl=A.ReactCurrentBatchConfig,Zn=0,Ie=null,We=null,Xe=null,js=!1,ki=!1,Pi=0,xy=0;function rt(){throw Error(t(321))}function il(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Ot(n[a],r[a]))return!1;return!0}function sl(n,r,a,u,d,p){if(Zn=p,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ws.current=n===null||n.memoizedState===null?Sy:Cy,n=a(u,d),ki){p=0;do{if(ki=!1,Pi=0,25<=p)throw Error(t(301));p+=1,Xe=We=null,r.updateQueue=null,Ws.current=ky,n=a(u,d)}while(ki)}if(Ws.current=Xs,r=We!==null&&We.next!==null,Zn=0,Xe=We=Ie=null,js=!1,r)throw Error(t(300));return n}function ol(){var n=Pi!==0;return Pi=0,n}function tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ie.memoizedState=Xe=n:Xe=Xe.next=n,Xe}function At(){if(We===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=Xe===null?Ie.memoizedState:Xe.next;if(r!==null)Xe=r,We=n;else{if(n===null)throw Error(t(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Xe===null?Ie.memoizedState=Xe=n:Xe=Xe.next=n}return Xe}function Ei(n,r){return typeof r=="function"?r(n):r}function al(n){var r=At(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var u=We,d=u.baseQueue,p=a.pending;if(p!==null){if(d!==null){var x=d.next;d.next=p.next,p.next=x}u.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,u=u.baseState;var C=x=null,P=null,N=p;do{var U=N.lane;if((Zn&U)===U)P!==null&&(P=P.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),u=N.hasEagerState?N.eagerState:n(u,N.action);else{var G={lane:U,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};P===null?(C=P=G,x=u):P=P.next=G,Ie.lanes|=U,Jn|=U}N=N.next}while(N!==null&&N!==p);P===null?x=u:P.next=C,Ot(u,r.memoizedState)||(ft=!0),r.memoizedState=u,r.baseState=x,r.baseQueue=P,a.lastRenderedState=u}if(n=a.interleaved,n!==null){d=n;do p=d.lane,Ie.lanes|=p,Jn|=p,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function ll(n){var r=At(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var u=a.dispatch,d=a.pending,p=r.memoizedState;if(d!==null){a.pending=null;var x=d=d.next;do p=n(p,x.action),x=x.next;while(x!==d);Ot(p,r.memoizedState)||(ft=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,u]}function zh(){}function Oh(n,r){var a=Ie,u=At(),d=r(),p=!Ot(u.memoizedState,d);if(p&&(u.memoizedState=d,ft=!0),u=u.queue,ul(Gh.bind(null,a,u,n),[n]),u.getSnapshot!==r||p||Xe!==null&&Xe.memoizedState.tag&1){if(a.flags|=2048,Ti(9,Uh.bind(null,a,u,d,r),void 0,null),qe===null)throw Error(t(349));(Zn&30)!==0||Dh(a,r,d)}return d}function Dh(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r={lastEffect:null,stores:null},Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Uh(n,r,a,u){r.value=a,r.getSnapshot=u,Vh(r)&&Hh(n)}function Gh(n,r,a){return a(function(){Vh(r)&&Hh(n)})}function Vh(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Ot(n,a)}catch{return!0}}function Hh(n){var r=fn(n,1);r!==null&&Ht(r,n,1,-1)}function Wh(n){var r=tn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},r.queue=n,n=n.dispatch=wy.bind(null,Ie,n),[r.memoizedState,n]}function Ti(n,r,a,u){return n={tag:n,create:r,destroy:a,deps:u,next:null},r=Ie.updateQueue,r===null?(r={lastEffect:null,stores:null},Ie.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n)),n}function jh(){return At().memoizedState}function $s(n,r,a,u){var d=tn();Ie.flags|=n,d.memoizedState=Ti(1|r,a,void 0,u===void 0?null:u)}function Ys(n,r,a,u){var d=At();u=u===void 0?null:u;var p=void 0;if(We!==null){var x=We.memoizedState;if(p=x.destroy,u!==null&&il(u,x.deps)){d.memoizedState=Ti(r,a,p,u);return}}Ie.flags|=n,d.memoizedState=Ti(1|r,a,p,u)}function $h(n,r){return $s(8390656,8,n,r)}function ul(n,r){return Ys(2048,8,n,r)}function Yh(n,r){return Ys(4,2,n,r)}function Xh(n,r){return Ys(4,4,n,r)}function qh(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Qh(n,r,a){return a=a!=null?a.concat([n]):null,Ys(4,4,qh.bind(null,r,n),a)}function cl(){}function Kh(n,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;return u!==null&&r!==null&&il(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function Zh(n,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;return u!==null&&r!==null&&il(r,u[1])?u[0]:(n=n(),a.memoizedState=[n,r],n)}function Jh(n,r,a){return(Zn&21)===0?(n.baseState&&(n.baseState=!1,ft=!0),n.memoizedState=a):(Ot(a,r)||(a=Ac(),Ie.lanes|=a,Jn|=a,n.baseState=!0),r)}function _y(n,r){var a=Ce;Ce=a!==0&&4>a?a:4,n(!0);var u=rl.transition;rl.transition={};try{n(!1),r()}finally{Ce=a,rl.transition=u}}function ed(){return At().memoizedState}function vy(n,r,a){var u=Dn(n);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},td(n))nd(r,a);else if(a=Ih(n,r,a,u),a!==null){var d=lt();Ht(a,n,u,d),rd(a,r,u)}}function wy(n,r,a){var u=Dn(n),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(td(n))nd(r,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,C=p(x,a);if(d.hasEagerState=!0,d.eagerState=C,Ot(C,x)){var P=r.interleaved;P===null?(d.next=d,Ka(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}a=Ih(n,r,d,u),a!==null&&(d=lt(),Ht(a,n,u,d),rd(a,r,u))}}function td(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function nd(n,r){ki=js=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function rd(n,r,a){if((a&4194240)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,da(n,a)}}var Xs={readContext:bt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Sy={readContext:bt,useCallback:function(n,r){return tn().memoizedState=[n,r===void 0?null:r],n},useContext:bt,useEffect:$h,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,$s(4194308,4,qh.bind(null,r,n),a)},useLayoutEffect:function(n,r){return $s(4194308,4,n,r)},useInsertionEffect:function(n,r){return $s(4,2,n,r)},useMemo:function(n,r){var a=tn();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var u=tn();return r=a!==void 0?a(r):r,u.memoizedState=u.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},u.queue=n,n=n.dispatch=vy.bind(null,Ie,n),[u.memoizedState,n]},useRef:function(n){var r=tn();return n={current:n},r.memoizedState=n},useState:Wh,useDebugValue:cl,useDeferredValue:function(n){return tn().memoizedState=n},useTransition:function(){var n=Wh(!1),r=n[0];return n=_y.bind(null,n[1]),tn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var u=Ie,d=tn();if(Me){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),qe===null)throw Error(t(349));(Zn&30)!==0||Dh(u,r,a)}d.memoizedState=a;var p={value:a,getSnapshot:r};return d.queue=p,$h(Gh.bind(null,u,p,n),[n]),u.flags|=2048,Ti(9,Uh.bind(null,u,p,a,r),void 0,null),a},useId:function(){var n=tn(),r=qe.identifierPrefix;if(Me){var a=dn,u=hn;a=(u&~(1<<32-zt(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Pi++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=xy++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Cy={readContext:bt,useCallback:Kh,useContext:bt,useEffect:ul,useImperativeHandle:Qh,useInsertionEffect:Yh,useLayoutEffect:Xh,useMemo:Zh,useReducer:al,useRef:jh,useState:function(){return al(Ei)},useDebugValue:cl,useDeferredValue:function(n){var r=At();return Jh(r,We.memoizedState,n)},useTransition:function(){var n=al(Ei)[0],r=At().memoizedState;return[n,r]},useMutableSource:zh,useSyncExternalStore:Oh,useId:ed,unstable_isNewReconciler:!1},ky={readContext:bt,useCallback:Kh,useContext:bt,useEffect:ul,useImperativeHandle:Qh,useInsertionEffect:Yh,useLayoutEffect:Xh,useMemo:Zh,useReducer:ll,useRef:jh,useState:function(){return ll(Ei)},useDebugValue:cl,useDeferredValue:function(n){var r=At();return We===null?r.memoizedState=n:Jh(r,We.memoizedState,n)},useTransition:function(){var n=ll(Ei)[0],r=At().memoizedState;return[n,r]},useMutableSource:zh,useSyncExternalStore:Oh,useId:ed,unstable_isNewReconciler:!1};function Ut(n,r){if(n&&n.defaultProps){r=q({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function hl(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:q({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var qs={isMounted:function(n){return(n=n._reactInternals)?jn(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=lt(),d=Dn(n),p=pn(u,d);p.payload=r,a!=null&&(p.callback=a),r=Nn(n,p,d),r!==null&&(Ht(r,n,d,u),Gs(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=lt(),d=Dn(n),p=pn(u,d);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Nn(n,p,d),r!==null&&(Ht(r,n,d,u),Gs(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=lt(),u=Dn(n),d=pn(a,u);d.tag=2,r!=null&&(d.callback=r),r=Nn(n,d,u),r!==null&&(Ht(r,n,u,a),Gs(r,n,u))}};function id(n,r,a,u,d,p,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,x):r.prototype&&r.prototype.isPureReactComponent?!fi(a,u)||!fi(d,p):!0}function sd(n,r,a){var u=!1,d=In,p=r.contextType;return typeof p=="object"&&p!==null?p=bt(p):(d=dt(r)?Yn:nt.current,u=r.contextTypes,p=(u=u!=null)?Er(n,d):In),r=new r(a,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=qs,n.stateNode=r,r._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),r}function od(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&qs.enqueueReplaceState(r,r.state,null)}function dl(n,r,a,u){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Za(n);var p=r.contextType;typeof p=="object"&&p!==null?d.context=bt(p):(p=dt(r)?Yn:nt.current,d.context=Er(n,p)),d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(hl(n,r,p,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&qs.enqueueReplaceState(d,d.state,null),Vs(n,a,d,u),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Lr(n,r){try{var a="",u=r;do a+=fe(u),u=u.return;while(u);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:r,stack:d,digest:null}}function fl(n,r,a){return{value:n,source:null,stack:a??null,digest:r??null}}function pl(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Py=typeof WeakMap=="function"?WeakMap:Map;function ad(n,r,a){a=pn(-1,a),a.tag=3,a.payload={element:null};var u=r.value;return a.callback=function(){no||(no=!0,Al=u),pl(n,r)},a}function ld(n,r,a){a=pn(-1,a),a.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;a.payload=function(){return u(d)},a.callback=function(){pl(n,r)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){pl(n,r),typeof u!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),a}function ud(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new Py;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(a)||(d.add(a),n=Dy.bind(null,n,r,a),r.then(n,n))}function cd(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function hd(n,r,a,u,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=pn(-1,1),r.tag=2,Nn(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var Ey=A.ReactCurrentOwner,ft=!1;function at(n,r,a,u){r.child=n===null?Rh(r,null,a,u):Mr(r,n.child,a,u)}function dd(n,r,a,u,d){a=a.render;var p=r.ref;return Ir(r,d),u=sl(n,r,a,u,p,d),a=ol(),n!==null&&!ft?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,mn(n,r,d)):(Me&&a&&Va(r),r.flags|=1,at(n,r,u,d),r.child)}function fd(n,r,a,u,d){if(n===null){var p=a.type;return typeof p=="function"&&!Fl(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,pd(n,r,p,u,d)):(n=lo(a.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,(n.lanes&d)===0){var x=p.memoizedProps;if(a=a.compare,a=a!==null?a:fi,a(x,u)&&n.ref===r.ref)return mn(n,r,d)}return r.flags|=1,n=Gn(p,u),n.ref=r.ref,n.return=r,r.child=n}function pd(n,r,a,u,d){if(n!==null){var p=n.memoizedProps;if(fi(p,u)&&n.ref===r.ref)if(ft=!1,r.pendingProps=u=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(ft=!0);else return r.lanes=n.lanes,mn(n,r,d)}return ml(n,r,a,u,d)}function md(n,r,a){var u=r.pendingProps,d=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Fr,St),St|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Te(Fr,St),St|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,Te(Fr,St),St|=u}else p!==null?(u=p.baseLanes|a,r.memoizedState=null):u=a,Te(Fr,St),St|=u;return at(n,r,d,a),r.child}function gd(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function ml(n,r,a,u,d){var p=dt(a)?Yn:nt.current;return p=Er(r,p),Ir(r,d),a=sl(n,r,a,u,p,d),u=ol(),n!==null&&!ft?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,mn(n,r,d)):(Me&&u&&Va(r),r.flags|=1,at(n,r,a,d),r.child)}function yd(n,r,a,u,d){if(dt(a)){var p=!0;Bs(r)}else p=!1;if(Ir(r,d),r.stateNode===null)Ks(n,r),sd(r,a,u),dl(r,a,u,d),u=!0;else if(n===null){var x=r.stateNode,C=r.memoizedProps;x.props=C;var P=x.context,N=a.contextType;typeof N=="object"&&N!==null?N=bt(N):(N=dt(a)?Yn:nt.current,N=Er(r,N));var U=a.getDerivedStateFromProps,G=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function";G||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==u||P!==N)&&od(r,x,u,N),Ln=!1;var D=r.memoizedState;x.state=D,Vs(r,u,x,d),P=r.memoizedState,C!==u||D!==P||ht.current||Ln?(typeof U=="function"&&(hl(r,a,U,u),P=r.memoizedState),(C=Ln||id(r,a,C,u,D,P,N))?(G||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),x.props=u,x.state=P,x.context=N,u=C):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,Bh(n,r),C=r.memoizedProps,N=r.type===r.elementType?C:Ut(r.type,C),x.props=N,G=r.pendingProps,D=x.context,P=a.contextType,typeof P=="object"&&P!==null?P=bt(P):(P=dt(a)?Yn:nt.current,P=Er(r,P));var Z=a.getDerivedStateFromProps;(U=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==G||D!==P)&&od(r,x,u,P),Ln=!1,D=r.memoizedState,x.state=D,Vs(r,u,x,d);var ee=r.memoizedState;C!==G||D!==ee||ht.current||Ln?(typeof Z=="function"&&(hl(r,a,Z,u),ee=r.memoizedState),(N=Ln||id(r,a,N,u,D,ee,P)||!1)?(U||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,ee,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,ee,P)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&D===n.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&D===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ee),x.props=u,x.state=ee,x.context=P,u=N):(typeof x.componentDidUpdate!="function"||C===n.memoizedProps&&D===n.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&D===n.memoizedState||(r.flags|=1024),u=!1)}return gl(n,r,a,u,p,d)}function gl(n,r,a,u,d,p){gd(n,r);var x=(r.flags&128)!==0;if(!u&&!x)return d&&Sh(r,a,!1),mn(n,r,p);u=r.stateNode,Ey.current=r;var C=x&&typeof a.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,n!==null&&x?(r.child=Mr(r,n.child,null,p),r.child=Mr(r,null,C,p)):at(n,r,C,p),r.memoizedState=u.state,d&&Sh(r,a,!0),r.child}function xd(n){var r=n.stateNode;r.pendingContext?vh(n,r.pendingContext,r.pendingContext!==r.context):r.context&&vh(n,r.context,!1),Ja(n,r.containerInfo)}function _d(n,r,a,u,d){return Ar(),$a(d),r.flags|=256,at(n,r,a,u),r.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function xl(n){return{baseLanes:n,cachePool:null,transitions:null}}function vd(n,r,a){var u=r.pendingProps,d=Re.current,p=!1,x=(r.flags&128)!==0,C;if((C=x)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(p=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Te(Re,d&1),n===null)return ja(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=u.children,n=u.fallback,p?(u=r.mode,p=r.child,x={mode:"hidden",children:x},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=x):p=uo(x,u,0,null),n=rr(n,u,a,null),p.return=r,n.return=r,p.sibling=n,r.child=p,r.child.memoizedState=xl(a),r.memoizedState=yl,n):_l(r,x));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return Ty(n,r,x,u,C,d,a);if(p){p=u.fallback,x=r.mode,d=n.child,C=d.sibling;var P={mode:"hidden",children:u.children};return(x&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Gn(d,P),u.subtreeFlags=d.subtreeFlags&14680064),C!==null?p=Gn(C,p):(p=rr(p,x,a,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,x=n.child.memoizedState,x=x===null?xl(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},p.memoizedState=x,p.childLanes=n.childLanes&~a,r.memoizedState=yl,u}return p=n.child,n=p.sibling,u=Gn(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=a),u.return=r,u.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=u,r.memoizedState=null,u}function _l(n,r){return r=uo({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Qs(n,r,a,u){return u!==null&&$a(u),Mr(r,n.child,null,a),n=_l(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ty(n,r,a,u,d,p,x){if(a)return r.flags&256?(r.flags&=-257,u=fl(Error(t(422))),Qs(n,r,x,u)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(p=u.fallback,d=r.mode,u=uo({mode:"visible",children:u.children},d,0,null),p=rr(p,d,x,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&Mr(r,n.child,null,x),r.child.memoizedState=xl(x),r.memoizedState=yl,p);if((r.mode&1)===0)return Qs(n,r,x,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var C=u.dgst;return u=C,p=Error(t(419)),u=fl(p,u,void 0),Qs(n,r,x,u)}if(C=(x&n.childLanes)!==0,ft||C){if(u=qe,u!==null){switch(x&-x){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|x))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,fn(n,d),Ht(u,n,d,-1))}return Nl(),u=fl(Error(t(421))),Qs(n,r,x,u)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=Uy.bind(null,n),d._reactRetry=r,null):(n=p.treeContext,wt=Mn(d.nextSibling),vt=r,Me=!0,Dt=null,n!==null&&(Et[Tt++]=hn,Et[Tt++]=dn,Et[Tt++]=Xn,hn=n.id,dn=n.overflow,Xn=r),r=_l(r,u.children),r.flags|=4096,r)}function wd(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Qa(n.return,r,a)}function vl(n,r,a,u,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=d)}function Sd(n,r,a){var u=r.pendingProps,d=u.revealOrder,p=u.tail;if(at(n,r,u.children,a),u=Re.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wd(n,a,r);else if(n.tag===19)wd(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(Te(Re,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Hs(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),vl(r,!1,d,a,p);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Hs(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}vl(r,!0,a,null,p);break;case"together":vl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ks(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function mn(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Jn|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=Gn(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Gn(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function by(n,r,a){switch(r.tag){case 3:xd(r),Ar();break;case 5:Fh(r);break;case 1:dt(r.type)&&Bs(r);break;case 4:Ja(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;Te(Ds,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Te(Re,Re.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?vd(n,r,a):(Te(Re,Re.current&1),n=mn(n,r,a),n!==null?n.sibling:null);Te(Re,Re.current&1);break;case 19:if(u=(a&r.childLanes)!==0,(n.flags&128)!==0){if(u)return Sd(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Te(Re,Re.current),u)break;return null;case 22:case 23:return r.lanes=0,md(n,r,a)}return mn(n,r,a)}var Cd,wl,kd,Pd;Cd=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},wl=function(){},kd=function(n,r,a,u){var d=n.memoizedProps;if(d!==u){n=r.stateNode,Kn(en.current);var p=null;switch(a){case"input":d=Ft(n,d),u=Ft(n,u),p=[];break;case"select":d=q({},d,{value:void 0}),u=q({},u,{value:void 0}),p=[];break;case"textarea":d=Jo(n,d),u=Jo(n,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=Ms)}ta(a,u);var x;a=null;for(N in d)if(!u.hasOwnProperty(N)&&d.hasOwnProperty(N)&&d[N]!=null)if(N==="style"){var C=d[N];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?p||(p=[]):(p=p||[]).push(N,null));for(N in u){var P=u[N];if(C=d?.[N],u.hasOwnProperty(N)&&P!==C&&(P!=null||C!=null))if(N==="style")if(C){for(x in C)!C.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in P)P.hasOwnProperty(x)&&C[x]!==P[x]&&(a||(a={}),a[x]=P[x])}else a||(p||(p=[]),p.push(N,a)),a=P;else N==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(p=p||[]).push(N,P)):N==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(N,""+P):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(P!=null&&N==="onScroll"&&be("scroll",n),p||C===P||(p=[])):(p=p||[]).push(N,P))}a&&(p=p||[]).push("style",a);var N=p;(r.updateQueue=N)&&(r.flags|=4)}},Pd=function(n,r,a,u){a!==u&&(r.flags|=4)};function bi(n,r){if(!Me)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function it(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function Ay(n,r,a){var u=r.pendingProps;switch(Ha(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return dt(r.type)&&Is(),it(r),null;case 3:return u=r.stateNode,Br(),Ae(ht),Ae(nt),nl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(zs(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dt!==null&&(Il(Dt),Dt=null))),wl(n,r),it(r),null;case 5:el(r);var d=Kn(Ci.current);if(a=r.type,n!==null&&r.stateNode!=null)kd(n,r,a,u,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(t(166));return it(r),null}if(n=Kn(en.current),zs(r)){u=r.stateNode,a=r.type;var p=r.memoizedProps;switch(u[Jt]=r,u[xi]=p,n=(r.mode&1)!==0,a){case"dialog":be("cancel",u),be("close",u);break;case"iframe":case"object":case"embed":be("load",u);break;case"video":case"audio":for(d=0;d<mi.length;d++)be(mi[d],u);break;case"source":be("error",u);break;case"img":case"image":case"link":be("error",u),be("load",u);break;case"details":be("toggle",u);break;case"input":Kt(u,p),be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},be("invalid",u);break;case"textarea":lc(u,p),be("invalid",u)}ta(a,p),d=null;for(var x in p)if(p.hasOwnProperty(x)){var C=p[x];x==="children"?typeof C=="string"?u.textContent!==C&&(p.suppressHydrationWarning!==!0&&As(u.textContent,C,n),d=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(p.suppressHydrationWarning!==!0&&As(u.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&be("scroll",u)}switch(a){case"input":Cn(u),os(u,p,!0);break;case"textarea":Cn(u),cc(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ms)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{x=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=hc(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=x.createElement(a,{is:u.is}):(n=x.createElement(a),a==="select"&&(x=n,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):n=x.createElementNS(n,a),n[Jt]=r,n[xi]=u,Cd(n,r,!1,!1),r.stateNode=n;e:{switch(x=na(a,u),a){case"dialog":be("cancel",n),be("close",n),d=u;break;case"iframe":case"object":case"embed":be("load",n),d=u;break;case"video":case"audio":for(d=0;d<mi.length;d++)be(mi[d],n);d=u;break;case"source":be("error",n),d=u;break;case"img":case"image":case"link":be("error",n),be("load",n),d=u;break;case"details":be("toggle",n),d=u;break;case"input":Kt(n,u),d=Ft(n,u),be("invalid",n);break;case"option":d=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},d=q({},u,{value:void 0}),be("invalid",n);break;case"textarea":lc(n,u),d=Jo(n,u),be("invalid",n);break;default:d=u}ta(a,d),C=d;for(p in C)if(C.hasOwnProperty(p)){var P=C[p];p==="style"?pc(n,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&dc(n,P)):p==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Qr(n,P):typeof P=="number"&&Qr(n,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?P!=null&&p==="onScroll"&&be("scroll",n):P!=null&&E(n,p,P,x))}switch(a){case"input":Cn(n),os(n,u,!1);break;case"textarea":Cn(n),cc(n);break;case"option":u.value!=null&&n.setAttribute("value",""+xe(u.value));break;case"select":n.multiple=!!u.multiple,p=u.value,p!=null?pr(n,!!u.multiple,p,!1):u.defaultValue!=null&&pr(n,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Ms)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return it(r),null;case 6:if(n&&r.stateNode!=null)Pd(n,r,n.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(t(166));if(a=Kn(Ci.current),Kn(en.current),zs(r)){if(u=r.stateNode,a=r.memoizedProps,u[Jt]=r,(p=u.nodeValue!==a)&&(n=vt,n!==null))switch(n.tag){case 3:As(u.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&As(u.nodeValue,a,(n.mode&1)!==0)}p&&(r.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[Jt]=r,r.stateNode=u}return it(r),null;case 13:if(Ae(Re),u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Me&&wt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)bh(),Ar(),r.flags|=98560,p=!1;else if(p=zs(r),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Jt]=r}else Ar(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),p=!1}else Dt!==null&&(Il(Dt),Dt=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Re.current&1)!==0?je===0&&(je=3):Nl())),r.updateQueue!==null&&(r.flags|=4),it(r),null);case 4:return Br(),wl(n,r),n===null&&gi(r.stateNode.containerInfo),it(r),null;case 10:return qa(r.type._context),it(r),null;case 17:return dt(r.type)&&Is(),it(r),null;case 19:if(Ae(Re),p=r.memoizedState,p===null)return it(r),null;if(u=(r.flags&128)!==0,x=p.rendering,x===null)if(u)bi(p,!1);else{if(je!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(x=Hs(n),x!==null){for(r.flags|=128,bi(p,!1),u=x.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=a,a=r.child;a!==null;)p=a,n=u,p.flags&=14680066,x=p.alternate,x===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,p.type=x.type,n=x.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Te(Re,Re.current&1|2),r.child}n=n.sibling}p.tail!==null&&De()>zr&&(r.flags|=128,u=!0,bi(p,!1),r.lanes=4194304)}else{if(!u)if(n=Hs(x),n!==null){if(r.flags|=128,u=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),bi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Me)return it(r),null}else 2*De()-p.renderingStartTime>zr&&a!==1073741824&&(r.flags|=128,u=!0,bi(p,!1),r.lanes=4194304);p.isBackwards?(x.sibling=r.child,r.child=x):(a=p.last,a!==null?a.sibling=x:r.child=x,p.last=x)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=De(),r.sibling=null,a=Re.current,Te(Re,u?a&1|2:a&1),r):(it(r),null);case 22:case 23:return Ll(),u=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(St&1073741824)!==0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function My(n,r){switch(Ha(r),r.tag){case 1:return dt(r.type)&&Is(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Br(),Ae(ht),Ae(nt),nl(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return el(r),null;case 13:if(Ae(Re),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Ar()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ae(Re),null;case 4:return Br(),null;case 10:return qa(r.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var Zs=!1,st=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,J=null;function Nr(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Le(n,r,u)}else a.current=null}function Sl(n,r,a){try{a()}catch(u){Le(n,r,u)}}var Ed=!1;function Iy(n,r){if(La=xs,n=ih(),Ea(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var x=0,C=-1,P=-1,N=0,U=0,G=n,D=null;t:for(;;){for(var Z;G!==a||d!==0&&G.nodeType!==3||(C=x+d),G!==p||u!==0&&G.nodeType!==3||(P=x+u),G.nodeType===3&&(x+=G.nodeValue.length),(Z=G.firstChild)!==null;)D=G,G=Z;for(;;){if(G===n)break t;if(D===a&&++N===d&&(C=x),D===p&&++U===u&&(P=x),(Z=G.nextSibling)!==null)break;G=D,D=G.parentNode}G=Z}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Na={focusedElem:n,selectionRange:a},xs=!1,J=r;J!==null;)if(r=J,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,J=n;else for(;J!==null;){r=J;try{var ee=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Ue=ee.memoizedState,B=r.stateNode,T=B.getSnapshotBeforeUpdate(r.elementType===r.type?te:Ut(r.type,te),Ue);B.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var L=r.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(H){Le(r,r.return,H)}if(n=r.sibling,n!==null){n.return=r.return,J=n;break}J=r.return}return ee=Ed,Ed=!1,ee}function Ai(n,r,a){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Sl(r,a,p)}d=d.next}while(d!==u)}}function Js(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var u=a.create;a.destroy=u()}a=a.next}while(a!==r)}}function Cl(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Td(n){var r=n.alternate;r!==null&&(n.alternate=null,Td(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Jt],delete r[xi],delete r[Da],delete r[py],delete r[my])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bd(n){return n.tag===5||n.tag===3||n.tag===4}function Ad(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kl(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ms));else if(u!==4&&(n=n.child,n!==null))for(kl(n,r,a),n=n.sibling;n!==null;)kl(n,r,a),n=n.sibling}function Pl(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(Pl(n,r,a),n=n.sibling;n!==null;)Pl(n,r,a),n=n.sibling}var Je=null,Gt=!1;function Fn(n,r,a){for(a=a.child;a!==null;)Md(n,r,a),a=a.sibling}function Md(n,r,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ds,a)}catch{}switch(a.tag){case 5:st||Nr(a,r);case 6:var u=Je,d=Gt;Je=null,Fn(n,r,a),Je=u,Gt=d,Je!==null&&(Gt?(n=Je,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Je.removeChild(a.stateNode));break;case 18:Je!==null&&(Gt?(n=Je,a=a.stateNode,n.nodeType===8?Oa(n.parentNode,a):n.nodeType===1&&Oa(n,a),ai(n)):Oa(Je,a.stateNode));break;case 4:u=Je,d=Gt,Je=a.stateNode.containerInfo,Gt=!0,Fn(n,r,a),Je=u,Gt=d;break;case 0:case 11:case 14:case 15:if(!st&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,x=p.destroy;p=p.tag,x!==void 0&&((p&2)!==0||(p&4)!==0)&&Sl(a,r,x),d=d.next}while(d!==u)}Fn(n,r,a);break;case 1:if(!st&&(Nr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(C){Le(a,r,C)}Fn(n,r,a);break;case 21:Fn(n,r,a);break;case 22:a.mode&1?(st=(u=st)||a.memoizedState!==null,Fn(n,r,a),st=u):Fn(n,r,a);break;default:Fn(n,r,a)}}function Rd(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Ry),r.forEach(function(u){var d=Gy.bind(null,n,u);a.has(u)||(a.add(u),u.then(d,d))})}}function Vt(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var p=n,x=r,C=x;e:for(;C!==null;){switch(C.tag){case 5:Je=C.stateNode,Gt=!1;break e;case 3:Je=C.stateNode.containerInfo,Gt=!0;break e;case 4:Je=C.stateNode.containerInfo,Gt=!0;break e}C=C.return}if(Je===null)throw Error(t(160));Md(p,x,d),Je=null,Gt=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(N){Le(d,r,N)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Id(r,n),r=r.sibling}function Id(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vt(r,n),nn(n),u&4){try{Ai(3,n,n.return),Js(3,n)}catch(te){Le(n,n.return,te)}try{Ai(5,n,n.return)}catch(te){Le(n,n.return,te)}}break;case 1:Vt(r,n),nn(n),u&512&&a!==null&&Nr(a,a.return);break;case 5:if(Vt(r,n),nn(n),u&512&&a!==null&&Nr(a,a.return),n.flags&32){var d=n.stateNode;try{Qr(d,"")}catch(te){Le(n,n.return,te)}}if(u&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,x=a!==null?a.memoizedProps:p,C=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{C==="input"&&p.type==="radio"&&p.name!=null&&ss(d,p),na(C,x);var N=na(C,p);for(x=0;x<P.length;x+=2){var U=P[x],G=P[x+1];U==="style"?pc(d,G):U==="dangerouslySetInnerHTML"?dc(d,G):U==="children"?Qr(d,G):E(d,U,G,N)}switch(C){case"input":fr(d,p);break;case"textarea":uc(d,p);break;case"select":var D=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?pr(d,!!p.multiple,Z,!1):D!==!!p.multiple&&(p.defaultValue!=null?pr(d,!!p.multiple,p.defaultValue,!0):pr(d,!!p.multiple,p.multiple?[]:"",!1))}d[xi]=p}catch(te){Le(n,n.return,te)}}break;case 6:if(Vt(r,n),nn(n),u&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(te){Le(n,n.return,te)}}break;case 3:if(Vt(r,n),nn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ai(r.containerInfo)}catch(te){Le(n,n.return,te)}break;case 4:Vt(r,n),nn(n);break;case 13:Vt(r,n),nn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(bl=De())),u&4&&Rd(n);break;case 22:if(U=a!==null&&a.memoizedState!==null,n.mode&1?(st=(N=st)||U,Vt(r,n),st=N):Vt(r,n),nn(n),u&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!U&&(n.mode&1)!==0)for(J=n,U=n.child;U!==null;){for(G=J=U;J!==null;){switch(D=J,Z=D.child,D.tag){case 0:case 11:case 14:case 15:Ai(4,D,D.return);break;case 1:Nr(D,D.return);var ee=D.stateNode;if(typeof ee.componentWillUnmount=="function"){u=D,a=D.return;try{r=u,ee.props=r.memoizedProps,ee.state=r.memoizedState,ee.componentWillUnmount()}catch(te){Le(u,a,te)}}break;case 5:Nr(D,D.return);break;case 22:if(D.memoizedState!==null){Nd(G);continue}}Z!==null?(Z.return=D,J=Z):Nd(G)}U=U.sibling}e:for(U=null,G=n;;){if(G.tag===5){if(U===null){U=G;try{d=G.stateNode,N?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(C=G.stateNode,P=G.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=fc("display",x))}catch(te){Le(n,n.return,te)}}}else if(G.tag===6){if(U===null)try{G.stateNode.nodeValue=N?"":G.memoizedProps}catch(te){Le(n,n.return,te)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===n)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===n)break e;for(;G.sibling===null;){if(G.return===null||G.return===n)break e;U===G&&(U=null),G=G.return}U===G&&(U=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Vt(r,n),nn(n),u&4&&Rd(n);break;case 21:break;default:Vt(r,n),nn(n)}}function nn(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(bd(a)){var u=a;break e}a=a.return}throw Error(t(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Qr(d,""),u.flags&=-33);var p=Ad(n);Pl(n,p,d);break;case 3:case 4:var x=u.stateNode.containerInfo,C=Ad(n);kl(n,C,x);break;default:throw Error(t(161))}}catch(P){Le(n,n.return,P)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function By(n,r,a){J=n,Bd(n)}function Bd(n,r,a){for(var u=(n.mode&1)!==0;J!==null;){var d=J,p=d.child;if(d.tag===22&&u){var x=d.memoizedState!==null||Zs;if(!x){var C=d.alternate,P=C!==null&&C.memoizedState!==null||st;C=Zs;var N=st;if(Zs=x,(st=P)&&!N)for(J=d;J!==null;)x=J,P=x.child,x.tag===22&&x.memoizedState!==null?Fd(d):P!==null?(P.return=x,J=P):Fd(d);for(;p!==null;)J=p,Bd(p),p=p.sibling;J=d,Zs=C,st=N}Ld(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,J=p):Ld(n)}}function Ld(n){for(;J!==null;){var r=J;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:st||Js(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!st)if(a===null)u.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Ut(r.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Nh(r,p,u);break;case 3:var x=r.updateQueue;if(x!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}Nh(r,x,a)}break;case 5:var C=r.stateNode;if(a===null&&r.flags&4){a=C;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var N=r.alternate;if(N!==null){var U=N.memoizedState;if(U!==null){var G=U.dehydrated;G!==null&&ai(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}st||r.flags&512&&Cl(r)}catch(D){Le(r,r.return,D)}}if(r===n){J=null;break}if(a=r.sibling,a!==null){a.return=r.return,J=a;break}J=r.return}}function Nd(n){for(;J!==null;){var r=J;if(r===n){J=null;break}var a=r.sibling;if(a!==null){a.return=r.return,J=a;break}J=r.return}}function Fd(n){for(;J!==null;){var r=J;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{Js(4,r)}catch(P){Le(r,a,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(P){Le(r,d,P)}}var p=r.return;try{Cl(r)}catch(P){Le(r,p,P)}break;case 5:var x=r.return;try{Cl(r)}catch(P){Le(r,x,P)}}}catch(P){Le(r,r.return,P)}if(r===n){J=null;break}var C=r.sibling;if(C!==null){C.return=r.return,J=C;break}J=r.return}}var Ly=Math.ceil,eo=A.ReactCurrentDispatcher,El=A.ReactCurrentOwner,Mt=A.ReactCurrentBatchConfig,ye=0,qe=null,Ve=null,et=0,St=0,Fr=Rn(0),je=0,Mi=null,Jn=0,to=0,Tl=0,Ri=null,pt=null,bl=0,zr=1/0,gn=null,no=!1,Al=null,zn=null,ro=!1,On=null,io=0,Ii=0,Ml=null,so=-1,oo=0;function lt(){return(ye&6)!==0?De():so!==-1?so:so=De()}function Dn(n){return(n.mode&1)===0?1:(ye&2)!==0&&et!==0?et&-et:yy.transition!==null?(oo===0&&(oo=Ac()),oo):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:Oc(n.type)),n)}function Ht(n,r,a,u){if(50<Ii)throw Ii=0,Ml=null,Error(t(185));ni(n,a,u),((ye&2)===0||n!==qe)&&(n===qe&&((ye&2)===0&&(to|=a),je===4&&Un(n,et)),mt(n,u),a===1&&ye===0&&(r.mode&1)===0&&(zr=De()+500,Ls&&Bn()))}function mt(n,r){var a=n.callbackNode;yg(n,r);var u=ms(n,n===qe?et:0);if(u===0)a!==null&&Ec(a),n.callbackNode=null,n.callbackPriority=0;else if(r=u&-u,n.callbackPriority!==r){if(a!=null&&Ec(a),r===1)n.tag===0?gy(Od.bind(null,n)):Ch(Od.bind(null,n)),dy(function(){(ye&6)===0&&Bn()}),a=null;else{switch(Mc(u)){case 1:a=ua;break;case 4:a=Tc;break;case 16:a=hs;break;case 536870912:a=bc;break;default:a=hs}a=$d(a,zd.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function zd(n,r){if(so=-1,oo=0,(ye&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Or()&&n.callbackNode!==a)return null;var u=ms(n,n===qe?et:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||r)r=ao(n,u);else{r=u;var d=ye;ye|=2;var p=Ud();(qe!==n||et!==r)&&(gn=null,zr=De()+500,tr(n,r));do try{zy();break}catch(C){Dd(n,C)}while(!0);Xa(),eo.current=p,ye=d,Ve!==null?r=0:(qe=null,et=0,r=je)}if(r!==0){if(r===2&&(d=ca(n),d!==0&&(u=d,r=Rl(n,d))),r===1)throw a=Mi,tr(n,0),Un(n,u),mt(n,De()),a;if(r===6)Un(n,u);else{if(d=n.current.alternate,(u&30)===0&&!Ny(d)&&(r=ao(n,u),r===2&&(p=ca(n),p!==0&&(u=p,r=Rl(n,p))),r===1))throw a=Mi,tr(n,0),Un(n,u),mt(n,De()),a;switch(n.finishedWork=d,n.finishedLanes=u,r){case 0:case 1:throw Error(t(345));case 2:nr(n,pt,gn);break;case 3:if(Un(n,u),(u&130023424)===u&&(r=bl+500-De(),10<r)){if(ms(n,0)!==0)break;if(d=n.suspendedLanes,(d&u)!==u){lt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=za(nr.bind(null,n,pt,gn),r);break}nr(n,pt,gn);break;case 4:if(Un(n,u),(u&4194240)===u)break;for(r=n.eventTimes,d=-1;0<u;){var x=31-zt(u);p=1<<x,x=r[x],x>d&&(d=x),u&=~p}if(u=d,u=De()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ly(u/1960))-u,10<u){n.timeoutHandle=za(nr.bind(null,n,pt,gn),u);break}nr(n,pt,gn);break;case 5:nr(n,pt,gn);break;default:throw Error(t(329))}}}return mt(n,De()),n.callbackNode===a?zd.bind(null,n):null}function Rl(n,r){var a=Ri;return n.current.memoizedState.isDehydrated&&(tr(n,r).flags|=256),n=ao(n,r),n!==2&&(r=pt,pt=a,r!==null&&Il(r)),n}function Il(n){pt===null?pt=n:pt.push.apply(pt,n)}function Ny(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],p=d.getSnapshot;d=d.value;try{if(!Ot(p(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Un(n,r){for(r&=~Tl,r&=~to,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-zt(r),u=1<<a;n[a]=-1,r&=~u}}function Od(n){if((ye&6)!==0)throw Error(t(327));Or();var r=ms(n,0);if((r&1)===0)return mt(n,De()),null;var a=ao(n,r);if(n.tag!==0&&a===2){var u=ca(n);u!==0&&(r=u,a=Rl(n,u))}if(a===1)throw a=Mi,tr(n,0),Un(n,r),mt(n,De()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,nr(n,pt,gn),mt(n,De()),null}function Bl(n,r){var a=ye;ye|=1;try{return n(r)}finally{ye=a,ye===0&&(zr=De()+500,Ls&&Bn())}}function er(n){On!==null&&On.tag===0&&(ye&6)===0&&Or();var r=ye;ye|=1;var a=Mt.transition,u=Ce;try{if(Mt.transition=null,Ce=1,n)return n()}finally{Ce=u,Mt.transition=a,ye=r,(ye&6)===0&&Bn()}}function Ll(){St=Fr.current,Ae(Fr)}function tr(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,hy(a)),Ve!==null)for(a=Ve.return;a!==null;){var u=a;switch(Ha(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Is();break;case 3:Br(),Ae(ht),Ae(nt),nl();break;case 5:el(u);break;case 4:Br();break;case 13:Ae(Re);break;case 19:Ae(Re);break;case 10:qa(u.type._context);break;case 22:case 23:Ll()}a=a.return}if(qe=n,Ve=n=Gn(n.current,null),et=St=r,je=0,Mi=null,Tl=to=Jn=0,pt=Ri=null,Qn!==null){for(r=0;r<Qn.length;r++)if(a=Qn[r],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,p=a.pending;if(p!==null){var x=p.next;p.next=d,u.next=x}a.pending=u}Qn=null}return n}function Dd(n,r){do{var a=Ve;try{if(Xa(),Ws.current=Xs,js){for(var u=Ie.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}js=!1}if(Zn=0,Xe=We=Ie=null,ki=!1,Pi=0,El.current=null,a===null||a.return===null){je=1,Mi=r,Ve=null;break}e:{var p=n,x=a.return,C=a,P=r;if(r=et,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var N=P,U=C,G=U.tag;if((U.mode&1)===0&&(G===0||G===11||G===15)){var D=U.alternate;D?(U.updateQueue=D.updateQueue,U.memoizedState=D.memoizedState,U.lanes=D.lanes):(U.updateQueue=null,U.memoizedState=null)}var Z=cd(x);if(Z!==null){Z.flags&=-257,hd(Z,x,C,p,r),Z.mode&1&&ud(p,N,r),r=Z,P=N;var ee=r.updateQueue;if(ee===null){var te=new Set;te.add(P),r.updateQueue=te}else ee.add(P);break e}else{if((r&1)===0){ud(p,N,r),Nl();break e}P=Error(t(426))}}else if(Me&&C.mode&1){var Ue=cd(x);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),hd(Ue,x,C,p,r),$a(Lr(P,C));break e}}p=P=Lr(P,C),je!==4&&(je=2),Ri===null?Ri=[p]:Ri.push(p),p=x;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var B=ad(p,P,r);Lh(p,B);break e;case 1:C=P;var T=p.type,L=p.stateNode;if((p.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(zn===null||!zn.has(L)))){p.flags|=65536,r&=-r,p.lanes|=r;var H=ld(p,C,r);Lh(p,H);break e}}p=p.return}while(p!==null)}Vd(a)}catch(ne){r=ne,Ve===a&&a!==null&&(Ve=a=a.return);continue}break}while(!0)}function Ud(){var n=eo.current;return eo.current=Xs,n===null?Xs:n}function Nl(){(je===0||je===3||je===2)&&(je=4),qe===null||(Jn&268435455)===0&&(to&268435455)===0||Un(qe,et)}function ao(n,r){var a=ye;ye|=2;var u=Ud();(qe!==n||et!==r)&&(gn=null,tr(n,r));do try{Fy();break}catch(d){Dd(n,d)}while(!0);if(Xa(),ye=a,eo.current=u,Ve!==null)throw Error(t(261));return qe=null,et=0,je}function Fy(){for(;Ve!==null;)Gd(Ve)}function zy(){for(;Ve!==null&&!lg();)Gd(Ve)}function Gd(n){var r=jd(n.alternate,n,St);n.memoizedProps=n.pendingProps,r===null?Vd(n):Ve=r,El.current=null}function Vd(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=Ay(a,r,St),a!==null){Ve=a;return}}else{if(a=My(a,r),a!==null){a.flags&=32767,Ve=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{je=6,Ve=null;return}}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);je===0&&(je=5)}function nr(n,r,a){var u=Ce,d=Mt.transition;try{Mt.transition=null,Ce=1,Oy(n,r,a,u)}finally{Mt.transition=d,Ce=u}return null}function Oy(n,r,a,u){do Or();while(On!==null);if((ye&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(xg(n,p),n===qe&&(Ve=qe=null,et=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ro||(ro=!0,$d(hs,function(){return Or(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Mt.transition,Mt.transition=null;var x=Ce;Ce=1;var C=ye;ye|=4,El.current=null,Iy(n,a),Id(a,n),iy(Na),xs=!!La,Na=La=null,n.current=a,By(a),ug(),ye=C,Ce=x,Mt.transition=p}else n.current=a;if(ro&&(ro=!1,On=n,io=d),p=n.pendingLanes,p===0&&(zn=null),dg(a.stateNode),mt(n,De()),r!==null)for(u=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(no)throw no=!1,n=Al,Al=null,n;return(io&1)!==0&&n.tag!==0&&Or(),p=n.pendingLanes,(p&1)!==0?n===Ml?Ii++:(Ii=0,Ml=n):Ii=0,Bn(),null}function Or(){if(On!==null){var n=Mc(io),r=Mt.transition,a=Ce;try{if(Mt.transition=null,Ce=16>n?16:n,On===null)var u=!1;else{if(n=On,On=null,io=0,(ye&6)!==0)throw Error(t(331));var d=ye;for(ye|=4,J=n.current;J!==null;){var p=J,x=p.child;if((J.flags&16)!==0){var C=p.deletions;if(C!==null){for(var P=0;P<C.length;P++){var N=C[P];for(J=N;J!==null;){var U=J;switch(U.tag){case 0:case 11:case 15:Ai(8,U,p)}var G=U.child;if(G!==null)G.return=U,J=G;else for(;J!==null;){U=J;var D=U.sibling,Z=U.return;if(Td(U),U===N){J=null;break}if(D!==null){D.return=Z,J=D;break}J=Z}}}var ee=p.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Ue=te.sibling;te.sibling=null,te=Ue}while(te!==null)}}J=p}}if((p.subtreeFlags&2064)!==0&&x!==null)x.return=p,J=x;else e:for(;J!==null;){if(p=J,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Ai(9,p,p.return)}var B=p.sibling;if(B!==null){B.return=p.return,J=B;break e}J=p.return}}var T=n.current;for(J=T;J!==null;){x=J;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,J=L;else e:for(x=T;J!==null;){if(C=J,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Js(9,C)}}catch(ne){Le(C,C.return,ne)}if(C===x){J=null;break e}var H=C.sibling;if(H!==null){H.return=C.return,J=H;break e}J=C.return}}if(ye=d,Bn(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ds,n)}catch{}u=!0}return u}finally{Ce=a,Mt.transition=r}}return!1}function Hd(n,r,a){r=Lr(a,r),r=ad(n,r,1),n=Nn(n,r,1),r=lt(),n!==null&&(ni(n,1,r),mt(n,r))}function Le(n,r,a){if(n.tag===3)Hd(n,n,a);else for(;r!==null;){if(r.tag===3){Hd(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zn===null||!zn.has(u))){n=Lr(a,n),n=ld(r,n,1),r=Nn(r,n,1),n=lt(),r!==null&&(ni(r,1,n),mt(r,n));break}}r=r.return}}function Dy(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),r=lt(),n.pingedLanes|=n.suspendedLanes&a,qe===n&&(et&a)===a&&(je===4||je===3&&(et&130023424)===et&&500>De()-bl?tr(n,0):Tl|=a),mt(n,r)}function Wd(n,r){r===0&&((n.mode&1)===0?r=1:(r=ps,ps<<=1,(ps&130023424)===0&&(ps=4194304)));var a=lt();n=fn(n,r),n!==null&&(ni(n,r,a),mt(n,a))}function Uy(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Wd(n,a)}function Gy(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(r),Wd(n,a)}var jd;jd=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||ht.current)ft=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return ft=!1,by(n,r,a);ft=(n.flags&131072)!==0}else ft=!1,Me&&(r.flags&1048576)!==0&&kh(r,Fs,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Ks(n,r),n=r.pendingProps;var d=Er(r,nt.current);Ir(r,a),d=sl(null,r,u,n,d,a);var p=ol();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,dt(u)?(p=!0,Bs(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Za(r),d.updater=qs,r.stateNode=d,d._reactInternals=r,dl(r,u,n,a),r=gl(null,r,u,!0,p,a)):(r.tag=0,Me&&p&&Va(r),at(null,r,d,a),r=r.child),r;case 16:u=r.elementType;e:{switch(Ks(n,r),n=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=Hy(u),n=Ut(u,n),d){case 0:r=ml(null,r,u,n,a);break e;case 1:r=yd(null,r,u,n,a);break e;case 11:r=dd(null,r,u,n,a);break e;case 14:r=fd(null,r,u,Ut(u.type,n),a);break e}throw Error(t(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Ut(u,d),ml(n,r,u,d,a);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Ut(u,d),yd(n,r,u,d,a);case 3:e:{if(xd(r),n===null)throw Error(t(387));u=r.pendingProps,p=r.memoizedState,d=p.element,Bh(n,r),Vs(r,u,null,a);var x=r.memoizedState;if(u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=Lr(Error(t(423)),r),r=_d(n,r,u,a,d);break e}else if(u!==d){d=Lr(Error(t(424)),r),r=_d(n,r,u,a,d);break e}else for(wt=Mn(r.stateNode.containerInfo.firstChild),vt=r,Me=!0,Dt=null,a=Rh(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ar(),u===d){r=mn(n,r,a);break e}at(n,r,u,a)}r=r.child}return r;case 5:return Fh(r),n===null&&ja(r),u=r.type,d=r.pendingProps,p=n!==null?n.memoizedProps:null,x=d.children,Fa(u,d)?x=null:p!==null&&Fa(u,p)&&(r.flags|=32),gd(n,r),at(n,r,x,a),r.child;case 6:return n===null&&ja(r),null;case 13:return vd(n,r,a);case 4:return Ja(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Mr(r,null,u,a):at(n,r,u,a),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Ut(u,d),dd(n,r,u,d,a);case 7:return at(n,r,r.pendingProps,a),r.child;case 8:return at(n,r,r.pendingProps.children,a),r.child;case 12:return at(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,p=r.memoizedProps,x=d.value,Te(Ds,u._currentValue),u._currentValue=x,p!==null)if(Ot(p.value,x)){if(p.children===d.children&&!ht.current){r=mn(n,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var C=p.dependencies;if(C!==null){x=p.child;for(var P=C.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=pn(-1,a&-a),P.tag=2;var N=p.updateQueue;if(N!==null){N=N.shared;var U=N.pending;U===null?P.next=P:(P.next=U.next,U.next=P),N.pending=P}}p.lanes|=a,P=p.alternate,P!==null&&(P.lanes|=a),Qa(p.return,a,r),C.lanes|=a;break}P=P.next}}else if(p.tag===10)x=p.type===r.type?null:p.child;else if(p.tag===18){if(x=p.return,x===null)throw Error(t(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),Qa(x,a,r),x=p.sibling}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}at(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,Ir(r,a),d=bt(d),u=u(d),r.flags|=1,at(n,r,u,a),r.child;case 14:return u=r.type,d=Ut(u,r.pendingProps),d=Ut(u.type,d),fd(n,r,u,d,a);case 15:return pd(n,r,r.type,r.pendingProps,a);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:Ut(u,d),Ks(n,r),r.tag=1,dt(u)?(n=!0,Bs(r)):n=!1,Ir(r,a),sd(r,u,d),dl(r,u,d,a),gl(null,r,u,!0,n,a);case 19:return Sd(n,r,a);case 22:return md(n,r,a)}throw Error(t(156,r.tag))};function $d(n,r){return Pc(n,r)}function Vy(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(n,r,a,u){return new Vy(n,r,a,u)}function Fl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hy(n){if(typeof n=="function")return Fl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ce)return 11;if(n===Ze)return 14}return 2}function Gn(n,r){var a=n.alternate;return a===null?(a=Rt(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function lo(n,r,a,u,d,p){var x=2;if(u=n,typeof n=="function")Fl(n)&&(x=1);else if(typeof n=="string")x=5;else e:switch(n){case z:return rr(a.children,d,p,r);case Q:x=8,d|=8;break;case Y:return n=Rt(12,a,r,d|2),n.elementType=Y,n.lanes=p,n;case le:return n=Rt(13,a,r,d),n.elementType=le,n.lanes=p,n;case me:return n=Rt(19,a,r,d),n.elementType=me,n.lanes=p,n;case K:return uo(a,d,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:x=10;break e;case j:x=9;break e;case ce:x=11;break e;case Ze:x=14;break e;case X:x=16,u=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=Rt(x,a,r,d),r.elementType=n,r.type=u,r.lanes=p,r}function rr(n,r,a,u){return n=Rt(7,n,u,r),n.lanes=a,n}function uo(n,r,a,u){return n=Rt(22,n,u,r),n.elementType=K,n.lanes=a,n.stateNode={isHidden:!1},n}function zl(n,r,a){return n=Rt(6,n,null,r),n.lanes=a,n}function Ol(n,r,a){return r=Rt(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Wy(n,r,a,u,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Dl(n,r,a,u,d,p,x,C,P){return n=new Wy(n,r,a,C,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Rt(3,null,null,r),n.current=p,p.stateNode=n,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Za(p),n}function jy(n,r,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:u==null?null:""+u,children:n,containerInfo:r,implementation:a}}function Yd(n){if(!n)return In;n=n._reactInternals;e:{if(jn(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(dt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(dt(a))return wh(n,a,r)}return r}function Xd(n,r,a,u,d,p,x,C,P){return n=Dl(a,u,!0,n,d,p,x,C,P),n.context=Yd(null),a=n.current,u=lt(),d=Dn(a),p=pn(u,d),p.callback=r??null,Nn(a,p,d),n.current.lanes=d,ni(n,d,u),mt(n,u),n}function co(n,r,a,u){var d=r.current,p=lt(),x=Dn(d);return a=Yd(a),r.context===null?r.context=a:r.pendingContext=a,r=pn(p,x),r.payload={element:n},u=u===void 0?null:u,u!==null&&(r.callback=u),n=Nn(d,r,x),n!==null&&(Ht(n,d,x,p),Gs(n,d,x)),x}function ho(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function qd(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Ul(n,r){qd(n,r),(n=n.alternate)&&qd(n,r)}function $y(){return null}var Qd=typeof reportError=="function"?reportError:function(n){console.error(n)};function Gl(n){this._internalRoot=n}fo.prototype.render=Gl.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));co(n,r,null,null)},fo.prototype.unmount=Gl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;er(function(){co(null,n,null,null)}),r[un]=null}};function fo(n){this._internalRoot=n}fo.prototype.unstable_scheduleHydration=function(n){if(n){var r=Bc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Tn.length&&r!==0&&r<Tn[a].priority;a++);Tn.splice(a,0,n),a===0&&Fc(n)}};function Vl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function po(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function Yy(n,r,a,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var N=ho(x);p.call(N)}}var x=Xd(r,u,n,0,null,!1,!1,"",Kd);return n._reactRootContainer=x,n[un]=x.current,gi(n.nodeType===8?n.parentNode:n),er(),x}for(;d=n.lastChild;)n.removeChild(d);if(typeof u=="function"){var C=u;u=function(){var N=ho(P);C.call(N)}}var P=Dl(n,0,!1,null,null,!1,!1,"",Kd);return n._reactRootContainer=P,n[un]=P.current,gi(n.nodeType===8?n.parentNode:n),er(function(){co(r,P,a,u)}),P}function mo(n,r,a,u,d){var p=a._reactRootContainer;if(p){var x=p;if(typeof d=="function"){var C=d;d=function(){var P=ho(x);C.call(P)}}co(r,x,n,d)}else x=Yy(a,r,n,d,u);return ho(x)}Rc=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=ti(r.pendingLanes);a!==0&&(da(r,a|1),mt(r,De()),(ye&6)===0&&(zr=De()+500,Bn()))}break;case 13:er(function(){var u=fn(n,1);if(u!==null){var d=lt();Ht(u,n,1,d)}}),Ul(n,1)}},fa=function(n){if(n.tag===13){var r=fn(n,134217728);if(r!==null){var a=lt();Ht(r,n,134217728,a)}Ul(n,134217728)}},Ic=function(n){if(n.tag===13){var r=Dn(n),a=fn(n,r);if(a!==null){var u=lt();Ht(a,n,r,u)}Ul(n,r)}},Bc=function(){return Ce},Lc=function(n,r){var a=Ce;try{return Ce=n,r()}finally{Ce=a}},sa=function(n,r,a){switch(r){case"input":if(fr(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var d=Rs(u);if(!d)throw Error(t(90));Qt(u),fr(u,d)}}}break;case"textarea":uc(n,a);break;case"select":r=a.value,r!=null&&pr(n,!!a.multiple,r,!1)}},xc=Bl,_c=er;var Xy={usingClientEntryPoint:!1,Events:[_i,kr,Rs,gc,yc,Bl]},Bi={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qy={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Cc(n),n===null?null:n.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||$y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{ds=go.inject(qy),Zt=go}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy,gt.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(r))throw Error(t(200));return jy(n,r,null,a)},gt.createRoot=function(n,r){if(!Vl(n))throw Error(t(299));var a=!1,u="",d=Qd;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Dl(n,1,!1,null,null,a,!1,u,d),n[un]=r.current,gi(n.nodeType===8?n.parentNode:n),new Gl(r)},gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Cc(r),n=n===null?null:n.stateNode,n},gt.flushSync=function(n){return er(n)},gt.hydrate=function(n,r,a){if(!po(r))throw Error(t(200));return mo(null,n,r,!0,a)},gt.hydrateRoot=function(n,r,a){if(!Vl(n))throw Error(t(405));var u=a!=null&&a.hydratedSources||null,d=!1,p="",x=Qd;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),r=Xd(r,null,n,1,a??null,d,!1,p,x),n[un]=r.current,gi(n),u)for(n=0;n<u.length;n++)a=u[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new fo(r)},gt.render=function(n,r,a){if(!po(r))throw Error(t(200));return mo(null,n,r,!1,a)},gt.unmountComponentAtNode=function(n){if(!po(n))throw Error(t(40));return n._reactRootContainer?(er(function(){mo(null,null,n,!1,function(){n._reactRootContainer=null,n[un]=null})}),!0):!1},gt.unstable_batchedUpdates=Bl,gt.unstable_renderSubtreeIntoContainer=function(n,r,a,u){if(!po(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return mo(n,r,a,!1,u)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var of;function i0(){if(of)return jl.exports;of=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jl.exports=r0(),jl.exports}var af;function s0(){if(af)return yo;af=1;var i=i0();return yo.createRoot=i.createRoot,yo.hydrateRoot=i.hydrateRoot,yo}var o0=s0();const a0=$o(o0),an=Object.create(null);an.open="0";an.close="1";an.ping="2";an.pong="3";an.message="4";an.upgrade="5";an.noop="6";const No=Object.create(null);Object.keys(an).forEach(i=>{No[an[i]]=i});const vu={type:"error",data:"parser error"},Pp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ep=typeof ArrayBuffer=="function",Tp=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,ju=({type:i,data:e},t,s)=>Pp&&e instanceof Blob?t?s(e):lf(e,s):Ep&&(e instanceof ArrayBuffer||Tp(e))?t?s(e):lf(new Blob([e]),s):s(an[i]+(e||"")),lf=(i,e)=>{const t=new FileReader;return t.onload=function(){const s=t.result.split(",")[1];e("b"+(s||""))},t.readAsDataURL(i)};function uf(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let Xl;function l0(i,e){if(Pp&&i.data instanceof Blob)return i.data.arrayBuffer().then(uf).then(e);if(Ep&&(i.data instanceof ArrayBuffer||Tp(i.data)))return e(uf(i.data));ju(i,!1,t=>{Xl||(Xl=new TextEncoder),e(Xl.encode(t))})}const cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<cf.length;i++)Vi[cf.charCodeAt(i)]=i;const u0=i=>{let e=i.length*.75,t=i.length,s,o=0,l,c,h,f;i[i.length-1]==="="&&(e--,i[i.length-2]==="="&&e--);const m=new ArrayBuffer(e),g=new Uint8Array(m);for(s=0;s<t;s+=4)l=Vi[i.charCodeAt(s)],c=Vi[i.charCodeAt(s+1)],h=Vi[i.charCodeAt(s+2)],f=Vi[i.charCodeAt(s+3)],g[o++]=l<<2|c>>4,g[o++]=(c&15)<<4|h>>2,g[o++]=(h&3)<<6|f&63;return m},c0=typeof ArrayBuffer=="function",$u=(i,e)=>{if(typeof i!="string")return{type:"message",data:bp(i,e)};const t=i.charAt(0);return t==="b"?{type:"message",data:h0(i.substring(1),e)}:No[t]?i.length>1?{type:No[t],data:i.substring(1)}:{type:No[t]}:vu},h0=(i,e)=>{if(c0){const t=u0(i);return bp(t,e)}else return{base64:!0,data:i}},bp=(i,e)=>{switch(e){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},Ap="",d0=(i,e)=>{const t=i.length,s=new Array(t);let o=0;i.forEach((l,c)=>{ju(l,!1,h=>{s[c]=h,++o===t&&e(s.join(Ap))})})},f0=(i,e)=>{const t=i.split(Ap),s=[];for(let o=0;o<t.length;o++){const l=$u(t[o],e);if(s.push(l),l.type==="error")break}return s};function p0(){return new TransformStream({transform(i,e){l0(i,t=>{const s=t.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}i.data&&typeof i.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(t)})}})}let ql;function xo(i){return i.reduce((e,t)=>e+t.length,0)}function _o(i,e){if(i[0].length===e)return i.shift();const t=new Uint8Array(e);let s=0;for(let o=0;o<e;o++)t[o]=i[0][s++],s===i[0].length&&(i.shift(),s=0);return i.length&&s<i[0].length&&(i[0]=i[0].slice(s)),t}function m0(i,e){ql||(ql=new TextDecoder);const t=[];let s=0,o=-1,l=!1;return new TransformStream({transform(c,h){for(t.push(c);;){if(s===0){if(xo(t)<1)break;const f=_o(t,1);l=(f[0]&128)===128,o=f[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(xo(t)<2)break;const f=_o(t,2);o=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),s=3}else if(s===2){if(xo(t)<8)break;const f=_o(t,8),m=new DataView(f.buffer,f.byteOffset,f.length),g=m.getUint32(0);if(g>Math.pow(2,21)-1){h.enqueue(vu);break}o=g*Math.pow(2,32)+m.getUint32(4),s=3}else{if(xo(t)<o)break;const f=_o(t,o);h.enqueue($u(l?f:ql.decode(f),e)),s=0}if(o===0||o>i){h.enqueue(vu);break}}}})}const Mp=4;function He(i){if(i)return g0(i)}function g0(i){for(var e in He.prototype)i[e]=He.prototype[e];return i}He.prototype.on=He.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};He.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};He.prototype.off=He.prototype.removeListener=He.prototype.removeAllListeners=He.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,o=0;o<t.length;o++)if(s=t[o],s===e||s.fn===e){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+i],this};He.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t){t=t.slice(0);for(var s=0,o=t.length;s<o;++s)t[s].apply(this,e)}return this};He.prototype.emitReserved=He.prototype.emit;He.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};He.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Yo=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),It=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),y0="arraybuffer";function Rp(i,...e){return e.reduce((t,s)=>(i.hasOwnProperty(s)&&(t[s]=i[s]),t),{})}const x0=It.setTimeout,_0=It.clearTimeout;function Xo(i,e){e.useNativeTimers?(i.setTimeoutFn=x0.bind(It),i.clearTimeoutFn=_0.bind(It)):(i.setTimeoutFn=It.setTimeout.bind(It),i.clearTimeoutFn=It.clearTimeout.bind(It))}const v0=1.33;function w0(i){return typeof i=="string"?S0(i):Math.ceil((i.byteLength||i.size)*v0)}function S0(i){let e=0,t=0;for(let s=0,o=i.length;s<o;s++)e=i.charCodeAt(s),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(s++,t+=4);return t}function Ip(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function C0(i){let e="";for(let t in i)i.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(i[t]));return e}function k0(i){let e={},t=i.split("&");for(let s=0,o=t.length;s<o;s++){let l=t[s].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}class P0 extends Error{constructor(e,t,s){super(e),this.description=t,this.context=s,this.type="TransportError"}}class Yu extends He{constructor(e){super(),this.writable=!1,Xo(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,s){return super.emitReserved("error",new P0(e,t,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=$u(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=C0(e);return t.length?"?"+t:""}}class E0 extends Yu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||t()})),this.writable||(s++,this.once("drain",function(){--s||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};f0(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,d0(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ip()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Bp=!1;try{Bp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const T0=Bp;function b0(){}class A0 extends E0{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let s=location.port;s||(s=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,t){const s=this.request({method:"POST",data:e});s.on("success",t),s.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,s)=>{this.onError("xhr poll error",t,s)}),this.pollXhr=e}}class on extends He{constructor(e,t,s){super(),this.createRequest=e,Xo(this,s),this._opts=s,this._method=s.method||"GET",this._uri=t,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const t=Rp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(t);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=on.requestsCount++,on.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=b0,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete on.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}on.requestsCount=0;on.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hf);else if(typeof addEventListener=="function"){const i="onpagehide"in It?"pagehide":"unload";addEventListener(i,hf,!1)}}function hf(){for(let i in on.requests)on.requests.hasOwnProperty(i)&&on.requests[i].abort()}const M0=(function(){const i=Lp({xdomain:!1});return i&&i.responseType!==null})();class R0 extends A0{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=M0&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new on(Lp,this.uri(),e)}}function Lp(i){const e=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||T0))return new XMLHttpRequest}catch{}if(!e)try{return new It[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Np=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class I0 extends Yu{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,s=Np?{}:Rp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],o=t===e.length-1;ju(s,this.supportsBinary,l=>{try{this.doWrite(s,l)}catch{}o&&Yo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ip()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Ql=It.WebSocket||It.MozWebSocket;class B0 extends I0{createSocket(e,t,s){return Np?new Ql(e,t,s):t?new Ql(e,t):new Ql(e)}doWrite(e,t){this.ws.send(t)}}class L0 extends Yu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=m0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),o=p0();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();const l=()=>{s.read().then(({done:h,value:f})=>{h||(this.onPacket(f),l())}).catch(h=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],o=t===e.length-1;this._writer.write(s).then(()=>{o&&Yo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const N0={websocket:B0,webtransport:L0,polling:R0},F0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wu(i){if(i.length>8e3)throw"URI too long";const e=i,t=i.indexOf("["),s=i.indexOf("]");t!=-1&&s!=-1&&(i=i.substring(0,t)+i.substring(t,s).replace(/:/g,";")+i.substring(s,i.length));let o=F0.exec(i||""),l={},c=14;for(;c--;)l[z0[c]]=o[c]||"";return t!=-1&&s!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=O0(l,l.path),l.queryKey=D0(l,l.query),l}function O0(i,e){const t=/\/{2,9}/g,s=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function D0(i,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,l){o&&(t[o]=l)}),t}const Su=typeof addEventListener=="function"&&typeof removeEventListener=="function",Fo=[];Su&&addEventListener("offline",()=>{Fo.forEach(i=>i())},!1);class Wn extends He{constructor(e,t){if(super(),this.binaryType=y0,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const s=wu(e);t.hostname=s.host,t.secure=s.protocol==="https"||s.protocol==="wss",t.port=s.port,s.query&&(t.query=s.query)}else t.host&&(t.hostname=wu(t.host).host);Xo(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(s=>{const o=s.prototype.name;this.transports.push(o),this._transportsByName[o]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=k0(this.opts.query)),Su&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=Mp,t.transport=e,this.id&&(t.sid=this.id);const s=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Wn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Wn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(t+=w0(o)),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Yo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,s){return this._sendPacket("message",e,t,s),this}send(e,t,s){return this._sendPacket("message",e,t,s),this}_sendPacket(e,t,s,o){if(typeof t=="function"&&(o=t,t=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:e,data:t,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},s=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Wn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Su&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Fo.indexOf(this._offlineEventListener);s!==-1&&Fo.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Wn.protocol=Mp;class U0 extends Wn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),s=!1;Wn.priorWebsocketSuccess=!1;const o=()=>{s||(t.send([{type:"ping",data:"probe"}]),t.once("packet",y=>{if(!s)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Wn.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(g(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function l(){s||(s=!0,g(),t.close(),t=null)}const c=y=>{const v=new Error("probe error: "+y);v.transport=t.name,l(),this.emitReserved("upgradeError",v)};function h(){c("transport closed")}function f(){c("socket closed")}function m(y){t&&y.name!==t.name&&l()}const g=()=>{t.removeListener("open",o),t.removeListener("error",c),t.removeListener("close",h),this.off("close",f),this.off("upgrading",m)};t.once("open",o),t.once("error",c),t.once("close",h),this.once("close",f),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&t.push(e[s]);return t}}let G0=class extends U0{constructor(e,t={}){const s=typeof e=="object"?e:t;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(o=>N0[o]).filter(o=>!!o)),super(e,s)}};function V0(i,e="",t){let s=i;t=t||typeof location<"u"&&location,i==null&&(i=t.protocol+"//"+t.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=t.protocol+i:i=t.host+i),/^(https?|wss?):\/\//.test(i)||(typeof t<"u"?i=t.protocol+"//"+i:i="https://"+i),s=wu(i)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+e,s.href=s.protocol+"://"+l+(t&&t.port===s.port?"":":"+s.port),s}const H0=typeof ArrayBuffer=="function",W0=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Fp=Object.prototype.toString,j0=typeof Blob=="function"||typeof Blob<"u"&&Fp.call(Blob)==="[object BlobConstructor]",$0=typeof File=="function"||typeof File<"u"&&Fp.call(File)==="[object FileConstructor]";function Xu(i){return H0&&(i instanceof ArrayBuffer||W0(i))||j0&&i instanceof Blob||$0&&i instanceof File}function zo(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,s=i.length;t<s;t++)if(zo(i[t]))return!0;return!1}if(Xu(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return zo(i.toJSON(),!0);for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&zo(i[t]))return!0;return!1}function Y0(i){const e=[],t=i.data,s=i;return s.data=Cu(t,e),s.attachments=e.length,{packet:s,buffers:e}}function Cu(i,e){if(!i)return i;if(Xu(i)){const t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){const t=new Array(i.length);for(let s=0;s<i.length;s++)t[s]=Cu(i[s],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){const t={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=Cu(i[s],e));return t}return i}function X0(i,e){return i.data=ku(i.data,e),delete i.attachments,i}function ku(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=ku(i[t],e);else if(typeof i=="object")for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=ku(i[t],e));return i}const q0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Q0=5;var ge;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(ge||(ge={}));class K0{constructor(e){this.replacer=e}encode(e){return(e.type===ge.EVENT||e.type===ge.ACK)&&zo(e)?this.encodeAsBinary({type:e.type===ge.EVENT?ge.BINARY_EVENT:ge.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===ge.BINARY_EVENT||e.type===ge.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Y0(e),s=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(s),o}}function df(i){return Object.prototype.toString.call(i)==="[object Object]"}class qu extends He{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const s=t.type===ge.BINARY_EVENT;s||t.type===ge.BINARY_ACK?(t.type=s?ge.EVENT:ge.ACK,this.reconstructor=new Z0(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Xu(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(ge[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ge.BINARY_EVENT||s.type===ge.BINARY_ACK){const l=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const c=e.substring(l,t);if(c!=Number(c)||e.charAt(t)!=="-")throw new Error("Illegal attachments");s.attachments=Number(c)}if(e.charAt(t+1)==="/"){const l=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););s.nsp=e.substring(l,t)}else s.nsp="/";const o=e.charAt(t+1);if(o!==""&&Number(o)==o){const l=t+1;for(;++t;){const c=e.charAt(t);if(c==null||Number(c)!=c){--t;break}if(t===e.length)break}s.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){const l=this.tryParse(e.substr(t));if(qu.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case ge.CONNECT:return df(t);case ge.DISCONNECT:return t===void 0;case ge.CONNECT_ERROR:return typeof t=="string"||df(t);case ge.EVENT:case ge.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&q0.indexOf(t[0])===-1);case ge.ACK:case ge.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Z0{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=X0(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const J0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:qu,Encoder:K0,get PacketType(){return ge},protocol:Q0},Symbol.toStringTag,{value:"Module"}));function jt(i,e,t){return i.on(e,t),function(){i.off(e,t)}}const ex=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class zp extends He{constructor(e,t,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[jt(e,"open",this.onopen.bind(this)),jt(e,"packet",this.onpacket.bind(this)),jt(e,"error",this.onerror.bind(this)),jt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var s,o,l;if(ex.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const c={type:ge.EVENT,data:t};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const g=this.ids++,y=t.pop();this._registerAckCallback(g,y),c.id=g}const h=(o=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||o===void 0?void 0:o.writable,f=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!h||(f?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(e,t){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[e]=t;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===e&&this.sendBuffer.splice(h,1);t.call(this,new Error("operation has timed out"))},o),c=(...h)=>{this.io.clearTimeoutFn(l),t.apply(this,h)};c.withError=!0,this.acks[e]=c}emitWithAck(e,...t){return new Promise((s,o)=>{const l=(c,h)=>c?o(c):s(h);l.withError=!0,t.push(l),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...l)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ge.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ge.EVENT:case ge.BINARY_EVENT:this.onevent(e);break;case ge.ACK:case ge.BINARY_ACK:this.onack(e);break;case ge.DISCONNECT:this.ondisconnect();break;case ge.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const s of t)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let s=!1;return function(...o){s||(s=!0,t.packet({type:ge.ACK,id:e,data:o}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let s=0;s<t.length;s++)if(e===t[s])return t.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const s of t)s.apply(this,e.data)}}}function Xr(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Xr.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*i);i=(Math.floor(e*10)&1)==0?i-t:i+t}return Math.min(i,this.max)|0};Xr.prototype.reset=function(){this.attempts=0};Xr.prototype.setMin=function(i){this.ms=i};Xr.prototype.setMax=function(i){this.max=i};Xr.prototype.setJitter=function(i){this.jitter=i};class Pu extends He{constructor(e,t){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Xo(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((s=t.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Xr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const o=t.parser||J0;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new G0(this.uri,this.opts);const t=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=jt(t,"open",function(){s.onopen(),e&&e()}),l=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),e?e(h):this.maybeReconnectOnOpen()},c=jt(t,"error",l);if(this._timeout!==!1){const h=this._timeout,f=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),t.close()},h);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(o),this.subs.push(c),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(jt(e,"ping",this.onping.bind(this)),jt(e,"data",this.ondata.bind(this)),jt(e,"error",this.onerror.bind(this)),jt(e,"close",this.onclose.bind(this)),jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Yo(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new zp(this,e,t),this.nsps[e]=s),s}_destroy(e){const t=Object.keys(this.nsps);for(const s of t)if(this.nsps[s].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let s=0;s<t.length;s++)this.engine.write(t[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ni={};function Oo(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};const t=V0(i,e.path||"/socket.io"),s=t.source,o=t.id,l=t.path,c=Ni[o]&&l in Ni[o].nsps,h=e.forceNew||e["force new connection"]||e.multiplex===!1||c;let f;return h?f=new Pu(s,e):(Ni[o]||(Ni[o]=new Pu(s,e)),f=Ni[o]),t.query&&!e.query&&(e.query=t.queryKey),f.socket(t.path,e)}Object.assign(Oo,{Manager:Pu,Socket:zp,io:Oo,connect:Oo});const tx="modulepreload",nx=function(i){return"/"+i},ff={},Go=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");o=f(t.map(m=>{if(m=nx(m),m in ff)return;ff[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":tx,g||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var ke=(i=>(i.Application="application",i.WebGLPipes="webgl-pipes",i.WebGLPipesAdaptor="webgl-pipes-adaptor",i.WebGLSystem="webgl-system",i.WebGPUPipes="webgpu-pipes",i.WebGPUPipesAdaptor="webgpu-pipes-adaptor",i.WebGPUSystem="webgpu-system",i.CanvasSystem="canvas-system",i.CanvasPipesAdaptor="canvas-pipes-adaptor",i.CanvasPipes="canvas-pipes",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i.MaskEffect="mask-effect",i.BlendMode="blend-mode",i.TextureSource="texture-source",i.Environment="environment",i.ShapeBuilder="shape-builder",i.Batcher="batcher",i))(ke||{});const Eu=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},vo=(i,e)=>Eu(i).priority??e,Nt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Eu).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...i){return i.map(Eu).forEach(e=>{e.type.forEach(t=>{const s=this._addHandlers,o=this._queue;s[t]?s[t]?.(e):(o[t]=o[t]||[],o[t]?.push(e))})}),this},handle(i,e,t){const s=this._addHandlers,o=this._removeHandlers;if(s[i]||o[i])throw new Error(`Extension type ${i} already has a handler`);s[i]=e,o[i]=t;const l=this._queue;return l[i]&&(l[i]?.forEach(c=>e(c)),delete l[i]),this},handleByMap(i,e){return this.handle(i,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(i,e,t=-1){return this.handle(i,s=>{e.findIndex(l=>l.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((l,c)=>vo(c.value,t)-vo(l.value,t)))},s=>{const o=e.findIndex(l=>l.name===s.name);o!==-1&&e.splice(o,1)})},handleByList(i,e,t=-1){return this.handle(i,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((o,l)=>vo(l,t)-vo(o,t)))},s=>{const o=e.indexOf(s.ref);o!==-1&&e.splice(o,1)})},mixin(i,...e){for(const t of e)Object.defineProperties(i.prototype,Object.getOwnPropertyDescriptors(t))}},rx={extension:{type:ke.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Go(()=>import("./browserAll-DFuA7cHB.js"),__vite__mapDeps([0,1,2]))}},ix={extension:{type:ke.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Go(()=>import("./webworkerAll-BFMnHoSc.js"),__vite__mapDeps([1,2]))}};class tt{constructor(e,t,s){this._x=t||0,this._y=s||0,this._observer=e}clone(e){return new tt(e??this._observer,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var Kl={exports:{}},pf;function sx(){return pf||(pf=1,(function(i){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function o(f,m,g){this.fn=f,this.context=m,this.once=g||!1}function l(f,m,g,y,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new o(g,y||f,v),S=t?t+m:m;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new s:delete f._events[m]}function h(){this._events=new s,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)e.call(g,y)&&m.push(t?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=t?t+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,S=new Array(_);v<_;v++)S[v]=y[v].fn;return S},h.prototype.listenerCount=function(m){var g=t?t+m:m,y=this._events[g];return y?y.fn?1:y.length:0},h.prototype.emit=function(m,g,y,v,_,S){var k=t?t+m:m;if(!this._events[k])return!1;var w=this._events[k],b=arguments.length,I,E;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,y),!0;case 4:return w.fn.call(w.context,g,y,v),!0;case 5:return w.fn.call(w.context,g,y,v,_),!0;case 6:return w.fn.call(w.context,g,y,v,_,S),!0}for(E=1,I=new Array(b-1);E<b;E++)I[E-1]=arguments[E];w.fn.apply(w.context,I)}else{var A=w.length,F;for(E=0;E<A;E++)switch(w[E].once&&this.removeListener(m,w[E].fn,void 0,!0),b){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,g);break;case 3:w[E].fn.call(w[E].context,g,y);break;case 4:w[E].fn.call(w[E].context,g,y,v);break;default:if(!I)for(F=1,I=new Array(b-1);F<b;F++)I[F-1]=arguments[F];w[E].fn.apply(w[E].context,I)}}return!0},h.prototype.on=function(m,g,y){return l(this,m,g,y,!1)},h.prototype.once=function(m,g,y){return l(this,m,g,y,!0)},h.prototype.removeListener=function(m,g,y,v){var _=t?t+m:m;if(!this._events[_])return this;if(!g)return c(this,_),this;var S=this._events[_];if(S.fn)S.fn===g&&(!v||S.once)&&(!y||S.context===y)&&c(this,_);else{for(var k=0,w=[],b=S.length;k<b;k++)(S[k].fn!==g||v&&!S[k].once||y&&S[k].context!==y)&&w.push(S[k]);w.length?this._events[_]=w.length===1?w[0]:w:c(this,_)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=t?t+m:m,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,i.exports=h})(Kl)),Kl.exports}var ox=sx();const ln=$o(ox),ax=Math.PI*2,lx=180/Math.PI,ux=Math.PI/180;class ot{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new ot(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Zl.x=0,Zl.y=0,Zl}}const Zl=new ot;class pe{constructor(e=1,t=0,s=0,o=1,l=0,c=0){this.array=null,this.a=e,this.b=t,this.c=s,this.d=o,this.tx=l,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,s,o,l,c){return this.a=e,this.b=t,this.c=s,this.d=o,this.tx=l,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const s=t||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,t){t=t||new ot;const s=e.x,o=e.y;return t.x=this.a*s+this.c*o+this.tx,t.y=this.b*s+this.d*o+this.ty,t}applyInverse(e,t){t=t||new ot;const s=this.a,o=this.b,l=this.c,c=this.d,h=this.tx,f=this.ty,m=1/(s*c+l*-o),g=e.x,y=e.y;return t.x=c*m*g+-l*m*y+(f*l-h*c)*m,t.y=s*m*y+-o*m*g+(-f*s+h*o)*m,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),s=Math.sin(e),o=this.a,l=this.c,c=this.tx;return this.a=o*t-this.b*s,this.b=o*s+this.b*t,this.c=l*t-this.d*s,this.d=l*s+this.d*t,this.tx=c*t-this.ty*s,this.ty=c*s+this.ty*t,this}append(e){const t=this.a,s=this.b,o=this.c,l=this.d;return this.a=e.a*t+e.b*o,this.b=e.a*s+e.b*l,this.c=e.c*t+e.d*o,this.d=e.c*s+e.d*l,this.tx=e.tx*t+e.ty*o+this.tx,this.ty=e.tx*s+e.ty*l+this.ty,this}appendFrom(e,t){const s=e.a,o=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty,m=t.a,g=t.b,y=t.c,v=t.d;return this.a=s*m+o*y,this.b=s*g+o*v,this.c=l*m+c*y,this.d=l*g+c*v,this.tx=h*m+f*y+t.tx,this.ty=h*g+f*v+t.ty,this}setTransform(e,t,s,o,l,c,h,f,m){return this.a=Math.cos(h+m)*l,this.b=Math.sin(h+m)*l,this.c=-Math.sin(h-f)*c,this.d=Math.cos(h-f)*c,this.tx=e-(s*this.a+o*this.c),this.ty=t-(s*this.b+o*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,o=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=o*e.a+this.d*e.c,this.d=o*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,s=this.b,o=this.c,l=this.d,c=e.pivot,h=-Math.atan2(-o,l),f=Math.atan2(s,t),m=Math.abs(h+f);return m<1e-5||Math.abs(ax-m)<1e-5?(e.rotation=f,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=h,e.skew.y=f),e.scale.x=Math.sqrt(t*t+s*s),e.scale.y=Math.sqrt(o*o+l*l),e.position.x=this.tx+(c.x*t+c.y*o),e.position.y=this.ty+(c.x*s+c.y*l),e}invert(){const e=this.a,t=this.b,s=this.c,o=this.d,l=this.tx,c=e*o-t*s;return this.a=o/c,this.b=-t/c,this.c=-s/c,this.d=e/c,this.tx=(s*this.ty-o*l)/c,this.ty=-(e*this.ty-t*l)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new pe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return hx.identity()}static get shared(){return cx.identity()}}const cx=new pe,hx=new pe,or=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ar=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],lr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ur=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Tu=[],Op=[],wo=Math.sign;function dx(){for(let i=0;i<16;i++){const e=[];Tu.push(e);for(let t=0;t<16;t++){const s=wo(or[i]*or[t]+lr[i]*ar[t]),o=wo(ar[i]*or[t]+ur[i]*ar[t]),l=wo(or[i]*lr[t]+lr[i]*ur[t]),c=wo(ar[i]*lr[t]+ur[i]*ur[t]);for(let h=0;h<16;h++)if(or[h]===s&&ar[h]===o&&lr[h]===l&&ur[h]===c){e.push(h);break}}}for(let i=0;i<16;i++){const e=new pe;e.set(or[i],ar[i],lr[i],ur[i],0,0),Op.push(e)}}dx();const Ee={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>or[i],uY:i=>ar[i],vX:i=>lr[i],vY:i=>ur[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Tu[i][e],sub:(i,e)=>Tu[i][Ee.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?Ee.S:Ee.N:Math.abs(e)*2<=Math.abs(i)?i>0?Ee.E:Ee.W:e>0?i>0?Ee.SE:Ee.SW:i>0?Ee.NE:Ee.NW,matrixAppendRotationInv:(i,e,t=0,s=0)=>{const o=Op[Ee.inv(e)];o.tx=t,o.ty=s,i.append(o)},transformRectCoords:(i,e,t,s)=>{const{x:o,y:l,width:c,height:h}=i,{x:f,y:m,width:g,height:y}=e;return t===Ee.E?(s.set(o+f,l+m,c,h),s):t===Ee.S?s.set(g-l-h+f,o+m,h,c):t===Ee.W?s.set(g-o-c+f,y-l-h+m,c,h):t===Ee.N?s.set(l+f,y-o-c+m,h,c):s.set(o+f,l+m,c,h)}},So=[new ot,new ot,new ot,new ot];class Ge{constructor(e=0,t=0,s=0,o=0){this.type="rectangle",this.x=Number(e),this.y=Number(t),this.width=Number(s),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Ge(0,0,0,0)}clone(){return new Ge(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}strokeContains(e,t,s,o=.5){const{width:l,height:c}=this;if(l<=0||c<=0)return!1;const h=this.x,f=this.y,m=s*(1-o),g=s-m,y=h-m,v=h+l+m,_=f-m,S=f+c+m,k=h+g,w=h+l-g,b=f+g,I=f+c-g;return e>=y&&e<=v&&t>=_&&t<=S&&!(e>k&&e<w&&t>b&&t<I)}intersects(e,t){if(!t){const Q=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=Q)return!1;const V=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>V}const s=this.left,o=this.right,l=this.top,c=this.bottom;if(o<=s||c<=l)return!1;const h=So[0].set(e.left,e.top),f=So[1].set(e.left,e.bottom),m=So[2].set(e.right,e.top),g=So[3].set(e.right,e.bottom);if(m.x<=h.x||f.y<=h.y)return!1;const y=Math.sign(t.a*t.d-t.b*t.c);if(y===0||(t.apply(h,h),t.apply(f,f),t.apply(m,m),t.apply(g,g),Math.max(h.x,f.x,m.x,g.x)<=s||Math.min(h.x,f.x,m.x,g.x)>=o||Math.max(h.y,f.y,m.y,g.y)<=l||Math.min(h.y,f.y,m.y,g.y)>=c))return!1;const v=y*(f.y-h.y),_=y*(h.x-f.x),S=v*s+_*l,k=v*o+_*l,w=v*s+_*c,b=v*o+_*c;if(Math.max(S,k,w,b)<=v*h.x+_*h.y||Math.min(S,k,w,b)>=v*g.x+_*g.y)return!1;const I=y*(h.y-m.y),E=y*(m.x-h.x),A=I*s+E*l,F=I*o+E*l,R=I*s+E*c,z=I*o+E*c;return!(Math.max(A,F,R,z)<=I*h.x+E*h.y||Math.min(A,F,R,z)>=I*g.x+E*g.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),o=Math.max(this.y,e.y),l=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(s-t,0),this.y=o,this.height=Math.max(l-o,0),this}ceil(e=1,t=.001){const s=Math.ceil((this.x+this.width-t)*e)/e,o=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=s-this.x,this.height=o-this.y,this}scale(e,t=e){return this.x*=e,this.y*=t,this.width*=e,this.height*=t,this}enlarge(e){const t=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),o=Math.min(this.y,e.y),l=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=s-t,this.y=o,this.height=l-o,this}getBounds(e){return e||(e=new Ge),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const t=e.x,s=e.y,o=e.x+e.width,l=e.y+e.height;return t>=this.x&&t<this.x+this.width&&s>=this.y&&s<this.y+this.height&&o>=this.x&&o<this.x+this.width&&l>=this.y&&l<this.y+this.height}set(e,t,s,o){return this.x=e,this.y=t,this.width=s,this.height=o,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Jl={default:-1};function Oe(i="default"){return Jl[i]===void 0&&(Jl[i]=-1),++Jl[i]}const mf=new Set,ze="8.0.0",fx="8.3.4",Wr={quiet:!1,noColor:!1},ve=(i,e,t=3)=>{if(Wr.quiet||mf.has(e))return;let s=new Error().stack;const o=`${e}
Deprecated since v${i}`,l=typeof console.groupCollapsed=="function"&&!Wr.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",o):(s=s.split(`
`).splice(t).join(`
`),l?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",o),console.warn(s))),mf.add(e)};Object.defineProperties(ve,{quiet:{get:()=>Wr.quiet,set:i=>{Wr.quiet=i},enumerable:!0,configurable:!1},noColor:{get:()=>Wr.noColor,set:i=>{Wr.noColor=i},enumerable:!0,configurable:!1}});const Dp=()=>{};function jr(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function gf(i){return!(i&i-1)&&!!i}function Up(i){const e={};for(const t in i)i[t]!==void 0&&(e[t]=i[t]);return e}const yf=Object.create(null);function px(i){const e=yf[i];return e===void 0&&(yf[i]=Oe("resource")),e}const Gp=class Vp extends ln{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...Vp.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){ve(ze,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=px(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Gp.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Vo=Gp;const Hp=class Wp extends ln{constructor(e={}){super(),this.options=e,this.uid=Oe("textureSource"),this._resourceType="textureSource",this._resourceId=Oe("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...Wp.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new Vo(Up(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Oe("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,t,s){s||(s=this._resolution),e||(e=this.width),t||(t=this.height);const o=Math.round(e*s),l=Math.round(t*s);return this.width=o/s,this.height=l/s,this._resolution=s,this.pixelWidth===o&&this.pixelHeight===l?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=l,this.emit("resize",this),this._resourceId=Oe("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=gf(this.pixelWidth)&&gf(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Hp.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Xt=Hp;class Qu extends Xt{constructor(e){const t=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(t instanceof Float32Array?s="rgba32float":t instanceof Int32Array||t instanceof Uint32Array?s="rgba32uint":t instanceof Int16Array||t instanceof Uint16Array?s="rgba16uint":(t instanceof Int8Array,s="bgra8unorm")),super({...e,resource:t,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Qu.extension=ke.TextureSource;const xf=new pe;class mx{constructor(e,t){this.mapCoord=new pe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof t>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=t,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,t){t===void 0&&(t=e);const s=this.mapCoord;for(let o=0;o<e.length;o+=2){const l=e[o],c=e[o+1];t[o]=l*s.a+c*s.c+s.tx,t[o+1]=l*s.b+c*s.d+s.ty}return t}update(){const e=this._texture;this._updateID++;const t=e.uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);const s=e.orig,o=e.trim;o&&(xf.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(xf));const l=e.source,c=this.uClampFrame,h=this.clampMargin/l._resolution,f=this.clampOffset/l._resolution;return c[0]=(e.frame.x+h+f)/l.width,c[1]=(e.frame.y+h+f)/l.height,c[2]=(e.frame.x+e.frame.width-h+f)/l.width,c[3]=(e.frame.y+e.frame.height-h+f)/l.height,this.uClampOffset[0]=this.clampOffset/l.pixelWidth,this.uClampOffset[1]=this.clampOffset/l.pixelHeight,this.isSimple=e.frame.width===l.width&&e.frame.height===l.height&&e.rotate===0,!0}}class Pe extends ln{constructor({source:e,label:t,frame:s,orig:o,trim:l,defaultAnchor:c,defaultBorders:h,rotate:f,dynamic:m}={}){if(super(),this.uid=Oe("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Ge,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=t,this.source=e?.source??new Xt,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:g,height:y}=this._source;this.frame.width=g,this.frame.height=y}this.orig=o||this.frame,this.trim=l,this.rotate=f??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new mx(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:t}=this,{width:s,height:o}=this._source,l=t.x/s,c=t.y/o,h=t.width/s,f=t.height/o;let m=this.rotate;if(m){const g=h/2,y=f/2,v=l+g,_=c+y;m=Ee.add(m,Ee.NW),e.x0=v+g*Ee.uX(m),e.y0=_+y*Ee.uY(m),m=Ee.add(m,2),e.x1=v+g*Ee.uX(m),e.y1=_+y*Ee.uY(m),m=Ee.add(m,2),e.x2=v+g*Ee.uX(m),e.y2=_+y*Ee.uY(m),m=Ee.add(m,2),e.x3=v+g*Ee.uX(m),e.y3=_+y*Ee.uY(m)}else e.x0=l,e.y0=c,e.x1=l+h,e.y1=c,e.x2=l+h,e.y2=c+f,e.x3=l,e.y3=c+f}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return ve(ze,"Texture.baseTexture is now Texture.source"),this._source}}Pe.EMPTY=new Pe({label:"EMPTY",source:new Xt({label:"EMPTY"})});Pe.EMPTY.destroy=Dp;Pe.WHITE=new Pe({source:new Qu({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Pe.WHITE.destroy=Dp;function gx(i,e,t){const{width:s,height:o}=t.orig,l=t.trim;if(l){const c=l.width,h=l.height;i.minX=l.x-e._x*s,i.maxX=i.minX+c,i.minY=l.y-e._y*o,i.maxY=i.minY+h}else i.minX=-e._x*s,i.maxX=i.minX+s,i.minY=-e._y*o,i.maxY=i.minY+o}const _f=new pe;class Yt{constructor(e=1/0,t=1/0,s=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=_f,this.minX=e,this.minY=t,this.maxX=s,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Ge);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=_f,this}set(e,t,s,o){this.minX=e,this.minY=t,this.maxX=s,this.maxY=o}addFrame(e,t,s,o,l){l||(l=this.matrix);const c=l.a,h=l.b,f=l.c,m=l.d,g=l.tx,y=l.ty;let v=this.minX,_=this.minY,S=this.maxX,k=this.maxY,w=c*e+f*t+g,b=h*e+m*t+y;w<v&&(v=w),b<_&&(_=b),w>S&&(S=w),b>k&&(k=b),w=c*s+f*t+g,b=h*s+m*t+y,w<v&&(v=w),b<_&&(_=b),w>S&&(S=w),b>k&&(k=b),w=c*e+f*o+g,b=h*e+m*o+y,w<v&&(v=w),b<_&&(_=b),w>S&&(S=w),b>k&&(k=b),w=c*s+f*o+g,b=h*s+m*o+y,w<v&&(v=w),b<_&&(_=b),w>S&&(S=w),b>k&&(k=b),this.minX=v,this.minY=_,this.maxX=S,this.maxY=k}addRect(e,t){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,t)}addBounds(e,t){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,t)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const t=this.minX,s=this.minY,o=this.maxX,l=this.maxY,{a:c,b:h,c:f,d:m,tx:g,ty:y}=e;let v=c*t+f*s+g,_=h*t+m*s+y;this.minX=v,this.minY=_,this.maxX=v,this.maxY=_,v=c*o+f*s+g,_=h*o+m*s+y,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=c*t+f*l+g,_=h*t+m*l+y,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=c*o+f*l+g,_=h*o+m*l+y,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,t,s,o){return this.minX<e&&(this.minX=e),this.maxX>t&&(this.maxX=t),this.minY<s&&(this.minY=s),this.maxY>o&&(this.maxY=o),this}pad(e,t=e){return this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Yt(this.minX,this.minY,this.maxX,this.maxY)}scale(e,t=e){return this.minX*=e,this.minY*=t,this.maxX*=e,this.maxY*=t,this}get x(){return this.minX}set x(e){const t=this.maxX-this.minX;this.minX=e,this.maxX=e+t}get y(){return this.minY}set y(e){const t=this.maxY-this.minY;this.minY=e,this.maxY=e+t}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,t,s,o){let l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;o||(o=this.matrix);const m=o.a,g=o.b,y=o.c,v=o.d,_=o.tx,S=o.ty;for(let k=t;k<s;k+=2){const w=e[k],b=e[k+1],I=m*w+y*b+_,E=g*w+v*b+S;l=I<l?I:l,c=E<c?E:c,h=I>h?I:h,f=E>f?E:f}this.minX=l,this.minY=c,this.maxX=h,this.maxY=f}containsPoint(e,t){return this.minX<=e&&this.minY<=t&&this.maxX>=e&&this.maxY>=t}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var yx={grad:.9,turn:360,rad:360/(2*Math.PI)},yn=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Ke=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},Bt=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},jp=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},vf=function(i){return{r:Bt(i.r,0,255),g:Bt(i.g,0,255),b:Bt(i.b,0,255),a:Bt(i.a)}},eu=function(i){return{r:Ke(i.r),g:Ke(i.g),b:Ke(i.b),a:Ke(i.a,3)}},xx=/^#([0-9a-f]{3,8})$/i,Co=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},$p=function(i){var e=i.r,t=i.g,s=i.b,o=i.a,l=Math.max(e,t,s),c=l-Math.min(e,t,s),h=c?l===e?(t-s)/c:l===t?2+(s-e)/c:4+(e-t)/c:0;return{h:60*(h<0?h+6:h),s:l?c/l*100:0,v:l/255*100,a:o}},Yp=function(i){var e=i.h,t=i.s,s=i.v,o=i.a;e=e/360*6,t/=100,s/=100;var l=Math.floor(e),c=s*(1-t),h=s*(1-(e-l)*t),f=s*(1-(1-e+l)*t),m=l%6;return{r:255*[s,h,c,c,f,s][m],g:255*[f,s,s,h,c,c][m],b:255*[c,c,f,s,s,h][m],a:o}},wf=function(i){return{h:jp(i.h),s:Bt(i.s,0,100),l:Bt(i.l,0,100),a:Bt(i.a)}},Sf=function(i){return{h:Ke(i.h),s:Ke(i.s),l:Ke(i.l),a:Ke(i.a,3)}},Cf=function(i){return Yp((t=(e=i).s,{h:e.h,s:(t*=((s=e.l)<50?s:100-s)/100)>0?2*t/(s+t)*100:0,v:s+t,a:e.a}));var e,t,s},Yi=function(i){return{h:(e=$p(i)).h,s:(o=(200-(t=e.s))*(s=e.v)/100)>0&&o<200?t*s/100/(o<=100?o:200-o)*100:0,l:o/2,a:e.a};var e,t,s,o},_x=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bu={string:[[function(i){var e=xx.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Ke(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Ke(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=wx.exec(i)||Sx.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:vf({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=_x.exec(i)||vx.exec(i);if(!e)return null;var t,s,o=wf({h:(t=e[1],s=e[2],s===void 0&&(s="deg"),Number(t)*(yx[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Cf(o)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,s=i.b,o=i.a,l=o===void 0?1:o;return yn(e)&&yn(t)&&yn(s)?vf({r:Number(e),g:Number(t),b:Number(s),a:Number(l)}):null},"rgb"],[function(i){var e=i.h,t=i.s,s=i.l,o=i.a,l=o===void 0?1:o;if(!yn(e)||!yn(t)||!yn(s))return null;var c=wf({h:Number(e),s:Number(t),l:Number(s),a:Number(l)});return Cf(c)},"hsl"],[function(i){var e=i.h,t=i.s,s=i.v,o=i.a,l=o===void 0?1:o;if(!yn(e)||!yn(t)||!yn(s))return null;var c=(function(h){return{h:jp(h.h),s:Bt(h.s,0,100),v:Bt(h.v,0,100),a:Bt(h.a)}})({h:Number(e),s:Number(t),v:Number(s),a:Number(l)});return Yp(c)},"hsv"]]},kf=function(i,e){for(var t=0;t<e.length;t++){var s=e[t][0](i);if(s)return[s,e[t][1]]}return[null,void 0]},Cx=function(i){return typeof i=="string"?kf(i.trim(),bu.string):typeof i=="object"&&i!==null?kf(i,bu.object):[null,void 0]},tu=function(i,e){var t=Yi(i);return{h:t.h,s:Bt(t.s+100*e,0,100),l:t.l,a:t.a}},nu=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},Pf=function(i,e){var t=Yi(i);return{h:t.h,s:t.s,l:Bt(t.l+100*e,0,100),a:t.a}},Au=(function(){function i(e){this.parsed=Cx(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Ke(nu(this.rgba),2)},i.prototype.isDark=function(){return nu(this.rgba)<.5},i.prototype.isLight=function(){return nu(this.rgba)>=.5},i.prototype.toHex=function(){return e=eu(this.rgba),t=e.r,s=e.g,o=e.b,c=(l=e.a)<1?Co(Ke(255*l)):"","#"+Co(t)+Co(s)+Co(o)+c;var e,t,s,o,l,c},i.prototype.toRgb=function(){return eu(this.rgba)},i.prototype.toRgbString=function(){return e=eu(this.rgba),t=e.r,s=e.g,o=e.b,(l=e.a)<1?"rgba("+t+", "+s+", "+o+", "+l+")":"rgb("+t+", "+s+", "+o+")";var e,t,s,o,l},i.prototype.toHsl=function(){return Sf(Yi(this.rgba))},i.prototype.toHslString=function(){return e=Sf(Yi(this.rgba)),t=e.h,s=e.s,o=e.l,(l=e.a)<1?"hsla("+t+", "+s+"%, "+o+"%, "+l+")":"hsl("+t+", "+s+"%, "+o+"%)";var e,t,s,o,l},i.prototype.toHsv=function(){return e=$p(this.rgba),{h:Ke(e.h),s:Ke(e.s),v:Ke(e.v),a:Ke(e.a,3)};var e},i.prototype.invert=function(){return rn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),rn(tu(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),rn(tu(this.rgba,-e))},i.prototype.grayscale=function(){return rn(tu(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),rn(Pf(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),rn(Pf(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?rn({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ke(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=Yi(this.rgba);return typeof e=="number"?rn({h:e,s:t.s,l:t.l,a:t.a}):Ke(t.h)},i.prototype.isEqual=function(e){return this.toHex()===rn(e).toHex()},i})(),rn=function(i){return i instanceof Au?i:new Au(i)},Ef=[],kx=function(i){i.forEach(function(e){Ef.indexOf(e)<0&&(e(Au,bu),Ef.push(e))})};function Px(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var o in t)s[t[o]]=o;var l={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,f,m=s[this.toHex()];if(m)return m;if(c?.closest){var g=this.toRgb(),y=1/0,v="black";if(!l.length)for(var _ in t)l[_]=new i(t[_]).toRgb();for(var S in t){var k=(h=g,f=l[S],Math.pow(h.r-f.r,2)+Math.pow(h.g-f.g,2)+Math.pow(h.b-f.b,2));k<y&&(y=k,v=S)}return v}},e.string.push([function(c){var h=c.toLowerCase(),f=h==="transparent"?"#0000":t[h];return f?new i(f).toRgb():null},"name"])}kx([Px]);const $r=class Hi{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Hi)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,t){const s=typeof e;if(s!==typeof t)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((l,c)=>l===t[c]);if(e!==null&&t!==null){const l=Object.keys(e),c=Object.keys(t);return l.length!==c.length?!1:l.every(h=>e[h]===t[h])}return e===t}toRgba(){const[e,t,s,o]=this._components;return{r:e,g:t,b:s,a:o}}toRgb(){const[e,t,s]=this._components;return{r:e,g:t,b:s}}toRgbaString(){const[e,t,s]=this.toUint8RgbArray();return`rgba(${e},${t},${s},${this.alpha})`}toUint8RgbArray(e){const[t,s,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(t*255),e[1]=Math.round(s*255),e[2]=Math.round(o*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[t,s,o,l]=this._components;return e[0]=t,e[1]=s,e[2]=o,e[3]=l,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[t,s,o]=this._components;return e[0]=t,e[1]=s,e[2]=o,e}toNumber(){return this._int}toBgrNumber(){const[e,t,s]=this.toUint8RgbArray();return(s<<16)+(t<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,s,o,l]=Hi._temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=s,this._components[2]*=o,this._components[3]*=l,this._refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let s=this._int>>16&255,o=this._int>>8&255,l=this._int&255;return t&&(s=s*e+.5|0,o=o*e+.5|0,l=l*e+.5|0),(e*255<<24)+(s<<16)+(o<<8)+l}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let t,s,o,l;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,s=(c>>8&255)/255,o=(c&255)/255,l=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,s,o,l=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,s,o,l=255]=e,t/=255,s/=255,o/=255,l/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const h=Hi.HEX_PATTERN.exec(e);h&&(e=`#${h[2]}`)}const c=rn(e);c.isValid()&&({r:t,g:s,b:o,a:l}=c.rgba,t/=255,s/=255,o/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=s,this._components[2]=o,this._components[3]=l,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,t,s]=this._components;this._int=(e*255<<16)+(t*255<<8)+(s*255|0)}_clamp(e,t=0,s=1){return typeof e=="number"?Math.min(Math.max(e,t),s):(e.forEach((o,l)=>{e[l]=Math.min(Math.max(o,t),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Hi||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};$r.shared=new $r;$r._temp=new $r;$r.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let $e=$r;const Ex={cullArea:null,cullable:!1,cullableChildren:!0};let ru=0;const Tf=500;function ct(...i){ru!==Tf&&(ru++,ru===Tf?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...i))}const is={_registeredResources:new Set,register(i){this._registeredResources.add(i)},unregister(i){this._registeredResources.delete(i)},release(){this._registeredResources.forEach(i=>i.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(i){return this._registeredResources.has(i)},reset(){this._registeredResources.clear()}};class Tx{constructor(e,t){this._pool=[],this._count=0,this._index=0,this._classType=e,t&&this.prepopulate(t)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let t;return this._index>0?t=this._pool[--this._index]:t=new this._classType,t.init?.(e),t}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class bx{constructor(){this._poolsByClass=new Map}prepopulate(e,t){this.getPool(e).prepopulate(t)}get(e,t){return this.getPool(e).get(t)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Tx(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(t=>{const s=e[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;e[s]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const Lt=new bx;is.register(Lt);const Ax={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(i){typeof i=="boolean"&&i===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(i===!0?{}:i))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(i){ve("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(i)}};function Mx(i,e,t){const s=i.length;let o;if(e>=s||t===0)return;t=e+t>s?s-e:t;const l=s-t;for(o=e;o<l;++o)i[o]=i[o+t];i.length=l}const Rx={allowChildren:!0,removeChildren(i=0,e){const t=e??this.children.length,s=t-i,o=[];if(s>0&&s<=t){for(let c=t-1;c>=i;c--){const h=this.children[c];h&&(o.push(h),h.parent=null)}Mx(this.children,i,t);const l=this.renderGroup||this.parentRenderGroup;l&&l.removeChildren(o);for(let c=0;c<o.length;++c){const h=o[c];h.parentRenderLayer?.detach(h),this.emit("childRemoved",h,this,c),o[c].emit("removed",this)}return o.length>0&&this._didViewChangeTick++,o}else if(s===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(i){const e=this.getChildAt(i);return this.removeChild(e)},getChildAt(i){if(i<0||i>=this.children.length)throw new Error(`getChildAt: Index (${i}) does not exist.`);return this.children[i]},setChildIndex(i,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(i),this.addChildAt(i,e)},getChildIndex(i){const e=this.children.indexOf(i);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(i,e){this.allowChildren||ve(ze,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:t}=this;if(e<0||e>t.length)throw new Error(`${i}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);if(i.parent){const o=i.parent.children.indexOf(i);if(i.parent===this&&o===e)return i;o!==-1&&i.parent.children.splice(o,1)}e===t.length?t.push(i):t.splice(e,0,i),i.parent=this,i.didChange=!0,i._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(i),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",i,this,e),i.emit("added",this),i},swapChildren(i,e){if(i===e)return;const t=this.getChildIndex(i),s=this.getChildIndex(e);this.children[t]=e,this.children[s]=i;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...i){return i.length===1?this.reparentChildAt(i[0],this.children.length):(i.forEach(e=>this.reparentChildAt(e,this.children.length)),i[0])},reparentChildAt(i,e){if(i.parent===this)return this.setChildIndex(i,e),i;const t=i.worldTransform.clone();i.removeFromParent(),this.addChildAt(i,e);const s=this.worldTransform.clone();return s.invert(),t.prepend(s),i.setFromMatrix(t),i},replaceChild(i,e){i.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(i)),e.setFromMatrix(i.localTransform),e.updateLocalTransform(),this.removeChild(i)}},Ix={collectRenderables(i,e,t){this.parentRenderLayer&&this.parentRenderLayer!==t||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(i,e,t):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,i):this.collectRenderablesWithEffects(i,e,t))},collectRenderablesSimple(i,e,t){const s=this.children,o=s.length;for(let l=0;l<o;l++)s[l].collectRenderables(i,e,t)},collectRenderablesWithEffects(i,e,t){const{renderPipes:s}=e;for(let o=0;o<this.effects.length;o++){const l=this.effects[o];s[l.pipe].push(l,this,i)}this.collectRenderablesSimple(i,e,t);for(let o=this.effects.length-1;o>=0;o--){const l=this.effects[o];s[l.pipe].pop(l,this,i)}}};class bf{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Bx{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){const s=this._tests[t];if(s.test(e))return Lt.get(s.maskClass,e)}return e}returnMaskEffect(e){Lt.return(e)}}const Mu=new Bx;Nt.handleByList(ke.MaskEffect,Mu._effectClasses);const Lx={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)},addEffect(i){this.effects.indexOf(i)===-1&&(this.effects.push(i),this.effects.sort((t,s)=>t.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(i){const e=this.effects.indexOf(i);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(i){const e=this._maskEffect;e?.mask!==i&&(e&&(this.removeEffect(e),Mu.returnMaskEffect(e),this._maskEffect=null),i!=null&&(this._maskEffect=Mu.getMaskEffect(i),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(i){this._maskOptions={...this._maskOptions,...i},i.mask&&(this.mask=i.mask),this._markStructureAsChanged()},set filters(i){!Array.isArray(i)&&i&&(i=[i]);const e=this._filterEffect||(this._filterEffect=new bf);i=i;const t=i?.length>0,s=e.filters?.length>0,o=t!==s;i=Array.isArray(i)?i.slice(0):i,e.filters=Object.freeze(i),o&&(t?this.addEffect(e):(this.removeEffect(e),e.filters=i??null))},get filters(){return this._filterEffect?.filters},set filterArea(i){this._filterEffect||(this._filterEffect=new bf),this._filterEffect.filterArea=i},get filterArea(){return this._filterEffect?.filterArea}},Nx={label:null,get name(){return ve(ze,"Container.name property has been removed, use Container.label instead"),this.label},set name(i){ve(ze,"Container.name property has been removed, use Container.label instead"),this.label=i},getChildByName(i,e=!1){return this.getChildByLabel(i,e)},getChildByLabel(i,e=!1){const t=this.children;for(let s=0;s<t.length;s++){const o=t[s];if(o.label===i||i instanceof RegExp&&i.test(o.label))return o}if(e)for(let s=0;s<t.length;s++){const l=t[s].getChildByLabel(i,!0);if(l)return l}return null},getChildrenByLabel(i,e=!1,t=[]){const s=this.children;for(let o=0;o<s.length;o++){const l=s[o];(l.label===i||i instanceof RegExp&&i.test(l.label))&&t.push(l)}if(e)for(let o=0;o<s.length;o++)s[o].getChildrenByLabel(i,!0,t);return t}},ut=Lt.getPool(pe),_n=Lt.getPool(Yt),Fx=new pe,zx={getFastGlobalBounds(i,e){e||(e=new Yt),e.clear(),this._getGlobalBoundsRecursive(!!i,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const t=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(t.worldTransform),e},_getGlobalBoundsRecursive(i,e,t){let s=e;if(i&&this.parentRenderLayer&&this.parentRenderLayer!==t||this.localDisplayStatus!==7||!this.measurable)return;const o=!!this.effects.length;if((this.renderGroup||o)&&(s=_n.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const l=this.children;for(let c=0;c<l.length;c++)l[c]._getGlobalBoundsRecursive(i,s,t)}if(o){let l=!1;const c=this.renderGroup||this.parentRenderGroup;for(let h=0;h<this.effects.length;h++)this.effects[h].addBounds&&(l||(l=!0,s.applyMatrix(c.worldTransform)),this.effects[h].addBounds(s,!0));l&&s.applyMatrix(c.worldTransform.copyTo(Fx).invert()),e.addBounds(s),_n.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),_n.return(s))}};function Xp(i,e,t){t.clear();let s,o;return i.parent?e?s=i.parent.worldTransform:(o=ut.get().identity(),s=Ku(i,o)):s=pe.IDENTITY,qp(i,t,s,e),o&&ut.return(o),t.isValid||t.set(0,0,0,0),t}function qp(i,e,t,s){if(!i.visible||!i.measurable)return;let o;s?o=i.worldTransform:(i.updateLocalTransform(),o=ut.get(),o.appendFrom(i.localTransform,t));const l=e,c=!!i.effects.length;if(c&&(e=_n.get().clear()),i.boundsArea)e.addRect(i.boundsArea,o);else{const h=i.bounds;h&&!h.isEmpty()&&(e.matrix=o,e.addBounds(h));for(let f=0;f<i.children.length;f++)qp(i.children[f],e,o,s)}if(c){for(let h=0;h<i.effects.length;h++)i.effects[h].addBounds?.(e);l.addBounds(e,pe.IDENTITY),_n.return(e)}s||ut.return(o)}function Ku(i,e){const t=i.parent;return t&&(Ku(t,e),t.updateLocalTransform(),e.append(t.localTransform)),e}function Qp(i,e){if(i===16777215||!e)return e;if(e===16777215||!i)return i;const t=i>>16&255,s=i>>8&255,o=i&255,l=e>>16&255,c=e>>8&255,h=e&255,f=t*l/255|0,m=s*c/255|0,g=o*h/255|0;return(f<<16)+(m<<8)+g}const Af=16777215;function Mf(i,e){return i===Af?e:e===Af?i:Qp(i,e)}function Do(i){return((i&255)<<16)+(i&65280)+(i>>16&255)}const Ox={getGlobalAlpha(i){if(i)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,t=this.parent;for(;t;)e*=t.alpha,t=t.parent;return e},getGlobalTransform(i=new pe,e){if(e)return i.copyFrom(this.worldTransform);this.updateLocalTransform();const t=Ku(this,ut.get().identity());return i.appendFrom(this.localTransform,t),ut.return(t),i},getGlobalTint(i){if(i)return this.renderGroup?Do(this.renderGroup.worldColor):this.parentRenderGroup?Do(Mf(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,t=this.parent;for(;t;)e=Mf(e,t.localColor),t=t.parent;return Do(e)}};function Kp(i,e,t){return e.clear(),t||(t=pe.IDENTITY),Zp(i,e,t,i,!0),e.isValid||e.set(0,0,0,0),e}function Zp(i,e,t,s,o){let l;if(o)l=ut.get(),l=t.copyTo(l);else{if(!i.visible||!i.measurable)return;i.updateLocalTransform();const f=i.localTransform;l=ut.get(),l.appendFrom(f,t)}const c=e,h=!!i.effects.length;if(h&&(e=_n.get().clear()),i.boundsArea)e.addRect(i.boundsArea,l);else{i.renderPipeId&&(e.matrix=l,e.addBounds(i.bounds));const f=i.children;for(let m=0;m<f.length;m++)Zp(f[m],e,l,s,!1)}if(h){for(let f=0;f<i.effects.length;f++)i.effects[f].addLocalBounds?.(e,s);c.addBounds(e,pe.IDENTITY),_n.return(e)}ut.return(l)}function Jp(i,e){const t=i.children;for(let s=0;s<t.length;s++){const o=t[s],l=o.uid,c=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,h=e.index;(e.data[h]!==l||e.data[h+1]!==c)&&(e.data[e.index]=l,e.data[e.index+1]=c,e.didChange=!0),e.index=h+2,o.children.length&&Jp(o,e)}return e.didChange}const Dx=new pe,Ux={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(i,e){const t=Math.sign(this.scale.x)||1;e!==0?this.scale.x=i/e*t:this.scale.x=t},_setHeight(i,e){const t=Math.sign(this.scale.y)||1;e!==0?this.scale.y=i/e*t:this.scale.y=t},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Yt});const i=this._localBoundsCacheData;return i.index=1,i.didChange=!1,i.data[0]!==this._didViewChangeTick&&(i.didChange=!0,i.data[0]=this._didViewChangeTick),Jp(this,i),i.didChange&&Kp(this,i.localBounds,Dx),i.localBounds},getBounds(i,e){return Xp(this,i,e||new Yt)}},Gx={_onRender:null,set onRender(i){const e=this.renderGroup||this.parentRenderGroup;if(!i){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=i},get onRender(){return this._onRender}},Vx={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(i){this._zIndex!==i&&(this._zIndex=i,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Hx))}};function Hx(i,e){return i._zIndex-e._zIndex}const Wx={getGlobalPosition(i=new ot,e=!1){return this.parent?this.parent.toGlobal(this._position,i,e):(i.x=this._position.x,i.y=this._position.y),i},toGlobal(i,e,t=!1){const s=this.getGlobalTransform(ut.get(),t);return e=s.apply(i,e),ut.return(s),e},toLocal(i,e,t,s){e&&(i=e.toGlobal(i,t,s));const o=this.getGlobalTransform(ut.get(),s);return t=o.applyInverse(i,t),ut.return(o),t}};class em{constructor(){this.uid=Oe("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let jx=0;class $x{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new Vo(this.textureOptions)}createTexture(e,t,s){const o=new Xt({...this.textureOptions,width:e,height:t,resolution:1,antialias:s,autoGarbageCollect:!1});return new Pe({source:o,label:`texturePool_${jx++}`})}getOptimalTexture(e,t,s=1,o){let l=Math.ceil(e*s-1e-6),c=Math.ceil(t*s-1e-6);l=jr(l),c=jr(c);const h=(l<<17)+(c<<1)+(o?1:0);this._texturePool[h]||(this._texturePool[h]=[]);let f=this._texturePool[h].pop();return f||(f=this.createTexture(l,c,o)),f.source._resolution=s,f.source.width=l/s,f.source.height=c/s,f.source.pixelWidth=l,f.source.pixelHeight=c,f.frame.x=0,f.frame.y=0,f.frame.width=e,f.frame.height=t,f.updateUvs(),this._poolKeyHash[f.uid]=h,f}getSameSizeTexture(e,t=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,t)}returnTexture(e,t=!1){const s=this._poolKeyHash[e.uid];t&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const t in this._texturePool){const s=this._texturePool[t];if(s)for(let o=0;o<s.length;o++)s[o].destroy(!0)}this._texturePool={}}}const tm=new $x;is.register(tm);class Yx{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new pe,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new em,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const t=e.children;for(let s=0;s<t.length;s++){const o=t[s];o._updateFlags=15,this.addChild(o)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(tm.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const t=this.childrenToUpdate[e];t.list.fill(null),t.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const t=this.renderGroupChildren.indexOf(e);t>-1&&this.renderGroupChildren.splice(t,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const t=e.children;for(let s=0;s<t.length;s++)this.addChild(t[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const t=e.children;for(let s=0;s<t.length;s++)this.removeChild(t[s])}removeChildren(e){for(let t=0;t<e.length;t++)this.removeChild(e[t])}onChildUpdate(e){let t=this.childrenToUpdate[e.relativeRenderGroupDepth];t||(t=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),t.list[t.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const t=this.root.children;for(let s=0;s<t.length;s++)this._getChildren(t[s],e);return e}_getChildren(e,t=[]){if(t.push(e),e.renderGroup)return t;const s=e.children;for(let o=0;o<s.length;o++)this._getChildren(s[o],t);return t}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new pe),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new pe),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new pe),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Xx(i,e,t={}){for(const s in e)!t[s]&&e[s]!==void 0&&(i[s]=e[s])}const iu=new tt(null),ko=new tt(null),su=new tt(null,1,1),Po=new tt(null),Rf=1,qx=2,ou=4;class Sn extends ln{constructor(e={}){super(),this.uid=Oe("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new pe,this.relativeGroupTransform=new pe,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new tt(this,0,0),this._scale=su,this._pivot=ko,this._origin=Po,this._skew=iu,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Xx(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(t=>this.addChild(t)),e.parent?.addChild(this)}static mixin(e){ve("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Nt.mixin(Sn,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||ve(ze,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let o=0;o<e.length;o++)this.addChild(e[o]);return e[0]}const t=e[0],s=this.renderGroup||this.parentRenderGroup;return t.parent===this?(this.children.splice(this.children.indexOf(t),1),this.children.push(t),s&&(s.structureDidChange=!0),t):(t.parent&&t.parent.removeChild(t),this.children.push(t),this.sortableChildren&&(this.sortDirty=!0),t.parent=this,t.didChange=!0,t._updateFlags=15,s&&s.addChild(t),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this),this._didViewChangeTick++,t._zIndex!==0&&t.depthOfChildModified(),t)}removeChild(...e){if(e.length>1){for(let o=0;o<e.length;o++)this.removeChild(e[o]);return e[0]}const t=e[0],s=this.children.indexOf(t);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(t):this.parentRenderGroup&&this.parentRenderGroup.removeChild(t),t.parentRenderLayer&&t.parentRenderLayer.detach(t),t.parent=null,this.emit("childRemoved",t,this,s),t.emit("removed",this)),t}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=Lt.get(Yx,this),this.groupTransform=pe.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),Lt.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new pe),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*lx}set angle(e){this.rotation=e*ux}get pivot(){return this._pivot===ko&&(this._pivot=new tt(this,0,0)),this._pivot}set pivot(e){this._pivot===ko&&(this._pivot=new tt(this,0,0),this._origin!==Po&&ct("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===iu&&(this._skew=new tt(this,0,0)),this._skew}set skew(e){this._skew===iu&&(this._skew=new tt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===su&&(this._scale=new tt(this,1,1)),this._scale}set scale(e){this._scale===su&&(this._scale=new tt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===Po&&(this._origin=new tt(this,0,0)),this._origin}set origin(e){this._origin===Po&&(this._origin=new tt(this,0,0),this._pivot!==ko&&ct("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const t=this.getLocalBounds().width;this._setWidth(e,t)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const t=this.getLocalBounds().height;this._setHeight(e,t)}getSize(e){e||(e={});const t=this.getLocalBounds();return e.width=Math.abs(this.scale.x*t.width),e.height=Math.abs(this.scale.y*t.height),e}setSize(e,t){const s=this.getLocalBounds();typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,s.width),t!==void 0&&this._setHeight(t,s.height)}_updateSkew(){const e=this._rotation,t=this._skew;this._cx=Math.cos(e+t._y),this._sx=Math.sin(e+t._y),this._cy=-Math.sin(e-t._x),this._sy=Math.cos(e-t._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const t=this.localTransform,s=this._scale,o=this._pivot,l=this._origin,c=this._position,h=s._x,f=s._y,m=o._x,g=o._y,y=-l._x,v=-l._y;t.a=this._cx*h,t.b=this._sx*h,t.c=this._cy*f,t.d=this._sy*f,t.tx=c._x-(m*t.a+g*t.c)+(y*t.a+v*t.c)-y,t.ty=c._y-(m*t.b+g*t.d)+(y*t.b+v*t.d)-v}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Rf,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=$e.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=Rf,this._onUpdate())}get tint(){return Do(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=qx,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const t=e?2:0;(this.localDisplayStatus&2)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ou,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const t=e?0:4;(this.localDisplayStatus&4)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ou,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const t=e?1:0;(this.localDisplayStatus&1)!==t&&(this._updateFlags|=ou,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let t;if(this.children.length&&(t=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&t)for(let o=0;o<t.length;++o)t[o].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}Nt.mixin(Sn,Rx,zx,Wx,Gx,Ux,Lx,Nx,Vx,Ex,Ax,Ox,Ix);class Zu extends Sn{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Yt(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const t=this.bounds,{x:s,y:o}=e;return s>=t.minX&&s<=t.maxX&&o>=t.minY&&o<=t.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null;for(const t in this._gpuData)this._gpuData[t].destroy?.();this._gpuData=null}collectRenderablesSimple(e,t,s){const{renderPipes:o}=t;o.blendMode.pushBlendMode(this,this.groupBlendMode,e),o[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const c=this.children,h=c.length;for(let f=0;f<h;f++)c[f].collectRenderables(e,t,s);o.blendMode.popBlendMode(e)}}class Ki extends Zu{constructor(e=Pe.EMPTY){e instanceof Pe&&(e={texture:e});const{texture:t=Pe.EMPTY,anchor:s,roundPixels:o,width:l,height:c,...h}=e;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new tt({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:t.defaultAnchor&&(this.anchor=t.defaultAnchor),this.texture=t,this.allowChildren=!1,this.roundPixels=o??!1,l!==void 0&&(this.width=l),c!==void 0&&(this.height=c)}static from(e,t=!1){return e instanceof Pe?new Ki(e):new Ki(Pe.from(e,t))}set texture(e){e||(e=Pe.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return gx(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return ve("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,t=this._texture,s=this._bounds,{width:o,height:l}=t.orig;s.minX=-e._x*o,s.maxX=s.minX+o,s.minY=-e._y*l,s.maxY=s.minY+l}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),t!==void 0&&this._setHeight(t,this._texture.orig.height)}}const Qx=new Yt;function nm(i,e,t){const s=Qx;i.measurable=!0,Xp(i,t,s),e.addBoundsMask(s),i.measurable=!1}function rm(i,e,t){const s=_n.get();i.measurable=!0;const o=ut.get().identity(),l=im(i,t,o);Kp(i,s,l),i.measurable=!1,e.addBoundsMask(s),ut.return(o),_n.return(s)}function im(i,e,t){return i?(i!==e&&(im(i.parent,e,t),i.updateLocalTransform(),t.append(i.localTransform)),t):(ct("Mask bounds, renderable is not inside the root container"),t)}class sm{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Ki),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,t){this.inverse||nm(this.mask,e,t)}addLocalBounds(e,t){rm(this.mask,e,t)}containsPoint(e,t){const s=this.mask;return t(s,e)}destroy(){this.reset()}static test(e){return e instanceof Ki}}sm.extension=ke.MaskEffect;class om{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}om.extension=ke.MaskEffect;class am{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,t){nm(this.mask,e,t)}addLocalBounds(e,t){rm(this.mask,e,t)}containsPoint(e,t){const s=this.mask;return t(s,e)}destroy(){this.reset()}static test(e){return e instanceof Sn}}am.extension=ke.MaskEffect;const Kx={createCanvas:(i,e)=>{const t=document.createElement("canvas");return t.width=i,t.height=e,t},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")};let If=Kx;const kt={get(){return If},set(i){If=i}};class lm extends Xt{constructor(e){e.resource||(e.resource=kt.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,t=this.height,s=this._resolution){const o=super.resize(e,t,s);return o&&this.resizeCanvas(),o}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}lm.extension=ke.TextureSource;class Ho extends Xt{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Ho.extension=ke.TextureSource;var Ru=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(Ru||{});class au{constructor(e,t=null,s=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=t,this.priority=s,this._once=o}match(e,t=null){return this._fn===e&&this._context===t}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const um=class Ct{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new au(null,null,1/0),this.deltaMS=1/Ct.targetFPMS,this.elapsedMS=1/Ct.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,s=Ru.NORMAL){return this._addListener(new au(e,t,s))}addOnce(e,t,s=Ru.NORMAL){return this._addListener(new au(e,t,s,!0))}_addListener(e){let t=this._head.next,s=this._head;if(!t)e.connect(s);else{for(;t;){if(e.priority>t.priority){e.connect(s);break}s=t,t=t.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,t){let s=this._head.next;for(;s;)s.match(e,t)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const l=e-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=e-l%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Ct.targetFPMS;const s=this._head;let o=s.next;for(;o;)o=o.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,t)/1e3,Ct.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Ct._shared){const e=Ct._shared=new Ct;e.autoStart=!0,e._protected=!0}return Ct._shared}static get system(){if(!Ct._system){const e=Ct._system=new Ct;e.autoStart=!0,e._protected=!0}return Ct._system}};um.targetFPMS=.06;let Eo=um,lu;async function Zx(){return lu??(lu=(async()=>{const e=kt.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const t=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!t)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const l=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,l),e.deleteFramebuffer(o),e.deleteTexture(s),e.getExtension("WEBGL_lose_context")?.loseContext(),l[0]<=l[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),lu}const qo=class cm extends Xt{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...cm.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Eo.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,t=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(t.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Zx(),this._load=new Promise((s,o)=>{this.isValid?s(this):(this._resolve=s,this._reject=o,t.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Eo.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Eo.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Eo.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};qo.extension=ke.TextureSource;qo.defaultOptions={...Xt.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};qo.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Jx=qo;const Ur=(i,e,t=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(s=>typeof s=="string"||t?e(s):s):i);class e_{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||ct(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const s=Ur(e);let o;for(let f=0;f<this.parsers.length;f++){const m=this.parsers[f];if(m.test(t)){o=m.getCacheableAssets(s,t);break}}const l=new Map(Object.entries(o||{}));o||s.forEach(f=>{l.set(f,t)});const c=[...l.keys()],h={cacheKeys:c,keys:s};s.forEach(f=>{this._cacheMap.set(f,h)}),c.forEach(f=>{const m=o?o[f]:t;this._cache.has(f)&&this._cache.get(f)!==m&&ct("[Cache] already has key:",f),this._cache.set(f,l.get(f))})}remove(e){if(!this._cacheMap.has(e)){ct(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(o=>{this._cache.delete(o)}),t.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const Gr=new e_,Iu=[];Nt.handleByList(ke.TextureSource,Iu);function hm(i={}){const e=i&&i.resource,t=e?i.resource:i,s=e?i:{resource:i};for(let o=0;o<Iu.length;o++){const l=Iu[o];if(l.test(t))return new l(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function t_(i={},e=!1){const t=i&&i.resource,s=t?i.resource:i,o=t?i:{resource:i};if(!e&&Gr.has(s))return Gr.get(s);const l=new Pe({source:hm(o)});return l.on("destroy",()=>{Gr.has(s)&&Gr.remove(s)}),e||Gr.set(s,l),l}function n_(i,e=!1){return typeof i=="string"?Gr.get(i):i instanceof Xt?new Pe({source:i}):t_(i,e)}Pe.from=n_;Xt.from=hm;Nt.add(sm,om,am,Jx,Ho,lm,Qu);var dm=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(dm||{});function Wt(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function Fi(i){return i.split("?")[0].split("#")[0]}function r_(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i_(i,e,t){return i.replace(new RegExp(r_(e),"g"),t)}function s_(i,e){let t="",s=0,o=-1,l=0,c=-1;for(let h=0;h<=i.length;++h){if(h<i.length)c=i.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(o===h-1||l===1))if(o!==h-1&&l===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const f=t.lastIndexOf("/");if(f!==t.length-1){f===-1?(t="",s=0):(t=t.slice(0,f),s=t.length-1-t.lastIndexOf("/")),o=h,l=0;continue}}else if(t.length===2||t.length===1){t="",s=0,o=h,l=0;continue}}}else t.length>0?t+=`/${i.slice(o+1,h)}`:t=i.slice(o+1,h),s=h-o-1;o=h,l=0}else c===46&&l!==-1?++l:l=-1}return t}const Zi={toPosix(i){return i_(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Wt(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(i);return t?t[0]:""},toAbsolute(i,e,t){if(Wt(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const s=Fi(this.toPosix(e??kt.get().getBaseUrl())),o=Fi(this.toPosix(t??this.rootname(s)));return i=this.toPosix(i),i.startsWith("/")?Zi.join(o,i.slice(1)):this.isAbsolute(i)?i:this.join(s,i)},normalize(i){if(Wt(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const t=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const s=i.endsWith("/");return i=s_(i),i.length>0&&s&&(i+="/"),t?`/${i}`:e+i},isAbsolute(i){return Wt(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const s=i[t];if(Wt(s),s.length>0)if(e===void 0)e=s;else{const o=i[t-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(Wt(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const t=e===47;let s=-1,o=!0;const l=this.getProtocol(i),c=i;i=i.slice(l.length);for(let h=i.length-1;h>=1;--h)if(e=i.charCodeAt(h),e===47){if(!o){s=h;break}}else o=!1;return s===-1?t?"/":this.isUrl(c)?l+i:l:t&&s===1?"//":l+i.slice(0,s)},rootname(i){Wt(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const t=i.indexOf("/",e.length);t!==-1?e=i.slice(0,t):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){Wt(i),e&&Wt(e),i=Fi(this.toPosix(i));let t=0,s=-1,o=!0,l;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,h=-1;for(l=i.length-1;l>=0;--l){const f=i.charCodeAt(l);if(f===47){if(!o){t=l+1;break}}else h===-1&&(o=!1,h=l+1),c>=0&&(f===e.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=h))}return t===s?s=h:s===-1&&(s=i.length),i.slice(t,s)}for(l=i.length-1;l>=0;--l)if(i.charCodeAt(l)===47){if(!o){t=l+1;break}}else s===-1&&(o=!1,s=l+1);return s===-1?"":i.slice(t,s)},extname(i){Wt(i),i=Fi(this.toPosix(i));let e=-1,t=0,s=-1,o=!0,l=0;for(let c=i.length-1;c>=0;--c){const h=i.charCodeAt(c);if(h===47){if(!o){t=c+1;break}continue}s===-1&&(o=!1,s=c+1),h===46?e===-1?e=c:l!==1&&(l=1):e!==-1&&(l=-1)}return e===-1||s===-1||l===0||l===1&&e===s-1&&e===t+1?"":i.slice(e,s)},parse(i){Wt(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=Fi(this.toPosix(i));let t=i.charCodeAt(0);const s=this.isAbsolute(i);let o;e.root=this.rootname(i),s||this.hasProtocol(i)?o=1:o=0;let l=-1,c=0,h=-1,f=!0,m=i.length-1,g=0;for(;m>=o;--m){if(t=i.charCodeAt(m),t===47){if(!f){c=m+1;break}continue}h===-1&&(f=!1,h=m+1),t===46?l===-1?l=m:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||h===-1||g===0||g===1&&l===h-1&&l===c+1?h!==-1&&(c===0&&s?e.base=e.name=i.slice(1,h):e.base=e.name=i.slice(c,h)):(c===0&&s?(e.name=i.slice(1,l),e.base=i.slice(1,h)):(e.name=i.slice(c,l),e.base=i.slice(c,h)),e.ext=i.slice(l,h)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function fm(i,e,t,s,o){const l=e[t];for(let c=0;c<l.length;c++){const h=l[c];t<e.length-1?fm(i.replace(s[t],h),e,t+1,s,o):o.push(i.replace(s[t],h))}}function o_(i){const e=/\{(.*?)\}/g,t=i.match(e),s=[];if(t){const o=[];t.forEach(l=>{const c=l.substring(1,l.length-1).split(",");o.push(c)}),fm(i,o,0,t,s)}else s.push(i);return s}const Bf=i=>!Array.isArray(i);class pm{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`).join("&")}}getAlias(e){const{alias:t,src:s}=e;return Ur(t||s,l=>typeof l=="string"?l:Array.isArray(l)?l.map(c=>c?.src??c):l?.src?l.src:l,!0)}addManifest(e){this._manifest&&ct("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const s=[];let o=t;Array.isArray(t)||(o=Object.entries(t).map(([l,c])=>typeof c=="string"||Array.isArray(c)?{alias:l,src:c}:{alias:l,...c})),o.forEach(l=>{const c=l.src,h=l.alias;let f;if(typeof h=="string"){const m=this._createBundleAssetId(e,h);s.push(m),f=[h,m]}else{const m=h.map(g=>this._createBundleAssetId(e,g));s.push(...m),f=[...h,...m]}this.add({...l,alias:f,src:c})}),this._bundles[e]=s}add(e){const t=[];Array.isArray(e)?t.push(...e):t.push(e);let s;s=l=>{this.hasKey(l)&&ct(`[Resolver] already has key: ${l} overwriting`)},Ur(t).forEach(l=>{const{src:c}=l;let{data:h,format:f,loadParser:m,parser:g}=l;const y=Ur(c).map(S=>typeof S=="string"?o_(S):Array.isArray(S)?S:[S]),v=this.getAlias(l);Array.isArray(v)?v.forEach(s):s(v);const _=[];y.forEach(S=>{S.forEach(k=>{let w={};if(typeof k!="object"){w.src=k;for(let b=0;b<this._parsers.length;b++){const I=this._parsers[b];if(I.test(k)){w=I.parse(k);break}}}else h=k.data??h,f=k.format??f,(k.loadParser||k.parser)&&(m=k.loadParser??m,g=k.parser??g),w={...w,...k};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this._buildResolvedAsset(w,{aliases:v,data:h,format:f,loadParser:m,parser:g,progressSize:l.progressSize}),_.push(w)})}),v.forEach(S=>{this._assetMap[S]=_})})}resolveBundle(e){const t=Bf(e);e=Ur(e);const s={};return e.forEach(o=>{const l=this._bundles[o];if(l){const c=this.resolve(l),h={};for(const f in c){const m=c[f];h[this._extractAssetIdFromBundle(o,f)]=m}s[o]=h}}),t?s[e[0]]:s}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const s={};for(const o in t)s[o]=t[o].src;return s}return t.src}resolve(e){const t=Bf(e);e=Ur(e);const s={};return e.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let l=this._assetMap[o];const c=this._getPreferredOrder(l);c?.priority.forEach(h=>{c.params[h].forEach(f=>{const m=l.filter(g=>g[h]?g[h]===f:!1);m.length&&(l=m)})}),this._resolverHash[o]=l[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});s[o]=this._resolverHash[o]}),t?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const s=e[t],o=this._preferredOrder.find(l=>l.params.format.includes(s.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){const{aliases:s,data:o,loadParser:l,parser:c,format:h,progressSize:f}=t;return(this._basePath||this._rootPath)&&(e.src=Zi.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...o||{},...e.data},e.loadParser=l??e.loadParser,e.parser=c??e.parser,e.format=h??e.format??a_(e.src),f!==void 0&&(e.progressSize=f),e}}pm.RETINA_PREFIX=/@([0-9\.]+)x/;function a_(i){return i.split(".").pop().split("?").shift().split("#").shift()}const Lf=(i,e)=>{const t=e.split("?")[1];return t&&(i+=`?${t}`),i},mm=class Wi{constructor(e,t){this.linkedSheets=[];let s=e;e?.source instanceof Xt&&(s={texture:e,data:t});const{texture:o,data:l,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=o instanceof Pe?o:null,this.textureSource=o.source,this.textures={},this.animations={},this.data=l;const h=parseFloat(l.meta.scale);h?(this.resolution=h,o.source.resolution=this.resolution):this.resolution=o.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Wi.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const s=Wi.BATCH_SIZE;for(;t-e<s&&t<this._frameKeys.length;){const o=this._frameKeys[t],l=this._frames[o],c=l.frame;if(c){let h=null,f=null;const m=l.trimmed!==!1&&l.sourceSize?l.sourceSize:l.frame,g=new Ge(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);l.rotated?h=new Ge(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new Ge(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),l.trimmed!==!1&&l.spriteSourceSize&&(f=new Ge(Math.floor(l.spriteSourceSize.x)/this.resolution,Math.floor(l.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[o]=new Pe({source:this.textureSource,frame:h,orig:g,trim:f,rotate:l.rotated?2:0,defaultAnchor:l.anchor,defaultBorders:l.borders,label:o.toString()})}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let s=0;s<e[t].length;s++){const o=e[t][s];this.animations[t].push(this.textures[o])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Wi.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Wi.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};mm.BATCH_SIZE=1e3;let Nf=mm;const l_=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function gm(i,e,t){const s={};if(i.forEach(o=>{s[o]=e}),Object.keys(e.textures).forEach(o=>{s[`${e.cachePrefix}${o}`]=e.textures[o]}),!t){const o=Zi.dirname(i[0]);e.linkedSheets.forEach((l,c)=>{const h=gm([`${o}/${e.data.meta.related_multi_packs[c]}`],l,!0);Object.assign(s,h)})}return s}const u_={extension:ke.Asset,cache:{test:i=>i instanceof Nf,getCacheableAssets:(i,e)=>gm(i,e,!1)},resolver:{extension:{type:ke.ResolveParser,name:"resolveSpritesheet"},test:i=>{const t=i.split("?")[0].split("."),s=t.pop(),o=t.pop();return s==="json"&&l_.includes(o)},parse:i=>{const e=i.split(".");return{resolution:parseFloat(pm.RETINA_PREFIX.exec(i)?.[1]??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ke.LoadParser,priority:dm.Normal,name:"spritesheetLoader"},async testParse(i,e){return Zi.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,t){const{texture:s,imageFilename:o,textureOptions:l,cachePrefix:c}=e?.data??{};let h=Zi.dirname(e.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(s instanceof Pe)f=s;else{const y=Lf(h+(o??i.meta.image),e.src);f=(await t.load([{src:y,data:l}]))[y]}const m=new Nf({texture:f.source,data:i,cachePrefix:c});await m.parse();const g=i?.meta?.related_multi_packs;if(Array.isArray(g)){const y=[];for(const _ of g){if(typeof _!="string")continue;let S=h+_;e.data?.ignoreMultiPack||(S=Lf(S,e.src),y.push(t.load({src:S,data:{textureOptions:l,ignoreMultiPack:!0}})))}const v=await Promise.all(y);m.linkedSheets=v,v.forEach(_=>{_.linkedSheets=[m].concat(m.linkedSheets.filter(S=>S!==_))})}return m},async unload(i,e,t){await t.unload(i.textureSource._sourceOrigin),i.destroy(!1)}}};Nt.add(u_);const uu=Object.create(null),Ff=Object.create(null);function Ju(i,e){let t=Ff[i];return t===void 0&&(uu[e]===void 0&&(uu[e]=1),Ff[i]=t=uu[e]++),t}let To;function ym(){return(!To||To?.isContextLost())&&(To=kt.get().createCanvas().getContext("webgl",{})),To}let bo;function c_(){if(!bo){bo="mediump";const i=ym();i&&i.getShaderPrecisionFormat&&(bo=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision?"highp":"mediump")}return bo}function h_(i,e,t){return e?i:t?(i=i.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${i}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${i}
        `}function d_(i,e,t){const s=t?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(i.substring(0,9)!=="precision"){let o=t?e.requestedFragmentPrecision:e.requestedVertexPrecision;return o==="highp"&&s!=="highp"&&(o="mediump"),`precision ${o} float;
${i}`}else if(s!=="highp"&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}function f_(i,e){return e?`#version 300 es
${i}`:i}const p_={},m_={};function g_(i,{name:e="pixi-program"},t=!0){e=e.replace(/\s+/g,"-"),e+=t?"-fragment":"-vertex";const s=t?p_:m_;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,i.indexOf("#define SHADER_NAME")!==-1?i:`${`#define SHADER_NAME ${e}`}
${i}`}function y_(i,e){return e?i.replace("#version 300 es",""):i}const cu={stripVersion:y_,ensurePrecision:d_,addProgramDefines:h_,setProgramName:g_,insertVersion:f_},zi=Object.create(null),xm=class Bu{constructor(e){e={...Bu.defaultOptions,...e};const t=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:t,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:c_()},setProgramName:{name:e.name},addProgramDefines:t,insertVersion:t};let o=e.fragment,l=e.vertex;Object.keys(cu).forEach(c=>{const h=s[c];o=cu[c](o,h,!0),l=cu[c](l,h,!1)}),this.fragment=o,this.vertex=l,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Ju(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,zi[this._cacheKey]=null}static from(e){const t=`${e.vertex}:${e.fragment}`;return zi[t]||(zi[t]=new Bu(e),zi[t]._cacheKey=t),zi[t]}};xm.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let _m=xm;const zf={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function x_(i){return zf[i]??zf.float32}const __={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function v_({source:i,entryPoint:e}){const t={},s=i.indexOf(`fn ${e}`);if(s!==-1){const o=i.indexOf("->",s);if(o!==-1){const l=i.substring(s,o),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;(h=c.exec(l))!==null;){const f=__[h[3]]??"float32";t[h[2]]={location:parseInt(h[1],10),format:f,stride:x_(f).stride,offset:0,instance:!1,start:0}}}}return t}function hu(i){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,t=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,l=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,h=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,m=i.match(e)?.map(y=>({group:parseInt(y.match(t)[1],10),binding:parseInt(y.match(s)[1],10),name:y.match(o)[2],isUniform:y.match(o)[1]==="<uniform>",type:y.match(l)[1]}));if(!m)return{groups:[],structs:[]};const g=i.match(c)?.map(y=>{const v=y.match(f)[1],_=y.match(h).reduce((S,k)=>{const[w,b]=k.split(":");return S[w.trim()]=b.trim(),S},{});return _?{name:v,members:_}:null}).filter(({name:y})=>m.some(v=>v.type===y))??[];return{groups:m,structs:g}}var ji=(i=>(i[i.VERTEX=1]="VERTEX",i[i.FRAGMENT=2]="FRAGMENT",i[i.COMPUTE=4]="COMPUTE",i))(ji||{});function w_({groups:i}){const e=[];for(let t=0;t<i.length;t++){const s=i[t];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:ji.VERTEX|ji.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:ji.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:ji.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function S_({groups:i}){const e=[];for(let t=0;t<i.length;t++){const s=i[t];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function C_(i,e){const t=new Set,s=new Set,o=[...i.structs,...e.structs].filter(c=>t.has(c.name)?!1:(t.add(c.name),!0)),l=[...i.groups,...e.groups].filter(c=>{const h=`${c.name}-${c.binding}`;return s.has(h)?!1:(s.add(h),!0)});return{structs:o,groups:l}}const Oi=Object.create(null);class Qo{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:t,vertex:s,layout:o,gpuLayout:l,name:c}=e;if(this.name=c,this.fragment=t,this.vertex=s,t.source===s.source){const h=hu(t.source);this.structsAndGroups=h}else{const h=hu(s.source),f=hu(t.source);this.structsAndGroups=C_(h,f)}this.layout=o??S_(this.structsAndGroups),this.gpuLayout=l??w_(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,s=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=Ju(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=v_(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Oi[this._cacheKey]=null}static from(e){const t=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Oi[t]||(Oi[t]=new Qo(e),Oi[t]._cacheKey=t),Oi[t]}}const vm=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],k_=vm.reduce((i,e)=>(i[e]=!0,i),{});function P_(i,e){switch(i){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const wm=class Sm{constructor(e,t){this._touched=0,this.uid=Oe("uniform"),this._resourceType="uniformGroup",this._resourceId=Oe("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,t={...Sm.defaultOptions,...t},this.uniformStructures=e;const s={};for(const o in e){const l=e[o];if(l.name=o,l.size=l.size??1,!k_[l.type]){const c=l.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,h,f]=c;throw new Error(`Uniform type ${l.type} is not supported. Use type: '${h}', size: ${f} instead.`)}throw new Error(`Uniform type ${l.type} is not supported. Supported uniform types are: ${vm.join(", ")}`)}l.value??(l.value=P_(l.type,l.size)),s[o]=l.value}this.uniforms=s,this._dirtyId=1,this.ubo=t.ubo,this.isStatic=t.isStatic,this._signature=Ju(Object.keys(s).map(o=>`${o}-${e[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};wm.defaultOptions={ubo:!1,isStatic:!1};let Cm=wm;class Uo{constructor(e){this.resources=Object.create(null),this._dirty=!0;let t=0;for(const s in e){const o=e[s];this.setResource(o,t++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let t=0;for(const s in this.resources)e[t++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,t){const s=this.resources[t];e!==s&&(s&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[t]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const t=this.resources;for(const s in t)t[s]._touched=e}destroy(){const e=this.resources;for(const t in e)e[t]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const t=this.resources;for(const s in t)t[s]===e&&(t[s]=null)}else this._updateKey()}}var Lu=(i=>(i[i.WEBGL=1]="WEBGL",i[i.WEBGPU=2]="WEBGPU",i[i.BOTH=3]="BOTH",i))(Lu||{});class ec extends ln{constructor(e){super(),this.uid=Oe("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:s,groups:o,resources:l,compatibleRenderers:c,groupMap:h}=e;this.gpuProgram=t,this.glProgram=s,c===void 0&&(c=0,t&&(c|=Lu.WEBGPU),s&&(c|=Lu.WEBGL)),this.compatibleRenderers=c;const f={};if(!l&&!o&&(l={}),l&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&o&&!h)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&o&&h)for(const m in h)for(const g in h[m]){const y=h[m][g];f[y]={group:m,binding:g,name:y}}else if(t&&o&&!h){const m=t.structsAndGroups.groups;h={},m.forEach(g=>{h[g.group]=h[g.group]||{},h[g.group][g.binding]=g.name,f[g.name]=g})}else if(l){o={},h={},t&&t.structsAndGroups.groups.forEach(y=>{h[y.group]=h[y.group]||{},h[y.group][y.binding]=y.name,f[y.name]=y});let m=0;for(const g in l)f[g]||(o[99]||(o[99]=new Uo,this._ownedBindGroups.push(o[99])),f[g]={group:99,binding:m,name:g},h[99]=h[99]||{},h[99][m]=g,m++);for(const g in l){const y=g;let v=l[g];!v.source&&!v._resourceType&&(v=new Cm(v));const _=f[y];_&&(o[_.group]||(o[_.group]=new Uo,this._ownedBindGroups.push(o[_.group])),o[_.group].setResource(v,_.binding))}}this.groups=o,this._uniformBindMap=h,this.resources=this._buildResourceAccessor(o,f)}addResource(e,t,s){var o,l;(o=this._uniformBindMap)[t]||(o[t]={}),(l=this._uniformBindMap[t])[s]||(l[s]=e),this.groups[t]||(this.groups[t]=new Uo,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const s={};for(const o in t){const l=t[o];Object.defineProperty(s,l.name,{get(){return e[l.group].getResource(l.binding)},set(c){e[l.group].setResource(c,l.binding)}})}return s}destroy(e=!1){this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(t=>{t.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:s,...o}=e;let l,c;return t&&(l=Qo.from(t)),s&&(c=_m.from(s)),new ec({gpuProgram:l,glProgram:c,...o})}}const Nu=[];Nt.handleByNamedList(ke.Environment,Nu);async function E_(i){if(!i)for(let e=0;e<Nu.length;e++){const t=Nu[e];if(t.value.test()){await t.value.load();return}}}let Di;function T_(){if(typeof Di=="boolean")return Di;try{Di=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Di=!1}return Di}function Of(i,e,t=2){const s=e&&e.length,o=s?e[0]*t:i.length;let l=km(i,0,o,t,!0);const c=[];if(!l||l.next===l.prev)return c;let h,f,m;if(s&&(l=I_(i,e,l,t)),i.length>80*t){h=i[0],f=i[1];let g=h,y=f;for(let v=t;v<o;v+=t){const _=i[v],S=i[v+1];_<h&&(h=_),S<f&&(f=S),_>g&&(g=_),S>y&&(y=S)}m=Math.max(g-h,y-f),m=m!==0?32767/m:0}return Ji(l,c,t,h,f,m,0),c}function km(i,e,t,s,o){let l;if(o===H_(i,e,t,s)>0)for(let c=e;c<t;c+=s)l=Df(c/s|0,i[c],i[c+1],l);else for(let c=t-s;c>=e;c-=s)l=Df(c/s|0,i[c],i[c+1],l);return l&&Yr(l,l.next)&&(ts(l),l=l.next),l}function hr(i,e){if(!i)return i;e||(e=i);let t=i,s;do if(s=!1,!t.steiner&&(Yr(t,t.next)||Be(t.prev,t,t.next)===0)){if(ts(t),t=e=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==e);return e}function Ji(i,e,t,s,o,l,c){if(!i)return;!c&&l&&z_(i,s,o,l);let h=i;for(;i.prev!==i.next;){const f=i.prev,m=i.next;if(l?A_(i,s,o,l):b_(i)){e.push(f.i,i.i,m.i),ts(i),i=m.next,h=m.next;continue}if(i=m,i===h){c?c===1?(i=M_(hr(i),e),Ji(i,e,t,s,o,l,2)):c===2&&R_(i,e,t,s,o,l):Ji(hr(i),e,t,s,o,l,1);break}}}function b_(i){const e=i.prev,t=i,s=i.next;if(Be(e,t,s)>=0)return!1;const o=e.x,l=t.x,c=s.x,h=e.y,f=t.y,m=s.y,g=Math.min(o,l,c),y=Math.min(h,f,m),v=Math.max(o,l,c),_=Math.max(h,f,m);let S=s.next;for(;S!==e;){if(S.x>=g&&S.x<=v&&S.y>=y&&S.y<=_&&$i(o,h,l,f,c,m,S.x,S.y)&&Be(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function A_(i,e,t,s){const o=i.prev,l=i,c=i.next;if(Be(o,l,c)>=0)return!1;const h=o.x,f=l.x,m=c.x,g=o.y,y=l.y,v=c.y,_=Math.min(h,f,m),S=Math.min(g,y,v),k=Math.max(h,f,m),w=Math.max(g,y,v),b=Fu(_,S,e,t,s),I=Fu(k,w,e,t,s);let E=i.prevZ,A=i.nextZ;for(;E&&E.z>=b&&A&&A.z<=I;){if(E.x>=_&&E.x<=k&&E.y>=S&&E.y<=w&&E!==o&&E!==c&&$i(h,g,f,y,m,v,E.x,E.y)&&Be(E.prev,E,E.next)>=0||(E=E.prevZ,A.x>=_&&A.x<=k&&A.y>=S&&A.y<=w&&A!==o&&A!==c&&$i(h,g,f,y,m,v,A.x,A.y)&&Be(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;E&&E.z>=b;){if(E.x>=_&&E.x<=k&&E.y>=S&&E.y<=w&&E!==o&&E!==c&&$i(h,g,f,y,m,v,E.x,E.y)&&Be(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;A&&A.z<=I;){if(A.x>=_&&A.x<=k&&A.y>=S&&A.y<=w&&A!==o&&A!==c&&$i(h,g,f,y,m,v,A.x,A.y)&&Be(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function M_(i,e){let t=i;do{const s=t.prev,o=t.next.next;!Yr(s,o)&&Em(s,t,t.next,o)&&es(s,o)&&es(o,s)&&(e.push(s.i,t.i,o.i),ts(t),ts(t.next),t=i=o),t=t.next}while(t!==i);return hr(t)}function R_(i,e,t,s,o,l){let c=i;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&U_(c,h)){let f=Tm(c,h);c=hr(c,c.next),f=hr(f,f.next),Ji(c,e,t,s,o,l,0),Ji(f,e,t,s,o,l,0);return}h=h.next}c=c.next}while(c!==i)}function I_(i,e,t,s){const o=[];for(let l=0,c=e.length;l<c;l++){const h=e[l]*s,f=l<c-1?e[l+1]*s:i.length,m=km(i,h,f,s,!1);m===m.next&&(m.steiner=!0),o.push(D_(m))}o.sort(B_);for(let l=0;l<o.length;l++)t=L_(o[l],t);return t}function B_(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const s=(i.next.y-i.y)/(i.next.x-i.x),o=(e.next.y-e.y)/(e.next.x-e.x);t=s-o}return t}function L_(i,e){const t=N_(i,e);if(!t)return e;const s=Tm(t,i);return hr(s,s.next),hr(t,t.next)}function N_(i,e){let t=e;const s=i.x,o=i.y;let l=-1/0,c;if(Yr(i,t))return t;do{if(Yr(i,t.next))return t.next;if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const y=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=s&&y>l&&(l=y,c=t.x<t.next.x?t:t.next,y===s))return c}t=t.next}while(t!==e);if(!c)return null;const h=c,f=c.x,m=c.y;let g=1/0;t=c;do{if(s>=t.x&&t.x>=f&&s!==t.x&&Pm(o<m?s:l,o,f,m,o<m?l:s,o,t.x,t.y)){const y=Math.abs(o-t.y)/(s-t.x);es(t,i)&&(y<g||y===g&&(t.x>c.x||t.x===c.x&&F_(c,t)))&&(c=t,g=y)}t=t.next}while(t!==h);return c}function F_(i,e){return Be(i.prev,i,e.prev)<0&&Be(e.next,i,i.next)<0}function z_(i,e,t,s){let o=i;do o.z===0&&(o.z=Fu(o.x,o.y,e,t,s)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==i);o.prevZ.nextZ=null,o.prevZ=null,O_(o)}function O_(i){let e,t=1;do{let s=i,o;i=null;let l=null;for(e=0;s;){e++;let c=s,h=0;for(let m=0;m<t&&(h++,c=c.nextZ,!!c);m++);let f=t;for(;h>0||f>0&&c;)h!==0&&(f===0||!c||s.z<=c.z)?(o=s,s=s.nextZ,h--):(o=c,c=c.nextZ,f--),l?l.nextZ=o:i=o,o.prevZ=l,l=o;s=c}l.nextZ=null,t*=2}while(e>1);return i}function Fu(i,e,t,s,o){return i=(i-t)*o|0,e=(e-s)*o|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function D_(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function Pm(i,e,t,s,o,l,c,h){return(o-c)*(e-h)>=(i-c)*(l-h)&&(i-c)*(s-h)>=(t-c)*(e-h)&&(t-c)*(l-h)>=(o-c)*(s-h)}function $i(i,e,t,s,o,l,c,h){return!(i===c&&e===h)&&Pm(i,e,t,s,o,l,c,h)}function U_(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!G_(i,e)&&(es(i,e)&&es(e,i)&&V_(i,e)&&(Be(i.prev,i,e.prev)||Be(i,e.prev,e))||Yr(i,e)&&Be(i.prev,i,i.next)>0&&Be(e.prev,e,e.next)>0)}function Be(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Yr(i,e){return i.x===e.x&&i.y===e.y}function Em(i,e,t,s){const o=Mo(Be(i,e,t)),l=Mo(Be(i,e,s)),c=Mo(Be(t,s,i)),h=Mo(Be(t,s,e));return!!(o!==l&&c!==h||o===0&&Ao(i,t,e)||l===0&&Ao(i,s,e)||c===0&&Ao(t,i,s)||h===0&&Ao(t,e,s))}function Ao(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Mo(i){return i>0?1:i<0?-1:0}function G_(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&Em(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function es(i,e){return Be(i.prev,i,i.next)<0?Be(i,e,i.next)>=0&&Be(i,i.prev,e)>=0:Be(i,e,i.prev)<0||Be(i,i.next,e)<0}function V_(i,e){let t=i,s=!1;const o=(i.x+e.x)/2,l=(i.y+e.y)/2;do t.y>l!=t.next.y>l&&t.next.y!==t.y&&o<(t.next.x-t.x)*(l-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==i);return s}function Tm(i,e){const t=zu(i.i,i.x,i.y),s=zu(e.i,e.x,e.y),o=i.next,l=e.prev;return i.next=e,e.prev=i,t.next=o,o.prev=t,s.next=t,t.prev=s,l.next=s,s.prev=l,s}function Df(i,e,t,s){const o=zu(i,e,t);return s?(o.next=s.next,o.prev=s,s.next.prev=o,s.next=o):(o.prev=o,o.next=o),o}function ts(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function zu(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function H_(i,e,t,s){let o=0;for(let l=e,c=t-s;l<t;l+=s)o+=(i[c]-i[l])*(i[l+1]+i[c+1]),c=l;return o}const W_=Of.default||Of;var bm=(i=>(i[i.NONE=0]="NONE",i[i.COLOR=16384]="COLOR",i[i.STENCIL=1024]="STENCIL",i[i.DEPTH=256]="DEPTH",i[i.COLOR_DEPTH=16640]="COLOR_DEPTH",i[i.COLOR_STENCIL=17408]="COLOR_STENCIL",i[i.DEPTH_STENCIL=1280]="DEPTH_STENCIL",i[i.ALL=17664]="ALL",i))(bm||{});class j_{constructor(e){this.items=[],this._name=e}emit(e,t,s,o,l,c,h,f){const{name:m,items:g}=this;for(let y=0,v=g.length;y<v;y++)g[y][m](e,t,s,o,l,c,h,f);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&this.items.splice(t,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const $_=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Am=class Mm extends ln{constructor(e){super(),this.uid=Oe("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const t=[...$_,...this.config.runners??[]];this._addRunners(...t),this._unsafeEvalCheck()}async init(e={}){const t=e.skipExtensionImports===!0?!0:e.manageImports===!1;await E_(t),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...Mm.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,t){let s=e;if(s instanceof Sn&&(s={container:s},t&&(ve(ze,"passing a second argument is deprecated, please use render options instead"),s.target=t.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const o=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=o?s.clearColor:$e.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(e,t,s){const o=this.view.resolution;this.view.resize(e,t,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==o&&this.runners.resolutionChange.emit(s)}clear(e={}){const t=this;e.target||(e.target=t.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=bm.ALL);const{clear:s,clearColor:o,target:l}=e;$e.shared.setValue(o??this.background.colorRgba),t.renderTarget.clear(l,s,$e.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(t=>{this.runners[t]=new j_(t)})}_addSystems(e){let t;for(t in e){const s=e[t];this._addSystem(s.value,s.name)}}_addSystem(e,t){const s=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=s,this._systemsHash[t]=s;for(const o in this.runners)this.runners[o].add(s);return this}_addPipes(e,t){const s=t.reduce((o,l)=>(o[l.name]=l.value,o),{});e.forEach(o=>{const l=o.value,c=o.name,h=s[c];this.renderPipes[c]=new l(this,h?new h:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(t=>{t.destroy()}),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&is.release(),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!T_())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Am.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Rm=Am,Ro;function Y_(i){return Ro!==void 0||(Ro=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:i??Rm.defaultOptions.failIfMajorPerformanceCaveat};try{if(!kt.get().getWebGLRenderingContext())return!1;let s=kt.get().createCanvas().getContext("webgl",e);const o=!!s?.getContextAttributes()?.stencil;if(s){const l=s.getExtension("WEBGL_lose_context");l&&l.loseContext()}return s=null,o}catch{return!1}})()),Ro}let Io;async function X_(i={}){return Io!==void 0||(Io=await(async()=>{const e=kt.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(i)).requestDevice(),!0}catch{return!1}})()),Io}const Uf=["webgl","webgpu","canvas"];async function q_(i){let e=[];i.preference?(e.push(i.preference),Uf.forEach(l=>{l!==i.preference&&e.push(l)})):e=Uf.slice();let t,s={};for(let l=0;l<e.length;l++){const c=e[l];if(c==="webgpu"&&await X_()){const{WebGPURenderer:h}=await Go(async()=>{const{WebGPURenderer:f}=await import("./WebGPURenderer-BZhqfJ-4.js");return{WebGPURenderer:f}},__vite__mapDeps([3,2,4]));t=h,s={...i,...i.webgpu};break}else if(c==="webgl"&&Y_(i.failIfMajorPerformanceCaveat??Rm.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await Go(async()=>{const{WebGLRenderer:f}=await import("./WebGLRenderer-BBmLLy7h.js");return{WebGLRenderer:f}},__vite__mapDeps([5,2,4]));t=h,s={...i,...i.webgl};break}else if(c==="canvas")throw s={...i},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!t)throw new Error("No available renderer for the current environment");const o=new t;return await o.init(s),o}const Im="8.14.1";class Bm{static init(){globalThis.__PIXI_APP_INIT__?.(this,Im)}static destroy(){}}Bm.extension=ke.Application;class Q_{constructor(e){this._renderer=e}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,Im)}destroy(){this._renderer=null}}Q_.extension={type:[ke.WebGLSystem,ke.WebGPUSystem],name:"initHook",priority:-10};const Lm=class Ou{constructor(...e){this.stage=new Sn,e[0]!==void 0&&ve(ze,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await q_(e),Ou._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return ve(ze,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,t=!1){const s=Ou._plugins.slice(0);s.reverse(),s.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Lm._plugins=[];let Nm=Lm;Nt.handleByList(ke.Application,Nm._plugins);Nt.add(Bm);class K_{constructor(e=0,t=0,s=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.resetTtl=s,this.size=0,this.ttl=t}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e],this.size--,t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}entries(e=this.keys()){return e.map(t=>[t,this.get(t)])}evict(e=!1){if(e||this.size>0){const t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}return this}expiresAt(e){let t;return this.has(e)&&(t=this.items[e].expiry),t}get(e){const t=this.items[e];if(t!==void 0){if(this.ttl>0&&t.expiry<=Date.now()){this.delete(e);return}return this.moveToEnd(t),t.value}}has(e){return e in this.items}moveToEnd(e){this.last!==e&&(e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),e.prev=this.last,e.next=null,this.last!==null&&(this.last.next=e),this.last=e,this.first===null&&(this.first=e))}keys(){const e=[];let t=this.first;for(;t!==null;)e.push(t.key),t=t.next;return e}setWithEvicted(e,t,s=this.resetTtl){let o=null;if(this.has(e))this.set(e,t,!0,s);else{this.max>0&&this.size===this.max&&(o={...this.first},this.evict(!0));let l=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t};++this.size===1?this.first=l:this.last.next=l,this.last=l}return o}set(e,t,s=!1,o=this.resetTtl){let l=this.items[e];return s||l!==void 0?(l.value=t,s===!1&&o&&(l.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(l)):(this.max>0&&this.size===this.max&&this.evict(!0),l=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},++this.size===1?this.first=l:this.last.next=l,this.last=l),this}values(e=this.keys()){return e.map(t=>this.get(t))}}function Z_(i=1e3,e=0,t=!1){if(isNaN(i)||i<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");if(typeof t!="boolean")throw new TypeError("Invalid resetTtl value");return new K_(i,e,t)}const J_=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Fm(i){const e=typeof i.fontSize=="number"?`${i.fontSize}px`:i.fontSize;let t=i.fontFamily;Array.isArray(i.fontFamily)||(t=i.fontFamily.split(","));for(let s=t.length-1;s>=0;s--){let o=t[s].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!J_.includes(o)&&(o=`"${o}"`),t[s]=o}return`${i.fontStyle} ${i.fontVariant} ${i.fontWeight} ${e} ${t.join(",")}`}const du={willReadFrequently:!0},qt=class re{static get experimentalLetterSpacingSupported(){let e=re._experimentalLetterSpacingSupported;if(e===void 0){const t=kt.get().getCanvasRenderingContext2D().prototype;e=re._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,s,o,l,c,h,f,m){this.text=e,this.style=t,this.width=s,this.height=o,this.lines=l,this.lineWidths=c,this.lineHeight=h,this.maxLineWidth=f,this.fontProperties=m}static measureText(e=" ",t,s=re._canvas,o=t.wordWrap){const l=`${e}-${t.styleKey}-wordWrap-${o}`;if(re._measurementCache.has(l))return re._measurementCache.get(l);const c=Fm(t),h=re.measureFont(c);h.fontSize===0&&(h.fontSize=t.fontSize,h.ascent=t.fontSize);const f=re.__context;f.font=c;const g=(o?re._wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),y=new Array(g.length);let v=0;for(let I=0;I<g.length;I++){const E=re._measureText(g[I],t.letterSpacing,f);y[I]=E,v=Math.max(v,E)}const _=t._stroke?.width||0;let S=v+_;t.dropShadow&&(S+=t.dropShadow.distance);const k=t.lineHeight||h.fontSize;let w=Math.max(k,h.fontSize+_)+(g.length-1)*(k+t.leading);t.dropShadow&&(w+=t.dropShadow.distance);const b=new re(e,t,S,w,g,y,k+t.leading,v,h);return re._measurementCache.set(l,b),b}static _measureText(e,t,s){let o=!1;re.experimentalLetterSpacingSupported&&(re.experimentalLetterSpacing?(s.letterSpacing=`${t}px`,s.textLetterSpacing=`${t}px`,o=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const l=s.measureText(e);let c=l.width;const h=-l.actualBoundingBoxLeft;let m=l.actualBoundingBoxRight-h;if(c>0)if(o)c-=t,m-=t;else{const g=(re.graphemeSegmenter(e).length-1)*t;c+=g,m+=g}return Math.max(c,m)}static _wordWrap(e,t,s=re._canvas){const o=s.getContext("2d",du);let l=0,c="",h="";const f=Object.create(null),{letterSpacing:m,whiteSpace:g}=t,y=re._collapseSpaces(g),v=re._collapseNewlines(g);let _=!y;const S=t.wordWrapWidth+m,k=re._tokenize(e);for(let w=0;w<k.length;w++){let b=k[w];if(re._isNewline(b)){if(!v){h+=re._addLine(c),_=!y,c="",l=0;continue}b=" "}if(y){const E=re.isBreakingSpace(b),A=re.isBreakingSpace(c[c.length-1]);if(E&&A)continue}const I=re._getFromCache(b,m,f,o);if(I>S)if(c!==""&&(h+=re._addLine(c),c="",l=0),re.canBreakWords(b,t.breakWords)){const E=re.wordWrapSplit(b);for(let A=0;A<E.length;A++){let F=E[A],R=F,z=1;for(;E[A+z];){const Y=E[A+z];if(!re.canBreakChars(R,Y,b,A,t.breakWords))F+=Y;else break;R=Y,z++}A+=z-1;const Q=re._getFromCache(F,m,f,o);Q+l>S&&(h+=re._addLine(c),_=!1,c="",l=0),c+=F,l+=Q}}else{c.length>0&&(h+=re._addLine(c),c="",l=0);const E=w===k.length-1;h+=re._addLine(b,!E),_=!1,c="",l=0}else I+l>S&&(_=!1,h+=re._addLine(c),c="",l=0),(c.length>0||!re.isBreakingSpace(b)||_)&&(c+=b,l+=I)}return h+=re._addLine(c,!1),h}static _addLine(e,t=!0){return e=re._trimRight(e),e=t?`${e}
`:e,e}static _getFromCache(e,t,s,o){let l=s[e];return typeof l!="number"&&(l=re._measureText(e,t,o)+t,s[e]=l),l}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const s=e[t];if(!re.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:re._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:re._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const t=[];let s="";if(typeof e!="string")return t;for(let o=0;o<e.length;o++){const l=e[o],c=e[o+1];if(re.isBreakingSpace(l,c)||re._isNewline(l)){s!==""&&(t.push(s),s=""),l==="\r"&&c===`
`?(t.push(`\r
`),o++):t.push(l);continue}s+=l}return s!==""&&t.push(s),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,s,o,l){return!0}static wordWrapSplit(e){return re.graphemeSegmenter(e)}static measureFont(e){if(re._fonts[e])return re._fonts[e];const t=re._context;t.font=e;const s=t.measureText(re.METRICS_STRING+re.BASELINE_SYMBOL),o={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return re._fonts[e]=o,o}static clearMetrics(e=""){e?delete re._fonts[e]:re._fonts={}}static get _canvas(){if(!re.__canvas){let e;try{const t=new OffscreenCanvas(0,0);if(t.getContext("2d",du)?.measureText)return re.__canvas=t,t;e=kt.get().createCanvas()}catch{e=kt.get().createCanvas()}e.width=e.height=10,re.__canvas=e}return re.__canvas}static get _context(){return re.__context||(re.__context=re._canvas.getContext("2d",du)),re.__context}};qt.METRICS_STRING="|q";qt.BASELINE_SYMBOL="M";qt.BASELINE_MULTIPLIER=1.4;qt.HEIGHT_MULTIPLIER=2;qt.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const i=new Intl.Segmenter;return e=>{const t=i.segment(e),s=[];let o=0;for(const l of t)s[o++]=l.segment;return s}}return i=>[...i]})();qt.experimentalLetterSpacing=!1;qt._fonts={};qt._newlines=[10,13];qt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];qt._measurementCache=Z_(1e3);let Vr=qt;const Gf=[{offset:0,color:"white"},{offset:1,color:"black"}],tc=class Du{constructor(...e){this.uid=Oe("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let t=ev(e);t={...t.type==="radial"?Du.defaultRadialOptions:Du.defaultLinearOptions,...Up(t)},this._textureSize=t.textureSize,this._wrapMode=t.wrapMode,t.type==="radial"?(this.center=t.center,this.outerCenter=t.outerCenter??this.center,this.innerRadius=t.innerRadius,this.outerRadius=t.outerRadius,this.scale=t.scale,this.rotation=t.rotation):(this.start=t.start,this.end=t.end),this.textureSpace=t.textureSpace,this.type=t.type,t.colorStops.forEach(o=>{this.addColorStop(o.offset,o.color)})}addColorStop(e,t){return this.colorStops.push({offset:e,color:$e.shared.setValue(t).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:t}=this.start,{x:s,y:o}=this.end,l=s-e,c=o-t;const h=l<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(l<0){const w=e;e=s,s=w,l*=-1}if(c<0){const w=t;t=o,o=w,c*=-1}}const f=this.colorStops.length?this.colorStops:Gf,m=this._textureSize,{canvas:g,context:y}=Hf(m,1),v=h?y.createLinearGradient(this._textureSize,0,0,0):y.createLinearGradient(0,0,this._textureSize,0);Vf(v,f),y.fillStyle=v,y.fillRect(0,0,m,1),this.texture=new Pe({source:new Ho({resource:g,addressMode:this._wrapMode})});const _=Math.sqrt(l*l+c*c),S=Math.atan2(c,l),k=new pe;k.scale(_/m,1),k.rotate(S),k.translate(e,t),this.textureSpace==="local"&&k.scale(m,m),this.transform=k}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:Gf,t=this._textureSize,{canvas:s,context:o}=Hf(t,t),{x:l,y:c}=this.center,{x:h,y:f}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,y=h-g,v=f-g,_=t/(g*2),S=(l-y)*_,k=(c-v)*_,w=o.createRadialGradient(S,k,m*_,(h-y)*_,(f-v)*_,g*_);Vf(w,e),o.fillStyle=e[e.length-1].color,o.fillRect(0,0,t,t),o.fillStyle=w,o.translate(S,k),o.rotate(this.rotation),o.scale(1,this.scale),o.translate(-S,-k),o.fillRect(0,0,t,t),this.texture=new Pe({source:new Ho({resource:s,addressMode:this._wrapMode})});const b=new pe;b.scale(1/_,1/_),b.translate(y,v),this.textureSpace==="local"&&b.scale(t,t),this.transform=b}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};tc.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};tc.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let wn=tc;function Vf(i,e){for(let t=0;t<e.length;t++){const s=e[t];i.addColorStop(s.offset,s.color)}}function Hf(i,e){const t=kt.get().createCanvas(i,e),s=t.getContext("2d");return{canvas:t,context:s}}function ev(i){let e=i[0]??{};return(typeof e=="number"||i[1])&&(ve("8.5.2","use options object instead"),e={type:"linear",start:{x:i[0],y:i[1]},end:{x:i[2],y:i[3]},textureSpace:i[4],textureSize:i[5]??wn.defaultLinearOptions.textureSize}),e}const Wf={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Ko{constructor(e,t){this.uid=Oe("fillPattern"),this._tick=0,this.transform=new pe,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),t&&(e.source.style.addressModeU=Wf[t].addressModeU,e.source.style.addressModeV=Wf[t].addressModeV)}setTransform(e){const t=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/t.frame.width,1/t.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var fu,jf;function tv(){if(jf)return fu;jf=1,fu=t;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function t(l){var c=[];return l.replace(e,function(h,f,m){var g=f.toLowerCase();for(m=o(m),g=="m"&&m.length>2&&(c.push([f].concat(m.splice(0,2))),g="l",f=f=="m"?"l":"L");;){if(m.length==i[g])return m.unshift(f),c.push(m);if(m.length<i[g])throw new Error("malformed path data");c.push([f].concat(m.splice(0,i[g])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(l){var c=l.match(s);return c?c.map(Number):[]}return fu}var nv=tv();const rv=$o(nv);function iv(i,e){const t=rv(i),s=[];let o=null,l=0,c=0;for(let h=0;h<t.length;h++){const f=t[h],m=f[0],g=f;switch(m){case"M":l=g[1],c=g[2],e.moveTo(l,c);break;case"m":l+=g[1],c+=g[2],e.moveTo(l,c);break;case"H":l=g[1],e.lineTo(l,c);break;case"h":l+=g[1],e.lineTo(l,c);break;case"V":c=g[1],e.lineTo(l,c);break;case"v":c+=g[1],e.lineTo(l,c);break;case"L":l=g[1],c=g[2],e.lineTo(l,c);break;case"l":l+=g[1],c+=g[2],e.lineTo(l,c);break;case"C":l=g[5],c=g[6],e.bezierCurveTo(g[1],g[2],g[3],g[4],l,c);break;case"c":e.bezierCurveTo(l+g[1],c+g[2],l+g[3],c+g[4],l+g[5],c+g[6]),l+=g[5],c+=g[6];break;case"S":l=g[3],c=g[4],e.bezierCurveToShort(g[1],g[2],l,c);break;case"s":e.bezierCurveToShort(l+g[1],c+g[2],l+g[3],c+g[4]),l+=g[3],c+=g[4];break;case"Q":l=g[3],c=g[4],e.quadraticCurveTo(g[1],g[2],l,c);break;case"q":e.quadraticCurveTo(l+g[1],c+g[2],l+g[3],c+g[4]),l+=g[3],c+=g[4];break;case"T":l=g[1],c=g[2],e.quadraticCurveToShort(l,c);break;case"t":l+=g[1],c+=g[2],e.quadraticCurveToShort(l,c);break;case"A":l=g[6],c=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],l,c);break;case"a":l+=g[6],c+=g[7],e.arcToSvg(g[1],g[2],g[3],g[4],g[5],l,c);break;case"Z":case"z":e.closePath(),s.length>0&&(o=s.pop(),o?(l=o.startX,c=o.startY):(l=0,c=0)),o=null;break;default:ct(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&o===null&&(o={startX:l,startY:c},s.push(o))}return e}class nc{constructor(e=0,t=0,s=0){this.type="circle",this.x=e,this.y=t,this.radius=s}clone(){return new nc(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const s=this.radius*this.radius;let o=this.x-e,l=this.y-t;return o*=o,l*=l,o+l<=s}strokeContains(e,t,s,o=.5){if(this.radius===0)return!1;const l=this.x-e,c=this.y-t,h=this.radius,f=(1-o)*s,m=Math.sqrt(l*l+c*c);return m<=h+f&&m>h-(s-f)}getBounds(e){return e||(e=new Ge),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class rc{constructor(e=0,t=0,s=0,o=0){this.type="ellipse",this.x=e,this.y=t,this.halfWidth=s,this.halfHeight=o}clone(){return new rc(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,t){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,o=(t-this.y)/this.halfHeight;return s*=s,o*=o,s+o<=1}strokeContains(e,t,s,o=.5){const{halfWidth:l,halfHeight:c}=this;if(l<=0||c<=0)return!1;const h=s*(1-o),f=s-h,m=l-f,g=c-f,y=l+h,v=c+h,_=e-this.x,S=t-this.y,k=_*_/(m*m)+S*S/(g*g),w=_*_/(y*y)+S*S/(v*v);return k>1&&w<=1}getBounds(e){return e||(e=new Ge),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function sv(i,e,t,s,o,l){const c=i-t,h=e-s,f=o-t,m=l-s,g=c*f+h*m,y=f*f+m*m;let v=-1;y!==0&&(v=g/y);let _,S;v<0?(_=t,S=s):v>1?(_=o,S=l):(_=t+v*f,S=s+v*m);const k=i-_,w=e-S;return k*k+w*w}let ov,av;class Xi{constructor(...e){this.type="polygon";let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const s=[];for(let o=0,l=t.length;o<l;o++)s.push(t[o].x,t[o].y);t=s}this.points=t,this.closePath=!0}isClockwise(){let e=0;const t=this.points,s=t.length;for(let o=0;o<s;o+=2){const l=t[o],c=t[o+1],h=t[(o+2)%s],f=t[(o+3)%s];e+=(h-l)*(f+c)}return e<0}containsPolygon(e){const t=this.getBounds(ov),s=e.getBounds(av);if(!t.containsRect(s))return!1;const o=e.points;for(let l=0;l<o.length;l+=2){const c=o[l],h=o[l+1];if(!this.contains(c,h))return!1}return!0}clone(){const e=this.points.slice(),t=new Xi(e);return t.closePath=this.closePath,t}contains(e,t){let s=!1;const o=this.points.length/2;for(let l=0,c=o-1;l<o;c=l++){const h=this.points[l*2],f=this.points[l*2+1],m=this.points[c*2],g=this.points[c*2+1];f>t!=g>t&&e<(m-h)*((t-f)/(g-f))+h&&(s=!s)}return s}strokeContains(e,t,s,o=.5){const l=s*s,c=l*(1-o),h=l-c,{points:f}=this,m=f.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const y=f[g],v=f[g+1],_=f[(g+2)%f.length],S=f[(g+3)%f.length],k=sv(e,t,y,v,_,S),w=Math.sign((_-y)*(t-v)-(S-v)*(e-y));if(k<=(w<0?h:c))return!0}return!1}getBounds(e){e||(e=new Ge);const t=this.points;let s=1/0,o=-1/0,l=1/0,c=-1/0;for(let h=0,f=t.length;h<f;h+=2){const m=t[h],g=t[h+1];s=m<s?m:s,o=m>o?m:o,l=g<l?g:l,c=g>c?g:c}return e.x=s,e.width=o-s,e.y=l,e.height=c-l,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return ve("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return ve("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Bo=(i,e,t,s,o,l,c)=>{const h=i-t,f=e-s,m=Math.sqrt(h*h+f*f);return m>=o-l&&m<=o+c};class ic{constructor(e=0,t=0,s=0,o=0,l=20){this.type="roundedRectangle",this.x=e,this.y=t,this.width=s,this.height=o,this.radius=l}getBounds(e){return e||(e=new Ge),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new ic(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+s&&t<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let o=e-(this.x+s),l=t-(this.y+s);const c=s*s;if(o*o+l*l<=c||(o=e-(this.x+this.width-s),o*o+l*l<=c)||(l=t-(this.y+this.height-s),o*o+l*l<=c)||(o=e-(this.x+s),o*o+l*l<=c))return!0}return!1}strokeContains(e,t,s,o=.5){const{x:l,y:c,width:h,height:f,radius:m}=this,g=s*(1-o),y=s-g,v=l+m,_=c+m,S=h-m*2,k=f-m*2,w=l+h,b=c+f;return(e>=l-g&&e<=l+y||e>=w-y&&e<=w+g)&&t>=_&&t<=_+k||(t>=c-g&&t<=c+y||t>=b-y&&t<=b+g)&&e>=v&&e<=v+S?!0:e<v&&t<_&&Bo(e,t,v,_,m,y,g)||e>w-m&&t<_&&Bo(e,t,w-m,_,m,y,g)||e>w-m&&t>b-m&&Bo(e,t,w-m,b-m,m,y,g)||e<v&&t>b-m&&Bo(e,t,v,b-m,m,y,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const zm={};function lv(i,e,t){let s=2166136261;for(let o=0;o<e;o++)s^=i[o].uid,s=Math.imul(s,16777619),s>>>=0;return zm[s]||uv(i,e,s,t)}function uv(i,e,t,s){const o={};let l=0;for(let h=0;h<s;h++){const f=h<e?i[h]:Pe.EMPTY.source;o[l++]=f.source,o[l++]=f.style}const c=new Uo(o);return zm[t]=c,c}class $f{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Yf(i,e){const t=i.byteLength/8|0,s=new Float64Array(i,0,t);new Float64Array(e,0,t).set(s);const l=i.byteLength-t*8;if(l>0){const c=new Uint8Array(i,t*8,l);new Uint8Array(e,t*8,l).set(c)}}const cv={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var hv=(i=>(i[i.DISABLED=0]="DISABLED",i[i.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",i[i.MASK_ACTIVE=2]="MASK_ACTIVE",i[i.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",i[i.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",i[i.NONE=5]="NONE",i))(hv||{});function Xf(i,e){return e.alphaMode==="no-premultiply-alpha"&&cv[i]||i}const dv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function fv(i){let e="";for(let t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+=`if(test == ${t}.0){}`);return e}function pv(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=dv.replace(/%forloop%/gi,fv(i));if(e.shaderSource(t,s),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}}finally{e.deleteShader(t)}return i}let Dr=null;function mv(){if(Dr)return Dr;const i=ym();return Dr=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),Dr=pv(Dr,i),i.getExtension("WEBGL_lose_context")?.loseContext(),Dr}class gv{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const t=this.textures[e];this.textures[e]=null,this.ids[t.uid]=null}this.count=0}}class yv{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new gv,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const qi=[];let Wo=0;is.register({clear:()=>{if(qi.length>0)for(const i of qi)i&&i.destroy();qi.length=0,Wo=0}});function qf(){return Wo>0?qi[--Wo]:new yv}function Qf(i){qi[Wo++]=i}let Ui=0;const Om=class Dm{constructor(e){this.uid=Oe("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...Dm.defaultOptions,...e},e.maxTextures||(ve("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=mv());const{maxTextures:t,attributesInitialSize:s,indicesInitialSize:o}=e;this.attributeBuffer=new $f(s*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=t}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Qf(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,t){const s=e._batch.textures.ids[t._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=t,!0)}updateElement(e){this.dirty=!0;const t=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId)}break(e){const t=this._elements;if(!t[this.elementStart])return;let s=qf(),o=s.textures;o.clear();const l=t[this.elementStart];let c=Xf(l.blendMode,l.texture._source),h=l.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let y=this._batchIndexSize,v=this._batchIndexStart,_="startBatch";const S=this.maxTextures;for(let k=this.elementStart;k<this.elementSize;++k){const w=t[k];t[k]=null;const I=w.texture._source,E=Xf(w.blendMode,I),A=c!==E||h!==w.topology;if(I._batchTick===Ui&&!A){w._textureId=I._textureBindLocation,y+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=s;continue}I._batchTick=Ui,(o.count>=S||A)&&(this._finishBatch(s,v,y-v,o,c,h,e,_),_="renderBatch",v=y,c=E,h=w.topology,s=qf(),o=s.textures,o.clear(),++Ui),w._textureId=I._textureBindLocation=o.count,o.ids[I.uid]=o.count,o.textures[o.count++]=I,w._batch=s,y+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,f,m,w._attributeStart,w._textureId),this.packQuadIndex(g,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,f,m,w._attributeStart,w._textureId),this.packIndex(w,g,w._indexStart,w._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(s,v,y-v,o,c,h,e,_),v=y,++Ui),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=y}_finishBatch(e,t,s,o,l,c,h,f){e.gpuBindGroup=null,e.bindGroup=null,e.action=f,e.batcher=this,e.textures=o,e.blendMode=l,e.topology=c,e.start=t,e.size=s,++Ui,this.batches[this.batchIndex++]=e,h.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const t=Math.max(e,this.attributeBuffer.size*2),s=new $f(t);Yf(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const t=this.indexBuffer;let s=Math.max(e,t.length*1.5);s+=s%2;const o=s>65535?new Uint32Array(s):new Uint16Array(s);if(o.BYTES_PER_ELEMENT!==t.BYTES_PER_ELEMENT)for(let l=0;l<t.length;l++)o[l]=t[l];else Yf(t.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(e,t,s){e[t]=s+0,e[t+1]=s+1,e[t+2]=s+2,e[t+3]=s+0,e[t+4]=s+2,e[t+5]=s+3}packIndex(e,t,s,o){const l=e.indices,c=e.indexSize,h=e.indexOffset,f=e.attributeOffset;for(let m=0;m<c;m++)t[s++]=o+l[m+h]-f}destroy(){if(this.batches!==null){for(let e=0;e<this.batches.length;e++)Qf(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]&&(this._elements[e]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};Om.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let xv=Om;var xt=(i=>(i[i.MAP_READ=1]="MAP_READ",i[i.MAP_WRITE=2]="MAP_WRITE",i[i.COPY_SRC=4]="COPY_SRC",i[i.COPY_DST=8]="COPY_DST",i[i.INDEX=16]="INDEX",i[i.VERTEX=32]="VERTEX",i[i.UNIFORM=64]="UNIFORM",i[i.STORAGE=128]="STORAGE",i[i.INDIRECT=256]="INDIRECT",i[i.QUERY_RESOLVE=512]="QUERY_RESOLVE",i[i.STATIC=1024]="STATIC",i))(xt||{});class ns extends ln{constructor(e){let{data:t,size:s}=e;const{usage:o,label:l,shrinkToFit:c}=e;super(),this.uid=Oe("buffer"),this._resourceType="buffer",this._resourceId=Oe("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,t instanceof Array&&(t=new Float32Array(t)),this._data=t,s??(s=t?.byteLength);const h=!!t;this.descriptor={size:s,usage:o,mappedAtCreation:h,label:l},this.shrinkToFit=c??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&xt.STATIC)}set static(e){e?this.descriptor.usage|=xt.STATIC:this.descriptor.usage&=~xt.STATIC}setDataWithSize(e,t,s){if(this._updateID++,this._updateSize=t*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const o=this._data;if(this._data=e,this._dataInt32=null,!o||o.length!==e.length){!this.shrinkToFit&&o&&e.byteLength<o.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Oe("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Um(i,e){if(!(i instanceof ns)){let t=e?xt.INDEX:xt.VERTEX;i instanceof Array&&(e?(i=new Uint32Array(i),t=xt.INDEX|xt.COPY_DST):(i=new Float32Array(i),t=xt.VERTEX|xt.COPY_DST)),i=new ns({data:i,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:t})}return i}function _v(i,e,t){const s=i.getAttribute(e);if(!s)return t.minX=0,t.minY=0,t.maxX=0,t.maxY=0,t;const o=s.buffer.data;let l=1/0,c=1/0,h=-1/0,f=-1/0;const m=o.BYTES_PER_ELEMENT,g=(s.offset||0)/m,y=(s.stride||8)/m;for(let v=g;v<o.length;v+=y){const _=o[v],S=o[v+1];_>h&&(h=_),S>f&&(f=S),_<l&&(l=_),S<c&&(c=S)}return t.minX=l,t.minY=c,t.maxX=h,t.maxY=f,t}function vv(i){return(i instanceof ns||Array.isArray(i)||i.BYTES_PER_ELEMENT)&&(i={buffer:i}),i.buffer=Um(i.buffer,!1),i}class wv extends ln{constructor(e={}){super(),this.uid=Oe("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Yt,this._boundsDirty=!0;const{attributes:t,indexBuffer:s,topology:o}=e;if(this.buffers=[],this.attributes={},t)for(const l in t)this.addAttribute(l,t[l]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}addAttribute(e,t){const s=vv(t);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=Um(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,_v(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Sv=new Float32Array(1),Cv=new Uint32Array(1);class kv extends wv{constructor(){const t=new ns({data:Sv,label:"attribute-batch-buffer",usage:xt.VERTEX|xt.COPY_DST,shrinkToFit:!1}),s=new ns({data:Cv,label:"index-batch-buffer",usage:xt.INDEX|xt.COPY_DST,shrinkToFit:!1}),o=24;super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:o,offset:0},aUV:{buffer:t,format:"float32x2",stride:o,offset:8},aColor:{buffer:t,format:"unorm8x4",stride:o,offset:16},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:o,offset:20}},indexBuffer:s})}}function Kf(i,e,t){if(i)for(const s in i){const o=s.toLocaleLowerCase(),l=e[o];if(l){let c=i[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),t&&l.push(`//----${t}----//`),l.push(c)}else ct(`${s} placement hook does not exist in shader`)}}const Pv=/\{\{(.*?)\}\}/g;function Zf(i){const e={};return(i.match(Pv)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{e[s]=[]}),e}function Jf(i,e){let t;const s=/@in\s+([^;]+);/g;for(;(t=s.exec(i))!==null;)e.push(t[1])}function ep(i,e,t=!1){const s=[];Jf(e,s),i.forEach(h=>{h.header&&Jf(h.header,s)});const o=s;t&&o.sort();const l=o.map((h,f)=>`       @location(${f}) ${h},`).join(`
`);let c=e.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${l}
`),c}function tp(i,e){let t;const s=/@out\s+([^;]+);/g;for(;(t=s.exec(i))!==null;)e.push(t[1])}function Ev(i){const t=/\b(\w+)\s*:/g.exec(i);return t?t[1]:""}function Tv(i){const e=/@.*?\s+/g;return i.replace(e,"")}function bv(i,e){const t=[];tp(e,t),i.forEach(f=>{f.header&&tp(f.header,t)});let s=0;const o=t.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${s++}) ${f}`).join(`,
`),l=t.sort().map(f=>`       var ${Tv(f)};`).join(`
`),c=`return VSOutput(
            ${t.sort().map(f=>` ${Ev(f)}`).join(`,
`)});`;let h=e.replace(/@out\s+[^;]+;\s*/g,"");return h=h.replace("{{struct}}",`
${o}
`),h=h.replace("{{start}}",`
${l}
`),h=h.replace("{{return}}",`
${c}
`),h}function np(i,e){let t=i;for(const s in e){const o=e[s];o.join(`
`).length?t=t.replace(`{{${s}}}`,`//-----${s} START-----//
${o.join(`
`)}
//----${s} FINISH----//`):t=t.replace(`{{${s}}}`,"")}return t}const Hn=Object.create(null),pu=new Map;let Av=0;function Mv({template:i,bits:e}){const t=Gm(i,e);if(Hn[t])return Hn[t];const{vertex:s,fragment:o}=Iv(i,e);return Hn[t]=Vm(s,o,e),Hn[t]}function Rv({template:i,bits:e}){const t=Gm(i,e);return Hn[t]||(Hn[t]=Vm(i.vertex,i.fragment,e)),Hn[t]}function Iv(i,e){const t=e.map(c=>c.vertex).filter(c=>!!c),s=e.map(c=>c.fragment).filter(c=>!!c);let o=ep(t,i.vertex,!0);o=bv(t,o);const l=ep(s,i.fragment,!0);return{vertex:o,fragment:l}}function Gm(i,e){return e.map(t=>(pu.has(t)||pu.set(t,Av++),pu.get(t))).sort((t,s)=>t-s).join("-")+i.vertex+i.fragment}function Vm(i,e,t){const s=Zf(i),o=Zf(e);return t.forEach(l=>{Kf(l.vertex,s,l.name),Kf(l.fragment,o,l.name)}),{vertex:np(i,s),fragment:np(e,o)}}const Bv=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Lv=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Nv=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Fv=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,zv={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Ov={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Dv({bits:i,name:e}){const t=Mv({template:{fragment:Lv,vertex:Bv},bits:[zv,...i]});return Qo.from({name:e,vertex:{source:t.vertex,entryPoint:"main"},fragment:{source:t.fragment,entryPoint:"main"}})}function Uv({bits:i,name:e}){return new _m({name:e,...Rv({template:{vertex:Nv,fragment:Fv},bits:[Ov,...i]})})}const Gv={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Vv={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},mu={};function Hv(i){const e=[];if(i===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let t=0;for(let s=0;s<i;s++)e.push(`@group(1) @binding(${t++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${t++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function Wv(i){const e=[];if(i===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let t=0;t<i;t++)t===i-1?e.push("  default:{"):e.push(`  case ${t}:{`),e.push(`      outColor = textureSampleGrad(textureSource${t+1}, textureSampler${t+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function jv(i){return mu[i]||(mu[i]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Hv(i)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Wv(i)}
            `}}),mu[i]}const gu={};function $v(i){const e=[];for(let t=0;t<i;t++)t>0&&e.push("else"),t<i-1&&e.push(`if(vTextureId < ${t}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${t}], vUV);`),e.push("}");return e.join(`
`)}function Yv(i){return gu[i]||(gu[i]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${i}];

            `,main:`

                ${$v(i)}
            `}}),gu[i]}const Xv={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},qv={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},rp={};function Qv(i){let e=rp[i];if(e)return e;const t=new Int32Array(i);for(let s=0;s<i;s++)t[s]=s;return e=rp[i]=new Cm({uTextures:{value:t,type:"i32",size:i}},{isStatic:!0}),e}class Kv extends ec{constructor(e){const t=Uv({name:"batch",bits:[Vv,Yv(e),qv]}),s=Dv({name:"batch",bits:[Gv,jv(e),Xv]});super({glProgram:t,gpuProgram:s,resources:{batchSamplers:Qv(e)}})}}let yu=null;const Hm=class Wm extends xv{constructor(e){super(e),this.geometry=new kv,this.name=Wm.extension.name,this.vertexSize=6,yu??(yu=new Kv(e.maxTextures)),this.shader=yu}packAttributes(e,t,s,o,l){const c=l<<16|e.roundPixels&65535,h=e.transform,f=h.a,m=h.b,g=h.c,y=h.d,v=h.tx,_=h.ty,{positions:S,uvs:k}=e,w=e.color,b=e.attributeOffset,I=b+e.attributeSize;for(let E=b;E<I;E++){const A=E*2,F=S[A],R=S[A+1];t[o++]=f*F+g*R+v,t[o++]=y*R+m*F+_,t[o++]=k[A],t[o++]=k[A+1],s[o++]=w,s[o++]=c}}packQuadAttributes(e,t,s,o,l){const c=e.texture,h=e.transform,f=h.a,m=h.b,g=h.c,y=h.d,v=h.tx,_=h.ty,S=e.bounds,k=S.maxX,w=S.minX,b=S.maxY,I=S.minY,E=c.uvs,A=e.color,F=l<<16|e.roundPixels&65535;t[o+0]=f*w+g*I+v,t[o+1]=y*I+m*w+_,t[o+2]=E.x0,t[o+3]=E.y0,s[o+4]=A,s[o+5]=F,t[o+6]=f*k+g*I+v,t[o+7]=y*I+m*k+_,t[o+8]=E.x1,t[o+9]=E.y1,s[o+10]=A,s[o+11]=F,t[o+12]=f*k+g*b+v,t[o+13]=y*b+m*k+_,t[o+14]=E.x2,t[o+15]=E.y2,s[o+16]=A,s[o+17]=F,t[o+18]=f*w+g*b+v,t[o+19]=y*b+m*w+_,t[o+20]=E.x3,t[o+21]=E.y3,s[o+22]=A,s[o+23]=F}};Hm.extension={type:[ke.Batcher],name:"default"};let Zv=Hm;function Jv(i,e,t,s,o,l,c,h=null){let f=0;t*=e,o*=l;const m=h.a,g=h.b,y=h.c,v=h.d,_=h.tx,S=h.ty;for(;f<c;){const k=i[t],w=i[t+1];s[o]=m*k+y*w+_,s[o+1]=g*k+v*w+S,o+=l,t+=e,f++}}function e1(i,e,t,s){let o=0;for(e*=t;o<s;)i[e]=0,i[e+1]=0,e+=t,o++}function jm(i,e,t,s,o){const l=e.a,c=e.b,h=e.c,f=e.d,m=e.tx,g=e.ty;t||(t=0),s||(s=2),o||(o=i.length/s-t);let y=t*s;for(let v=0;v<o;v++){const _=i[y],S=i[y+1];i[y]=l*_+h*S+m,i[y+1]=c*_+f*S+g,y+=s}}const t1=new pe;class $m{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,t=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?Qp(t,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):t+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||t1}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const rs={extension:{type:ke.ShapeBuilder,name:"circle"},build(i,e){let t,s,o,l,c,h;if(i.type==="circle"){const A=i;if(c=h=A.radius,c<=0)return!1;t=A.x,s=A.y,o=l=0}else if(i.type==="ellipse"){const A=i;if(c=A.halfWidth,h=A.halfHeight,c<=0||h<=0)return!1;t=A.x,s=A.y,o=l=0}else{const A=i,F=A.width/2,R=A.height/2;t=A.x+F,s=A.y+R,c=h=Math.max(0,Math.min(A.radius,Math.min(F,R))),o=F-c,l=R-h}if(o<0||l<0)return!1;const f=Math.ceil(2.3*Math.sqrt(c+h)),m=f*8+(o?4:0)+(l?4:0);if(m===0)return!1;if(f===0)return e[0]=e[6]=t+o,e[1]=e[3]=s+l,e[2]=e[4]=t-o,e[5]=e[7]=s-l,!0;let g=0,y=f*4+(o?2:0)+2,v=y,_=m,S=o+c,k=l,w=t+S,b=t-S,I=s+k;if(e[g++]=w,e[g++]=I,e[--y]=I,e[--y]=b,l){const A=s-k;e[v++]=b,e[v++]=A,e[--_]=A,e[--_]=w}for(let A=1;A<f;A++){const F=Math.PI/2*(A/f),R=o+Math.cos(F)*c,z=l+Math.sin(F)*h,Q=t+R,Y=t-R,V=s+z,j=s-z;e[g++]=Q,e[g++]=V,e[--y]=V,e[--y]=Y,e[v++]=Y,e[v++]=j,e[--_]=j,e[--_]=Q}S=o,k=l+h,w=t+S,b=t-S,I=s+k;const E=s-k;return e[g++]=w,e[g++]=I,e[--_]=E,e[--_]=w,o&&(e[g++]=b,e[g++]=I,e[--_]=E,e[--_]=b),!0},triangulate(i,e,t,s,o,l){if(i.length===0)return;let c=0,h=0;for(let g=0;g<i.length;g+=2)c+=i[g],h+=i[g+1];c/=i.length/2,h/=i.length/2;let f=s;e[f*t]=c,e[f*t+1]=h;const m=f++;for(let g=0;g<i.length;g+=2)e[f*t]=i[g],e[f*t+1]=i[g+1],g>0&&(o[l++]=f,o[l++]=m,o[l++]=f-1),f++;o[l++]=m+1,o[l++]=m,o[l++]=f-1}},n1={...rs,extension:{...rs.extension,name:"ellipse"}},r1={...rs,extension:{...rs.extension,name:"roundedRectangle"}},Ym=1e-4,ip=1e-4;function i1(i){const e=i.length;if(e<6)return 1;let t=0;for(let s=0,o=i[e-2],l=i[e-1];s<e;s+=2){const c=i[s],h=i[s+1];t+=(c-o)*(h+l),o=c,l=h}return t<0?-1:1}function sp(i,e,t,s,o,l,c,h){const f=i-t*o,m=e-s*o,g=i+t*l,y=e+s*l;let v,_;c?(v=s,_=-t):(v=-s,_=t);const S=f+v,k=m+_,w=g+v,b=y+_;return h.push(S,k),h.push(w,b),2}function ir(i,e,t,s,o,l,c,h){const f=t-i,m=s-e;let g=Math.atan2(f,m),y=Math.atan2(o-i,l-e);h&&g<y?g+=Math.PI*2:!h&&g>y&&(y+=Math.PI*2);let v=g;const _=y-g,S=Math.abs(_),k=Math.sqrt(f*f+m*m),w=(15*S*Math.sqrt(k)/Math.PI>>0)+1,b=_/w;if(v+=b,h){c.push(i,e),c.push(t,s);for(let I=1,E=v;I<w;I++,E+=b)c.push(i,e),c.push(i+Math.sin(E)*k,e+Math.cos(E)*k);c.push(i,e),c.push(o,l)}else{c.push(t,s),c.push(i,e);for(let I=1,E=v;I<w;I++,E+=b)c.push(i+Math.sin(E)*k,e+Math.cos(E)*k),c.push(i,e);c.push(o,l),c.push(i,e)}return w*2}function s1(i,e,t,s,o,l){const c=Ym;if(i.length===0)return;const h=e;let f=h.alignment;if(e.alignment!==.5){let W=i1(i);f=(f-.5)*W+.5}const m=new ot(i[0],i[1]),g=new ot(i[i.length-2],i[i.length-1]),y=s,v=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(y){i=i.slice(),v&&(i.pop(),i.pop(),g.set(i[i.length-2],i[i.length-1]));const W=(m.x+g.x)*.5,q=(g.y+m.y)*.5;i.unshift(W,q),i.push(W,q)}const _=o,S=i.length/2;let k=i.length;const w=_.length/2,b=h.width/2,I=b*b,E=h.miterLimit*h.miterLimit;let A=i[0],F=i[1],R=i[2],z=i[3],Q=0,Y=0,V=-(F-z),j=A-R,ce=0,le=0,me=Math.sqrt(V*V+j*j);V/=me,j/=me,V*=b,j*=b;const Ze=f,X=(1-Ze)*2,K=Ze*2;y||(h.cap==="round"?k+=ir(A-V*(X-K)*.5,F-j*(X-K)*.5,A-V*X,F-j*X,A+V*K,F+j*K,_,!0)+2:h.cap==="square"&&(k+=sp(A,F,V,j,X,K,!0,_))),_.push(A-V*X,F-j*X),_.push(A+V*K,F+j*K);for(let W=1;W<S-1;++W){A=i[(W-1)*2],F=i[(W-1)*2+1],R=i[W*2],z=i[W*2+1],Q=i[(W+1)*2],Y=i[(W+1)*2+1],V=-(F-z),j=A-R,me=Math.sqrt(V*V+j*j),V/=me,j/=me,V*=b,j*=b,ce=-(z-Y),le=R-Q,me=Math.sqrt(ce*ce+le*le),ce/=me,le/=me,ce*=b,le*=b;const q=R-A,M=F-z,O=R-Q,ae=Y-z,ue=q*O+M*ae,fe=M*O-ae*q,he=fe<0;if(Math.abs(fe)<.001*Math.abs(ue)){_.push(R-V*X,z-j*X),_.push(R+V*K,z+j*K),ue>=0&&(h.join==="round"?k+=ir(R,z,R-V*X,z-j*X,R-ce*X,z-le*X,_,!1)+4:k+=2,_.push(R-ce*K,z-le*K),_.push(R+ce*X,z+le*X));continue}const we=(-V+A)*(-j+z)-(-V+R)*(-j+F),xe=(-ce+Q)*(-le+z)-(-ce+R)*(-le+Y),Se=(q*xe-O*we)/fe,Ye=(ae*we-M*xe)/fe,Cn=(Se-R)*(Se-R)+(Ye-z)*(Ye-z),Qt=R+(Se-R)*X,Pt=z+(Ye-z)*X,Ft=R-(Se-R)*K,Kt=z-(Ye-z)*K,ss=Math.min(q*q+M*M,O*O+ae*ae),fr=he?X:K,os=ss+fr*fr*I;Cn<=os?h.join==="bevel"||Cn/I>E?(he?(_.push(Qt,Pt),_.push(R+V*K,z+j*K),_.push(Qt,Pt),_.push(R+ce*K,z+le*K)):(_.push(R-V*X,z-j*X),_.push(Ft,Kt),_.push(R-ce*X,z-le*X),_.push(Ft,Kt)),k+=2):h.join==="round"?he?(_.push(Qt,Pt),_.push(R+V*K,z+j*K),k+=ir(R,z,R+V*K,z+j*K,R+ce*K,z+le*K,_,!0)+4,_.push(Qt,Pt),_.push(R+ce*K,z+le*K)):(_.push(R-V*X,z-j*X),_.push(Ft,Kt),k+=ir(R,z,R-V*X,z-j*X,R-ce*X,z-le*X,_,!1)+4,_.push(R-ce*X,z-le*X),_.push(Ft,Kt)):(_.push(Qt,Pt),_.push(Ft,Kt)):(_.push(R-V*X,z-j*X),_.push(R+V*K,z+j*K),h.join==="round"?he?k+=ir(R,z,R+V*K,z+j*K,R+ce*K,z+le*K,_,!0)+2:k+=ir(R,z,R-V*X,z-j*X,R-ce*X,z-le*X,_,!1)+2:h.join==="miter"&&Cn/I<=E&&(he?(_.push(Ft,Kt),_.push(Ft,Kt)):(_.push(Qt,Pt),_.push(Qt,Pt)),k+=2),_.push(R-ce*X,z-le*X),_.push(R+ce*K,z+le*K),k+=2)}A=i[(S-2)*2],F=i[(S-2)*2+1],R=i[(S-1)*2],z=i[(S-1)*2+1],V=-(F-z),j=A-R,me=Math.sqrt(V*V+j*j),V/=me,j/=me,V*=b,j*=b,_.push(R-V*X,z-j*X),_.push(R+V*K,z+j*K),y||(h.cap==="round"?k+=ir(R-V*(X-K)*.5,z-j*(X-K)*.5,R-V*X,z-j*X,R+V*K,z+j*K,_,!1)+2:h.cap==="square"&&(k+=sp(R,z,V,j,X,K,!1,_)));const $=ip*ip;for(let W=w;W<k+w-2;++W)A=_[W*2],F=_[W*2+1],R=_[(W+1)*2],z=_[(W+1)*2+1],Q=_[(W+2)*2],Y=_[(W+2)*2+1],!(Math.abs(A*(z-Y)+R*(Y-F)+Q*(F-z))<$)&&l.push(W,W+1,W+2)}function o1(i,e,t,s){const o=Ym;if(i.length===0)return;const l=i[0],c=i[1],h=i[i.length-2],f=i[i.length-1],m=e||Math.abs(l-h)<o&&Math.abs(c-f)<o,g=t,y=i.length/2,v=g.length/2;for(let _=0;_<y;_++)g.push(i[_*2]),g.push(i[_*2+1]);for(let _=0;_<y-1;_++)s.push(v+_,v+_+1);m&&s.push(v+y-1,v)}function Xm(i,e,t,s,o,l,c){const h=W_(i,e,2);if(!h)return;for(let m=0;m<h.length;m+=3)l[c++]=h[m]+o,l[c++]=h[m+1]+o,l[c++]=h[m+2]+o;let f=o*s;for(let m=0;m<i.length;m+=2)t[f]=i[m],t[f+1]=i[m+1],f+=s}const a1=[],l1={extension:{type:ke.ShapeBuilder,name:"polygon"},build(i,e){for(let t=0;t<i.points.length;t++)e[t]=i.points[t];return!0},triangulate(i,e,t,s,o,l){Xm(i,a1,e,t,s,o,l)}},u1={extension:{type:ke.ShapeBuilder,name:"rectangle"},build(i,e){const t=i,s=t.x,o=t.y,l=t.width,c=t.height;return l>0&&c>0?(e[0]=s,e[1]=o,e[2]=s+l,e[3]=o,e[4]=s+l,e[5]=o+c,e[6]=s,e[7]=o+c,!0):!1},triangulate(i,e,t,s,o,l){let c=0;s*=t,e[s+c]=i[0],e[s+c+1]=i[1],c+=t,e[s+c]=i[2],e[s+c+1]=i[3],c+=t,e[s+c]=i[6],e[s+c+1]=i[7],c+=t,e[s+c]=i[4],e[s+c+1]=i[5],c+=t;const h=s/t;o[l++]=h,o[l++]=h+1,o[l++]=h+2,o[l++]=h+1,o[l++]=h+3,o[l++]=h+2}},c1={extension:{type:ke.ShapeBuilder,name:"triangle"},build(i,e){return e[0]=i.x,e[1]=i.y,e[2]=i.x2,e[3]=i.y2,e[4]=i.x3,e[5]=i.y3,!0},triangulate(i,e,t,s,o,l){let c=0;s*=t,e[s+c]=i[0],e[s+c+1]=i[1],c+=t,e[s+c]=i[2],e[s+c+1]=i[3],c+=t,e[s+c]=i[4],e[s+c+1]=i[5];const h=s/t;o[l++]=h,o[l++]=h+1,o[l++]=h+2}},h1=new pe,d1=new Ge;function f1(i,e,t,s){const o=e.matrix?i.copyFrom(e.matrix).invert():i.identity();if(e.textureSpace==="local"){const c=t.getBounds(d1);e.width&&c.pad(e.width);const{x:h,y:f}=c,m=1/c.width,g=1/c.height,y=-h*m,v=-f*g,_=o.a,S=o.b,k=o.c,w=o.d;o.a*=m,o.b*=m,o.c*=g,o.d*=g,o.tx=y*_+v*k+o.tx,o.ty=y*S+v*w+o.ty}else o.translate(e.texture.frame.x,e.texture.frame.y),o.scale(1/e.texture.source.width,1/e.texture.source.height);const l=e.texture.source.style;return!(e.fill instanceof wn)&&l.addressMode==="clamp-to-edge"&&(l.addressMode="repeat",l.update()),s&&o.append(h1.copyFrom(s).invert()),o}const Zo={};Nt.handleByMap(ke.ShapeBuilder,Zo);Nt.add(u1,l1,c1,rs,n1,r1);const p1=new Ge,m1=new pe;function g1(i,e){const{geometryData:t,batches:s}=e;s.length=0,t.indices.length=0,t.vertices.length=0,t.uvs.length=0;for(let o=0;o<i.instructions.length;o++){const l=i.instructions[o];if(l.action==="texture")y1(l.data,s,t);else if(l.action==="fill"||l.action==="stroke"){const c=l.action==="stroke",h=l.data.path.shapePath,f=l.data.style,m=l.data.hole;c&&m&&op(m.shapePath,f,!0,s,t),m&&(h.shapePrimitives[h.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),op(h,f,c,s,t)}}}function y1(i,e,t){const s=[],o=Zo.rectangle,l=p1;l.x=i.dx,l.y=i.dy,l.width=i.dw,l.height=i.dh;const c=i.transform;if(!o.build(l,s))return;const{vertices:h,uvs:f,indices:m}=t,g=m.length,y=h.length/2;c&&jm(s,c),o.triangulate(s,h,2,y,m,g);const v=i.image,_=v.uvs;f.push(_.x0,_.y0,_.x1,_.y1,_.x3,_.y3,_.x2,_.y2);const S=Lt.get($m);S.indexOffset=g,S.indexSize=m.length-g,S.attributeOffset=y,S.attributeSize=h.length/2-y,S.baseColor=i.style,S.alpha=i.alpha,S.texture=v,S.geometryData=t,e.push(S)}function op(i,e,t,s,o){const{vertices:l,uvs:c,indices:h}=o;i.shapePrimitives.forEach(({shape:f,transform:m,holes:g})=>{const y=[],v=Zo[f.type];if(!v.build(f,y))return;const _=h.length,S=l.length/2;let k="triangle-list";if(m&&jm(y,m),t){const E=f.closePath??!0,A=e;A.pixelLine?(o1(y,E,l,h),k="line-list"):s1(y,A,!1,E,l,h)}else if(g){const E=[],A=y.slice();x1(g).forEach(R=>{E.push(A.length/2),A.push(...R)}),Xm(A,E,l,2,S,h,_)}else v.triangulate(y,l,2,S,h,_);const w=c.length/2,b=e.texture;if(b!==Pe.WHITE){const E=f1(m1,e,f,m);Jv(l,2,S,c,w,2,l.length/2-S,E)}else e1(c,w,2,l.length/2-S);const I=Lt.get($m);I.indexOffset=_,I.indexSize=h.length-_,I.attributeOffset=S,I.attributeSize=l.length/2-S,I.baseColor=e.color,I.alpha=e.alpha,I.texture=b,I.geometryData=o,I.topology=k,s.push(I)})}function x1(i){const e=[];for(let t=0;t<i.length;t++){const s=i[t].shape,o=[];Zo[s.type].build(s,o)&&e.push(o)}return e}class _1{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class v1{constructor(){this.instructions=new em}init(e){this.batcher=new Zv({maxTextures:e}),this.instructions.reset()}get geometry(){return ve(fx,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const sc=class Uu{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Uu.defaultOptions.bezierSmoothness=e?.bezierSmoothness??Uu.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let t=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){t?this._cleanGraphicsContextData(e):t=this._initContext(e),g1(e,t);const s=e.batchMode;e.customShader||s==="no-batch"?t.isBatchable=!1:s==="auto"?t.isBatchable=t.geometryData.vertices.length<400:t.isBatchable=!0,e.dirty=!1}return t}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const t=Lt.get(v1,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:o}=this._gpuContextHash[e.uid],l=o.vertices.length,c=o.indices.length;for(let g=0;g<s.length;g++)s[g].applyTransform=!1;const h=t.batcher;h.ensureAttributeBuffer(l),h.ensureIndexBuffer(c),h.begin();for(let g=0;g<s.length;g++){const y=s[g];h.add(y)}h.finish(t.instructions);const f=h.geometry;f.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),f.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const m=h.batches;for(let g=0;g<m.length;g++){const y=m[g];y.bindGroup=lv(y.textures.textures,y.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=t,t}_initContext(e){const t=new _1;return t.context=e,this._gpuContextHash[e.uid]=t,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const t=this._gpuContextHash[e.uid];t.isBatchable||this._graphicsDataContextHash[e.uid]&&(Lt.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),t.batches&&t.batches.forEach(s=>{Lt.return(s)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};sc.extension={type:[ke.WebGLSystem,ke.WebGPUSystem,ke.CanvasSystem],name:"graphicsContext"};sc.defaultOptions={bezierSmoothness:.5};let qm=sc;const w1=8,Lo=11920929e-14,S1=1;function Qm(i,e,t,s,o,l,c,h,f,m){const y=Math.min(.99,Math.max(0,m??qm.defaultOptions.bezierSmoothness));let v=(S1-y)/1;return v*=v,C1(e,t,s,o,l,c,h,f,i,v),i}function C1(i,e,t,s,o,l,c,h,f,m){Gu(i,e,t,s,o,l,c,h,f,m,0),f.push(c,h)}function Gu(i,e,t,s,o,l,c,h,f,m,g){if(g>w1)return;const y=(i+t)/2,v=(e+s)/2,_=(t+o)/2,S=(s+l)/2,k=(o+c)/2,w=(l+h)/2,b=(y+_)/2,I=(v+S)/2,E=(_+k)/2,A=(S+w)/2,F=(b+E)/2,R=(I+A)/2;if(g>0){let z=c-i,Q=h-e;const Y=Math.abs((t-c)*Q-(s-h)*z),V=Math.abs((o-c)*Q-(l-h)*z);if(Y>Lo&&V>Lo){if((Y+V)*(Y+V)<=m*(z*z+Q*Q)){f.push(F,R);return}}else if(Y>Lo){if(Y*Y<=m*(z*z+Q*Q)){f.push(F,R);return}}else if(V>Lo){if(V*V<=m*(z*z+Q*Q)){f.push(F,R);return}}else if(z=F-(i+c)/2,Q=R-(e+h)/2,z*z+Q*Q<=m){f.push(F,R);return}}Gu(i,e,y,v,b,I,F,R,f,m,g+1),Gu(F,R,E,A,k,w,c,h,f,m,g+1)}const k1=8,P1=11920929e-14,E1=1;function T1(i,e,t,s,o,l,c,h){const m=Math.min(.99,Math.max(0,h??qm.defaultOptions.bezierSmoothness));let g=(E1-m)/1;return g*=g,b1(e,t,s,o,l,c,i,g),i}function b1(i,e,t,s,o,l,c,h){Vu(c,i,e,t,s,o,l,h,0),c.push(o,l)}function Vu(i,e,t,s,o,l,c,h,f){if(f>k1)return;const m=(e+s)/2,g=(t+o)/2,y=(s+l)/2,v=(o+c)/2,_=(m+y)/2,S=(g+v)/2;let k=l-e,w=c-t;const b=Math.abs((s-l)*w-(o-c)*k);if(b>P1){if(b*b<=h*(k*k+w*w)){i.push(_,S);return}}else if(k=_-(e+l)/2,w=S-(t+c)/2,k*k+w*w<=h){i.push(_,S);return}Vu(i,e,t,m,g,_,S,h,f+1),Vu(i,_,S,y,v,l,c,h,f+1)}function Km(i,e,t,s,o,l,c,h){let f=Math.abs(o-l);(!c&&o>l||c&&l>o)&&(f=2*Math.PI-f),h||(h=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(f/Math.PI)))),h=Math.max(h,3);let m=f/h,g=o;m*=c?-1:1;for(let y=0;y<h+1;y++){const v=Math.cos(g),_=Math.sin(g),S=e+v*s,k=t+_*s;i.push(S,k),g+=m}}function A1(i,e,t,s,o,l){const c=i[i.length-2],f=i[i.length-1]-t,m=c-e,g=o-t,y=s-e,v=Math.abs(f*y-m*g);if(v<1e-8||l===0){(i[i.length-2]!==e||i[i.length-1]!==t)&&i.push(e,t);return}const _=f*f+m*m,S=g*g+y*y,k=f*g+m*y,w=l*Math.sqrt(_)/v,b=l*Math.sqrt(S)/v,I=w*k/_,E=b*k/S,A=w*y+b*m,F=w*g+b*f,R=m*(b+I),z=f*(b+I),Q=y*(w+E),Y=g*(w+E),V=Math.atan2(z-F,R-A),j=Math.atan2(Y-F,Q-A);Km(i,A+e,F+t,l,V,j,m*g>y*f)}const Qi=Math.PI*2,xu={centerX:0,centerY:0,ang1:0,ang2:0},_u=({x:i,y:e},t,s,o,l,c,h,f)=>{i*=t,e*=s;const m=o*i-l*e,g=l*i+o*e;return f.x=m+c,f.y=g+h,f};function M1(i,e){const t=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:t,o=Math.cos(i),l=Math.sin(i),c=Math.cos(i+e),h=Math.sin(i+e);return[{x:o-l*s,y:l+o*s},{x:c+h*s,y:h-c*s},{x:c,y:h}]}const ap=(i,e,t,s)=>{const o=i*s-e*t<0?-1:1;let l=i*t+e*s;return l>1&&(l=1),l<-1&&(l=-1),o*Math.acos(l)},R1=(i,e,t,s,o,l,c,h,f,m,g,y,v)=>{const _=Math.pow(o,2),S=Math.pow(l,2),k=Math.pow(g,2),w=Math.pow(y,2);let b=_*S-_*w-S*k;b<0&&(b=0),b/=_*w+S*k,b=Math.sqrt(b)*(c===h?-1:1);const I=b*o/l*y,E=b*-l/o*g,A=m*I-f*E+(i+t)/2,F=f*I+m*E+(e+s)/2,R=(g-I)/o,z=(y-E)/l,Q=(-g-I)/o,Y=(-y-E)/l,V=ap(1,0,R,z);let j=ap(R,z,Q,Y);h===0&&j>0&&(j-=Qi),h===1&&j<0&&(j+=Qi),v.centerX=A,v.centerY=F,v.ang1=V,v.ang2=j};function I1(i,e,t,s,o,l,c,h=0,f=0,m=0){if(l===0||c===0)return;const g=Math.sin(h*Qi/360),y=Math.cos(h*Qi/360),v=y*(e-s)/2+g*(t-o)/2,_=-g*(e-s)/2+y*(t-o)/2;if(v===0&&_===0)return;l=Math.abs(l),c=Math.abs(c);const S=Math.pow(v,2)/Math.pow(l,2)+Math.pow(_,2)/Math.pow(c,2);S>1&&(l*=Math.sqrt(S),c*=Math.sqrt(S)),R1(e,t,s,o,l,c,f,m,g,y,v,_,xu);let{ang1:k,ang2:w}=xu;const{centerX:b,centerY:I}=xu;let E=Math.abs(w)/(Qi/4);Math.abs(1-E)<1e-7&&(E=1);const A=Math.max(Math.ceil(E),1);w/=A;let F=i[i.length-2],R=i[i.length-1];const z={x:0,y:0};for(let Q=0;Q<A;Q++){const Y=M1(k,w),{x:V,y:j}=_u(Y[0],l,c,y,g,b,I,z),{x:ce,y:le}=_u(Y[1],l,c,y,g,b,I,z),{x:me,y:Ze}=_u(Y[2],l,c,y,g,b,I,z);Qm(i,F,R,V,j,ce,le,me,Ze),F=me,R=Ze,k+=w}}function B1(i,e,t){const s=(c,h)=>{const f=h.x-c.x,m=h.y-c.y,g=Math.sqrt(f*f+m*m),y=f/g,v=m/g;return{len:g,nx:y,ny:v}},o=(c,h)=>{c===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)};let l=e[e.length-1];for(let c=0;c<e.length;c++){const h=e[c%e.length],f=h.radius??t;if(f<=0){o(c,h),l=h;continue}const m=e[(c+1)%e.length],g=s(h,l),y=s(h,m);if(g.len<1e-4||y.len<1e-4){o(c,h),l=h;continue}let v=Math.asin(g.nx*y.ny-g.ny*y.nx),_=1,S=!1;g.nx*y.nx-g.ny*-y.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,_=-1,S=!0):v>0&&(_=-1,S=!0);const k=v/2;let w,b=Math.abs(Math.cos(k)*f/Math.sin(k));b>Math.min(g.len/2,y.len/2)?(b=Math.min(g.len/2,y.len/2),w=Math.abs(b*Math.sin(k)/Math.cos(k))):w=f;const I=h.x+y.nx*b+-y.ny*w*_,E=h.y+y.ny*b+y.nx*w*_,A=Math.atan2(g.ny,g.nx)+Math.PI/2*_,F=Math.atan2(y.ny,y.nx)-Math.PI/2*_;c===0&&i.moveTo(I+Math.cos(A)*w,E+Math.sin(A)*w),i.arc(I,E,w,A,F,S),l=h}}function L1(i,e,t,s){const o=(h,f)=>Math.sqrt((h.x-f.x)**2+(h.y-f.y)**2),l=(h,f,m)=>({x:h.x+(f.x-h.x)*m,y:h.y+(f.y-h.y)*m}),c=e.length;for(let h=0;h<c;h++){const f=e[(h+1)%c],m=f.radius??t;if(m<=0){h===0?i.moveTo(f.x,f.y):i.lineTo(f.x,f.y);continue}const g=e[h],y=e[(h+2)%c],v=o(g,f);let _;if(v<1e-4)_=f;else{const w=Math.min(v/2,m);_=l(f,g,w/v)}const S=o(y,f);let k;if(S<1e-4)k=f;else{const w=Math.min(S/2,m);k=l(f,y,w/S)}h===0?i.moveTo(_.x,_.y):i.lineTo(_.x,_.y),i.quadraticCurveTo(f.x,f.y,k.x,k.y,s)}}const N1=new Ge;class F1{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Yt,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,t){return this.startPoly(e,t),this}lineTo(e,t){this._ensurePoly();const s=this._currentPoly.points,o=s[s.length-2],l=s[s.length-1];return(o!==e||l!==t)&&s.push(e,t),this}arc(e,t,s,o,l,c){this._ensurePoly(!1);const h=this._currentPoly.points;return Km(h,e,t,s,o,l,c),this}arcTo(e,t,s,o,l){this._ensurePoly();const c=this._currentPoly.points;return A1(c,e,t,s,o,l),this}arcToSvg(e,t,s,o,l,c,h){const f=this._currentPoly.points;return I1(f,this._currentPoly.lastX,this._currentPoly.lastY,c,h,e,t,s,o,l),this}bezierCurveTo(e,t,s,o,l,c,h){this._ensurePoly();const f=this._currentPoly;return Qm(this._currentPoly.points,f.lastX,f.lastY,e,t,s,o,l,c,h),this}quadraticCurveTo(e,t,s,o,l){this._ensurePoly();const c=this._currentPoly;return T1(this._currentPoly.points,c.lastX,c.lastY,e,t,s,o,l),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0),e.transform(t));const s=this.shapePrimitives,o=s.length;for(let l=0;l<e.instructions.length;l++){const c=e.instructions[l];this[c.action](...c.data)}if(e.checkForHoles&&s.length-o>1){let l=null;for(let c=o;c<s.length;c++){const h=s[c];if(h.shape.type==="polygon"){const f=h.shape,m=l?.shape;m&&m.containsPolygon(f)?(l.holes||(l.holes=[]),l.holes.push(h),s.copyWithin(c,c+1),s.length--,c--):l=h}}}return this}finish(e=!1){this.endPoly(e)}rect(e,t,s,o,l){return this.drawShape(new Ge(e,t,s,o),l),this}circle(e,t,s,o){return this.drawShape(new nc(e,t,s),o),this}poly(e,t,s){const o=new Xi(e);return o.closePath=t,this.drawShape(o,s),this}regularPoly(e,t,s,o,l=0,c){o=Math.max(o|0,3);const h=-1*Math.PI/2+l,f=Math.PI*2/o,m=[];for(let g=0;g<o;g++){const y=h-g*f;m.push(e+s*Math.cos(y),t+s*Math.sin(y))}return this.poly(m,!0,c),this}roundPoly(e,t,s,o,l,c=0,h){if(o=Math.max(o|0,3),l<=0)return this.regularPoly(e,t,s,o,c);const f=s*Math.sin(Math.PI/o)-.001;l=Math.min(l,f);const m=-1*Math.PI/2+c,g=Math.PI*2/o,y=(o-2)*Math.PI/o/2;for(let v=0;v<o;v++){const _=v*g+m,S=e+s*Math.cos(_),k=t+s*Math.sin(_),w=_+Math.PI+y,b=_-Math.PI-y,I=S+l*Math.cos(w),E=k+l*Math.sin(w),A=S+l*Math.cos(b),F=k+l*Math.sin(b);v===0?this.moveTo(I,E):this.lineTo(I,E),this.quadraticCurveTo(S,k,A,F,h)}return this.closePath()}roundShape(e,t,s=!1,o){return e.length<3?this:(s?L1(this,e,t,o):B1(this,e,t),this.closePath())}filletRect(e,t,s,o,l){if(l===0)return this.rect(e,t,s,o);const c=Math.min(s,o)/2,h=Math.min(c,Math.max(-c,l)),f=e+s,m=t+o,g=h<0?-h:0,y=Math.abs(h);return this.moveTo(e,t+y).arcTo(e+g,t+g,e+y,t,y).lineTo(f-y,t).arcTo(f-g,t+g,f,t+y,y).lineTo(f,m-y).arcTo(f-g,m-g,e+s-y,m,y).lineTo(e+y,m).arcTo(e+g,m-g,e,m-y,y).closePath()}chamferRect(e,t,s,o,l,c){if(l<=0)return this.rect(e,t,s,o);const h=Math.min(l,Math.min(s,o)/2),f=e+s,m=t+o,g=[e+h,t,f-h,t,f,t+h,f,m-h,f-h,m,e+h,m,e,m-h,e,t+h];for(let y=g.length-1;y>=2;y-=2)g[y]===g[y-2]&&g[y-1]===g[y-3]&&g.splice(y-1,2);return this.poly(g,!0,c)}ellipse(e,t,s,o,l){return this.drawShape(new rc(e,t,s,o),l),this}roundRect(e,t,s,o,l,c){return this.drawShape(new ic(e,t,s,o,l),c),this}drawShape(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this}startPoly(e,t){let s=this._currentPoly;return s&&this.endPoly(),s=new Xi,s.points.push(e,t),this._currentPoly=s,this}endPoly(e=!1){const t=this._currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Xi,e)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let s=t.shape.x,o=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const l=t.transform,c=s;s=l.a*s+l.c*o+l.tx,o=l.b*c+l.d*o+l.ty}this._currentPoly.points.push(s,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){const s=e.instructions[t];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const t=this.shapePrimitives;for(let s=0;s<t.length;s++){const o=t[s],l=o.shape.getBounds(N1);o.transform?e.addRect(l,o.transform):e.addRect(l)}return e}}class vn{constructor(e,t=!1){this.instructions=[],this.uid=Oe("graphicsPath"),this._dirty=!0,this.checkForHoles=t,typeof e=="string"?iv(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new F1(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,t){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,t]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,t,s,o,l){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(ot.shared);let f=0,m=0;if(!c||c.action!=="bezierCurveTo")f=h.x,m=h.y;else{f=c.data[2],m=c.data[3];const g=h.x,y=h.y;f=g+(g-f),m=y+(y-m)}return this.instructions.push({action:"bezierCurveTo",data:[f,m,e,t,s,o,l]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,t,s){const o=this.instructions[this.instructions.length-1],l=this.getLastPoint(ot.shared);let c=0,h=0;if(!o||o.action!=="quadraticCurveTo")c=l.x,h=l.y;else{c=o.data[0],h=o.data[1];const f=l.x,m=l.y;c=f+(f-c),h=m+(m-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,e,t,s]}),this._dirty=!0,this}rect(e,t,s,o,l){return this.instructions.push({action:"rect",data:[e,t,s,o,l]}),this._dirty=!0,this}circle(e,t,s,o){return this.instructions.push({action:"circle",data:[e,t,s,o]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,t,s,o,l,c,h){l||(l=o/2);const f=-1*Math.PI/2+c,m=s*2,g=Math.PI*2/m,y=[];for(let v=0;v<m;v++){const _=v%2?l:o,S=v*g+f;y.push(e+_*Math.cos(S),t+_*Math.sin(S))}return this.poly(y,!0,h),this}clone(e=!1){const t=new vn;if(t.checkForHoles=this.checkForHoles,!e)t.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const o=this.instructions[s];t.instructions.push({action:o.action,data:o.data.slice()})}return t}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const t=e.a,s=e.b,o=e.c,l=e.d,c=e.tx,h=e.ty;let f=0,m=0,g=0,y=0,v=0,_=0,S=0,k=0;for(let w=0;w<this.instructions.length;w++){const b=this.instructions[w],I=b.data;switch(b.action){case"moveTo":case"lineTo":f=I[0],m=I[1],I[0]=t*f+o*m+c,I[1]=s*f+l*m+h;break;case"bezierCurveTo":g=I[0],y=I[1],v=I[2],_=I[3],f=I[4],m=I[5],I[0]=t*g+o*y+c,I[1]=s*g+l*y+h,I[2]=t*v+o*_+c,I[3]=s*v+l*_+h,I[4]=t*f+o*m+c,I[5]=s*f+l*m+h;break;case"quadraticCurveTo":g=I[0],y=I[1],f=I[2],m=I[3],I[0]=t*g+o*y+c,I[1]=s*g+l*y+h,I[2]=t*f+o*m+c,I[3]=s*f+l*m+h;break;case"arcToSvg":f=I[5],m=I[6],S=I[0],k=I[1],I[0]=t*S+o*k,I[1]=s*S+l*k,I[5]=t*f+o*m+c,I[6]=s*f+l*m+h;break;case"circle":I[4]=Gi(I[3],e);break;case"rect":I[4]=Gi(I[4],e);break;case"ellipse":I[8]=Gi(I[8],e);break;case"roundRect":I[5]=Gi(I[5],e);break;case"addPath":I[0].transform(e);break;case"poly":I[2]=Gi(I[2],e);break;default:ct("unknown transform action",b.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let t=this.instructions.length-1,s=this.instructions[t];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(t--,t<0)return e.x=0,e.y=0,e;s=this.instructions[t]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function Gi(i,e){return i?i.prepend(e):e.clone()}function Fe(i,e,t){const s=i.getAttribute(e);return s?Number(s):t}function z1(i,e){const t=i.querySelectorAll("defs");for(let s=0;s<t.length;s++){const o=t[s];for(let l=0;l<o.children.length;l++){const c=o.children[l];switch(c.nodeName.toLowerCase()){case"lineargradient":e.defs[c.id]=O1(c);break;case"radialgradient":e.defs[c.id]=D1();break}}}}function O1(i){const e=Fe(i,"x1",0),t=Fe(i,"y1",0),s=Fe(i,"x2",1),o=Fe(i,"y2",0),l=i.getAttribute("gradientUnits")||"objectBoundingBox",c=new wn(e,t,s,o,l==="objectBoundingBox"?"local":"global");for(let h=0;h<i.children.length;h++){const f=i.children[h],m=Fe(f,"offset",0),g=$e.shared.setValue(f.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function D1(i){return ct("[SVG Parser] Radial gradients are not yet supported"),new wn(0,0,1,0)}function lp(i){const e=i.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const up={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Zm(i,e){const t=i.getAttribute("style"),s={},o={},l={strokeStyle:s,fillStyle:o,useFill:!1,useStroke:!1};for(const c in up){const h=i.getAttribute(c);h&&cp(e,l,c,h.trim())}if(t){const c=t.split(";");for(let h=0;h<c.length;h++){const f=c[h].trim(),[m,g]=f.split(":");up[m]&&cp(e,l,m,g.trim())}}return{strokeStyle:l.useStroke?s:null,fillStyle:l.useFill?o:null,useFill:l.useFill,useStroke:l.useStroke}}function cp(i,e,t,s){switch(t){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const o=lp(s);e.strokeStyle.fill=i.defs[o]}else e.strokeStyle.color=$e.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const o=lp(s);e.fillStyle.fill=i.defs[o]}else e.fillStyle.color=$e.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function U1(i){if(i.length<=2)return!0;const e=i.map(h=>h.area).sort((h,f)=>f-h),[t,s]=e,o=e[e.length-1],l=t/s,c=s/o;return!(l>3&&c<2)}function G1(i){return i.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function V1(i){const e=i.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const t=e.map(Number),s=[],o=[];for(let g=0;g<t.length;g+=2)g+1<t.length&&(s.push(t[g]),o.push(t[g+1]));if(s.length===0||o.length===0)return 0;const l=Math.min(...s),c=Math.max(...s),h=Math.min(...o),f=Math.max(...o);return(c-l)*(f-h)}function hp(i,e){const t=new vn(i,!1);for(const s of t.instructions)e.instructions.push(s)}function H1(i,e){if(typeof i=="string"){const c=document.createElement("div");c.innerHTML=i.trim(),i=c.querySelector("svg")}const t={context:e,defs:{},path:new vn};z1(i,t);const s=i.children,{fillStyle:o,strokeStyle:l}=Zm(i,t);for(let c=0;c<s.length;c++){const h=s[c];h.nodeName.toLowerCase()!=="defs"&&Jm(h,t,o,l)}return e}function Jm(i,e,t,s){const o=i.children,{fillStyle:l,strokeStyle:c}=Zm(i,e);l&&t?t={...t,...l}:l&&(t=l),c&&s?s={...s,...c}:c&&(s=c);const h=!t&&!s;h&&(t={color:0});let f,m,g,y,v,_,S,k,w,b,I,E,A,F,R,z,Q;switch(i.nodeName.toLowerCase()){case"path":{F=i.getAttribute("d");const Y=i.getAttribute("fill-rule"),V=G1(F),j=Y==="evenodd",ce=V.length>1;if(j&&ce){const me=V.map(X=>({path:X,area:V1(X)}));if(me.sort((X,K)=>K.area-X.area),V.length>3||!U1(me))for(let X=0;X<me.length;X++){const K=me[X],$=X===0;e.context.beginPath();const W=new vn(void 0,!0);hp(K.path,W),e.context.path(W),$?(t&&e.context.fill(t),s&&e.context.stroke(s)):e.context.cut()}else for(let X=0;X<me.length;X++){const K=me[X],$=X%2===1;e.context.beginPath();const W=new vn(void 0,!0);hp(K.path,W),e.context.path(W),$?e.context.cut():(t&&e.context.fill(t),s&&e.context.stroke(s))}}else{const me=Y?Y==="evenodd":!0;R=new vn(F,me),e.context.path(R),t&&e.context.fill(t),s&&e.context.stroke(s)}break}case"circle":S=Fe(i,"cx",0),k=Fe(i,"cy",0),w=Fe(i,"r",0),e.context.ellipse(S,k,w,w),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"rect":f=Fe(i,"x",0),m=Fe(i,"y",0),z=Fe(i,"width",0),Q=Fe(i,"height",0),b=Fe(i,"rx",0),I=Fe(i,"ry",0),b||I?e.context.roundRect(f,m,z,Q,b||I):e.context.rect(f,m,z,Q),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"ellipse":S=Fe(i,"cx",0),k=Fe(i,"cy",0),b=Fe(i,"rx",0),I=Fe(i,"ry",0),e.context.beginPath(),e.context.ellipse(S,k,b,I),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"line":g=Fe(i,"x1",0),y=Fe(i,"y1",0),v=Fe(i,"x2",0),_=Fe(i,"y2",0),e.context.beginPath(),e.context.moveTo(g,y),e.context.lineTo(v,_),s&&e.context.stroke(s);break;case"polygon":A=i.getAttribute("points"),E=A.match(/\d+/g).map(Y=>parseInt(Y,10)),e.context.poly(E,!0),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"polyline":A=i.getAttribute("points"),E=A.match(/\d+/g).map(Y=>parseInt(Y,10)),e.context.poly(E,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{ct(`[SVG parser] <${i.nodeName}> elements unsupported`);break}}h&&(t=null);for(let Y=0;Y<o.length;Y++)Jm(o[Y],e,t,s)}function W1(i){return $e.isColorLike(i)}function dp(i){return i instanceof Ko}function fp(i){return i instanceof wn}function j1(i){return i instanceof Pe}function $1(i,e,t){const s=$e.shared.setValue(e??0);return i.color=s.toNumber(),i.alpha=s.alpha===1?t.alpha:s.alpha,i.texture=Pe.WHITE,{...t,...i}}function Y1(i,e,t){return i.texture=e,{...t,...i}}function pp(i,e,t){return i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,{...t,...i}}function mp(i,e,t){return e.buildGradient(),i.fill=e,i.color=16777215,i.texture=e.texture,i.matrix=e.transform,i.textureSpace=e.textureSpace,{...t,...i}}function X1(i,e){const t={...e,...i},s=$e.shared.setValue(t.color);return t.alpha*=s.alpha,t.color=s.toNumber(),t}function cr(i,e){if(i==null)return null;const t={},s=i;return W1(i)?$1(t,i,e):j1(i)?Y1(t,i,e):dp(i)?pp(t,i,e):fp(i)?mp(t,i,e):s.fill&&dp(s.fill)?pp(s,s.fill,e):s.fill&&fp(s.fill)?mp(s,s.fill,e):X1(s,e)}function jo(i,e){const{width:t,alignment:s,miterLimit:o,cap:l,join:c,pixelLine:h,...f}=e,m=cr(i,f);return m?{width:t,alignment:s,miterLimit:o,cap:l,join:c,pixelLine:h,...m}:null}const q1=new ot,gp=new pe,oc=class sn extends ln{constructor(){super(...arguments),this.uid=Oe("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new vn,this._transform=new pe,this._fillStyle={...sn.defaultFillStyle},this._strokeStyle={...sn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Yt,this._boundsDirty=!0}clone(){const e=new sn;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=cr(e,sn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=jo(e,sn.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=cr(e,sn.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=cr(e,sn.defaultStrokeStyle),this}texture(e,t,s,o,l,c){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:o||0,dw:l||e.frame.width,dh:c||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:t?$e.shared.setValue(t).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new vn,this}fill(e,t){let s;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o?.action==="stroke"?s=o.data.path:s=this._activePath.clone(),s?(e!=null&&(t!==void 0&&typeof e=="number"&&(ve(ze,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:t}),this._fillStyle=cr(e,sn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:t}=this._activePath.getLastPoint(ot.shared);this._activePath.clear(),this._activePath.moveTo(e,t)}stroke(e){let t;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s?.action==="fill"?t=s.data.path:t=this._activePath.clone(),t?(e!=null&&(this._strokeStyle=jo(e,sn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:t}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const t=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(t&&(t.action==="stroke"||t.action==="fill"))if(t.data.hole)t.data.hole.addPath(s);else{t.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,t,s,o,l,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*e+h.c*t+h.tx,h.b*e+h.d*t+h.ty,s,o,l,c),this}arcTo(e,t,s,o,l){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*e+c.c*t+c.tx,c.b*e+c.d*t+c.ty,c.a*s+c.c*o+c.tx,c.b*s+c.d*o+c.ty,l),this}arcToSvg(e,t,s,o,l,c,h){this._tick++;const f=this._transform;return this._activePath.arcToSvg(e,t,s,o,l,f.a*c+f.c*h+f.tx,f.b*c+f.d*h+f.ty),this}bezierCurveTo(e,t,s,o,l,c,h){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*e+f.c*t+f.tx,f.b*e+f.d*t+f.ty,f.a*s+f.c*o+f.tx,f.b*s+f.d*o+f.ty,f.a*l+f.c*c+f.tx,f.b*l+f.d*c+f.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,t,s,o){return this._tick++,this._activePath.ellipse(e,t,s,o,this._transform.clone()),this}circle(e,t,s){return this._tick++,this._activePath.circle(e,t,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,t){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty),this}moveTo(e,t){this._tick++;const s=this._transform,o=this._activePath.instructions,l=s.a*e+s.c*t+s.tx,c=s.b*e+s.d*t+s.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=l,o[0].data[1]=c,this):(this._activePath.moveTo(l,c),this)}quadraticCurveTo(e,t,s,o,l){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*e+c.c*t+c.tx,c.b*e+c.d*t+c.ty,c.a*s+c.c*o+c.tx,c.b*s+c.d*o+c.ty,l),this}rect(e,t,s,o){return this._tick++,this._activePath.rect(e,t,s,o,this._transform.clone()),this}roundRect(e,t,s,o,l){return this._tick++,this._activePath.roundRect(e,t,s,o,l,this._transform.clone()),this}poly(e,t){return this._tick++,this._activePath.poly(e,t,this._transform.clone()),this}regularPoly(e,t,s,o,l=0,c){return this._tick++,this._activePath.regularPoly(e,t,s,o,l,c),this}roundPoly(e,t,s,o,l,c){return this._tick++,this._activePath.roundPoly(e,t,s,o,l,c),this}roundShape(e,t,s,o){return this._tick++,this._activePath.roundShape(e,t,s,o),this}filletRect(e,t,s,o,l){return this._tick++,this._activePath.filletRect(e,t,s,o,l),this}chamferRect(e,t,s,o,l,c){return this._tick++,this._activePath.chamferRect(e,t,s,o,l,c),this}star(e,t,s,o,l=0,c=0){return this._tick++,this._activePath.star(e,t,s,o,l,c,this._transform.clone()),this}svg(e){return this._tick++,H1(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,t=e){return this._transform.scale(e,t),this}setTransform(e,t,s,o,l,c){return e instanceof pe?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,t,s,o,l,c),this)}transform(e,t,s,o,l,c){return e instanceof pe?(this._transform.append(e),this):(gp.set(e,t,s,o,l,c),this._transform.append(gp),this)}translate(e,t=e){return this._transform.translate(e,t),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){const s=this.instructions[t],o=s.action;if(o==="fill"){const l=s.data;e.addBounds(l.path.bounds)}else if(o==="texture"){const l=s.data;e.addFrame(l.dx,l.dy,l.dx+l.dw,l.dy+l.dh,l.transform)}if(o==="stroke"){const l=s.data,c=l.style.alignment,h=l.style.width*(1-c),f=l.path.bounds;e.addFrame(f.minX-h,f.minY-h,f.maxX+h,f.maxY+h)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const t=this.instructions;let s=!1;for(let o=0;o<t.length;o++){const l=t[o],c=l.data,h=c.path;if(!l.action||!h)continue;const f=c.style,m=h.shapePath.shapePrimitives;for(let g=0;g<m.length;g++){const y=m[g].shape;if(!f||!y)continue;const v=m[g].transform,_=v?v.applyInverse(e,q1):e;if(l.action==="fill")s=y.contains(_.x,_.y);else{const k=f;s=y.strokeContains(_.x,_.y,k.width,k.alignment)}const S=c.hole;if(S){const k=S.shapePath?.shapePrimitives;if(k)for(let w=0;w<k.length;w++)k[w].shape.contains(_.x,_.y)&&(s=!1)}if(s)return!0}}return s}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};oc.defaultFillStyle={color:16777215,alpha:1,texture:Pe.WHITE,matrix:null,fill:null,textureSpace:"local"};oc.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Pe.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let $t=oc;const ac=class Hr extends ln{constructor(e={}){super(),this.uid=Oe("textStyle"),this._tick=0,Q1(e);const t={...Hr.defaultTextStyle,...e};for(const s in t){const o=s;this[o]=t[s]}this.update(),this._tick=0}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.update())}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...Hr.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...Hr.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.update())}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.update())}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.update())}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.update())}get filters(){return this._filters}set filters(e){this._filters!==e&&(this._filters=Object.freeze(e),this.update())}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.update())}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...$t.defaultFillStyle,...e},()=>{this._fill=cr({...this._originalFill},$t.defaultFillStyle)})),this._fill=cr(e===0?"black":e,$t.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...$t.defaultStrokeStyle,...e},()=>{this._stroke=jo({...this._originalStroke},$t.defaultStrokeStyle)})),this._stroke=jo(e,$t.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const e=Hr.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Hr({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let t=0;t<this._filters.length;t++)e+=this._filters[t].padding;return Math.max(this._padding,e)}destroy(e=!1){if(this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const s=typeof e=="boolean"?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(s),this._originalFill?.texture&&this._originalFill.texture.destroy(s),this._stroke?.texture&&this._stroke.texture.destroy(s),this._originalStroke?.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(s,o,l)=>(s[o]===l||(s[o]=l,t?.(o,l),this.update()),!0)})}_isFillStyle(e){return(e??null)!==null&&!($e.isColorLike(e)||e instanceof wn||e instanceof Ko)}};ac.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};ac.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let eg=ac;function Q1(i){const e=i;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const t=eg.defaultDropShadow;i.dropShadow={alpha:e.dropShadowAlpha??t.alpha,angle:e.dropShadowAngle??t.angle,blur:e.dropShadowBlur??t.blur,color:e.dropShadowColor??t.color,distance:e.dropShadowDistance??t.distance}}if(e.strokeThickness!==void 0){ve(ze,"strokeThickness is now a part of stroke");const t=e.stroke;let s={};if($e.isColorLike(t))s.color=t;else if(t instanceof wn||t instanceof Ko)s.fill=t;else if(Object.hasOwnProperty.call(t,"color")||Object.hasOwnProperty.call(t,"fill"))s=t;else throw new Error("Invalid stroke value.");i.stroke={...s,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(ve(ze,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&ct("The number of fill colors must match the number of fill gradient stops.");const t=new wn({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),s=e.fillGradientStops.slice(),o=e.fill.map(l=>$e.shared.setValue(l).toNumber());s.forEach((l,c)=>{t.addColorStop(l,o[c])}),i.fill={fill:t}}}class K1{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const s=kt.get().createCanvas();s.width=e,s.height=t;const o=s.getContext("2d");return{canvas:s,context:o}}getOptimalCanvasAndContext(e,t,s=1){e=Math.ceil(e*s-1e-6),t=Math.ceil(t*s-1e-6),e=jr(e),t=jr(t);const o=(e<<17)+(t<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let l=this._canvasPool[o].pop();return l||(l=this._createCanvasAndContext(e,t)),l}returnCanvasAndContext(e){const t=e.canvas,{width:s,height:o}=t,l=(s<<17)+(o<<1);e.context.resetTransform(),e.context.clearRect(0,0,s,o),this._canvasPool[l].push(e)}clear(){this._canvasPool={}}}const Hu=new K1;is.register(Hu);const yp=1e5;function xp(i,e,t,s=0){if(i.texture===Pe.WHITE&&!i.fill)return $e.shared.setValue(i.color).setAlpha(i.alpha??1).toHexa();if(i.fill){if(i.fill instanceof Ko){const o=i.fill,l=e.createPattern(o.texture.source.resource,"repeat"),c=o.transform.copyTo(pe.shared);return c.scale(o.texture.frame.width,o.texture.frame.height),l.setTransform(c),l}else if(i.fill instanceof wn){const o=i.fill,l=o.type==="linear",c=o.textureSpace==="local";let h=1,f=1;c&&t&&(h=t.width+s,f=t.height+s);let m,g=!1;if(l){const{start:y,end:v}=o;m=e.createLinearGradient(y.x*h,y.y*f,v.x*h,v.y*f),g=Math.abs(v.x-y.x)<Math.abs((v.y-y.y)*.1)}else{const{center:y,innerRadius:v,outerCenter:_,outerRadius:S}=o;m=e.createRadialGradient(y.x*h,y.y*f,v*h,_.x*h,_.y*f,S*h)}if(g&&c&&t){const y=t.lineHeight/f;for(let v=0;v<t.lines.length;v++){const _=(v*t.lineHeight+s/2)/f;o.colorStops.forEach(S=>{const k=_+S.offset*y;m.addColorStop(Math.floor(k*yp)/yp,$e.shared.setValue(S.color).toHex())})}}else o.colorStops.forEach(y=>{m.addColorStop(y.offset,$e.shared.setValue(y.color).toHex())});return m}}else{const o=e.createPattern(i.texture.source.resource,"repeat"),l=i.matrix.copyTo(pe.shared);return l.scale(i.texture.frame.width,i.texture.frame.height),o.setTransform(l),o}return ct("FillStyle not recognised",i),"red"}class dr extends Zu{constructor(e){e instanceof $t&&(e={context:e});const{context:t,roundPixels:s,...o}=e||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",t?this._context=t:this._context=this._ownedContext=new $t,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,t){return this.context[e](...t),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new dr(this._context.clone()):(this._ownedContext=null,new dr(this._context))}lineStyle(e,t,s){ve(ze,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return e&&(o.width=e),t&&(o.color=t),s&&(o.alpha=s),this.context.strokeStyle=o,this}beginFill(e,t){ve(ze,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),t!==void 0&&(s.alpha=t),this.context.fillStyle=s,this}endFill(){ve(ze,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==$t.defaultStrokeStyle.width||e.color!==$t.defaultStrokeStyle.color||e.alpha!==$t.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return ve(ze,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return ve(ze,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return ve(ze,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return ve(ze,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return ve(ze,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return ve(ze,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}class Z1 extends Zu{constructor(e,t){const{text:s,resolution:o,style:l,anchor:c,width:h,height:f,roundPixels:m,...g}=e;super({...g}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=s??"",this.style=l,this.resolution=o??null,this.allowChildren=!1,this._anchor=new tt({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=m??!1,h!==void 0&&(this.width=h),f!==void 0&&(this.height=f)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){e||(e={}),this._style?.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this.bounds.width),t!==void 0&&this._setHeight(t,this.bounds.height)}containsPoint(e){const t=this.bounds.width,s=this.bounds.height,o=-t*this.anchor.x;let l=0;return e.x>=o&&e.x<=o+t&&(l=-s*this.anchor.y,e.y>=l&&e.y<=l+s)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e?.style)&&this._style.destroy(e),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function J1(i,e){let t=i[0]??{};return(typeof t=="string"||i[1])&&(ve(ze,`use new ${e}({ text: "hi!", style }) instead`),t={text:t,style:i[1]}),t}let sr=null,xn=null;function ew(i,e){sr||(sr=kt.get().createCanvas(256,128),xn=sr.getContext("2d",{willReadFrequently:!0}),xn.globalCompositeOperation="copy",xn.globalAlpha=1),(sr.width<i||sr.height<e)&&(sr.width=jr(i),sr.height=jr(e))}function _p(i,e,t){for(let s=0,o=4*t*e;s<e;++s,o+=4)if(i[o+3]!==0)return!1;return!0}function vp(i,e,t,s,o){const l=4*e;for(let c=s,h=s*l+4*t;c<=o;++c,h+=l)if(i[h+3]!==0)return!1;return!0}function tw(...i){let e=i[0];e.canvas||(e={canvas:i[0],resolution:i[1]});const{canvas:t}=e,s=Math.min(e.resolution??1,1),o=e.width??t.width,l=e.height??t.height;let c=e.output;if(ew(o,l),!xn)throw new TypeError("Failed to get canvas 2D context");xn.drawImage(t,0,0,o,l,0,0,o*s,l*s);const f=xn.getImageData(0,0,o,l).data;let m=0,g=0,y=o-1,v=l-1;for(;g<l&&_p(f,o,g);)++g;if(g===l)return Ge.EMPTY;for(;_p(f,o,v);)--v;for(;vp(f,o,m,g,v);)++m;for(;vp(f,o,y,g,v);)--y;return++y,++v,xn.globalCompositeOperation="source-over",xn.strokeRect(m,g,y-m,v-g),xn.globalCompositeOperation="copy",c??(c=new Ge),c.set(m/s,g/s,(y-m)/s,(v-g)/s),c}const wp=new Ge;class nw{getCanvasAndContext(e){const{text:t,style:s,resolution:o=1}=e,l=s._getFinalPadding(),c=Vr.measureText(t||" ",s),h=Math.ceil(Math.ceil(Math.max(1,c.width)+l*2)*o),f=Math.ceil(Math.ceil(Math.max(1,c.height)+l*2)*o),m=Hu.getOptimalCanvasAndContext(h,f);this._renderTextToCanvas(t,s,l,o,m);const g=s.trim?tw({canvas:m.canvas,width:h,height:f,resolution:1,output:wp}):wp.set(0,0,h,f);return{canvasAndContext:m,frame:g}}returnCanvasAndContext(e){Hu.returnCanvasAndContext(e)}_renderTextToCanvas(e,t,s,o,l){const{canvas:c,context:h}=l,f=Fm(t),m=Vr.measureText(e||" ",t),g=m.lines,y=m.lineHeight,v=m.lineWidths,_=m.maxLineWidth,S=m.fontProperties,k=c.height;if(h.resetTransform(),h.scale(o,o),h.textBaseline=t.textBaseline,t._stroke?.width){const E=t._stroke;h.lineWidth=E.width,h.miterLimit=E.miterLimit,h.lineJoin=E.join,h.lineCap=E.cap}h.font=f;let w,b;const I=t.dropShadow?2:1;for(let E=0;E<I;++E){const A=t.dropShadow&&E===0,F=A?Math.ceil(Math.max(1,k)+s*2):0,R=F*o;if(A){h.fillStyle="black",h.strokeStyle="black";const Y=t.dropShadow,V=Y.color,j=Y.alpha;h.shadowColor=$e.shared.setValue(V).setAlpha(j).toRgbaString();const ce=Y.blur*o,le=Y.distance*o;h.shadowBlur=ce,h.shadowOffsetX=Math.cos(Y.angle)*le,h.shadowOffsetY=Math.sin(Y.angle)*le+R}else{if(h.fillStyle=t._fill?xp(t._fill,h,m,s*2):null,t._stroke?.width){const Y=t._stroke.width*.5+s*2;h.strokeStyle=xp(t._stroke,h,m,Y)}h.shadowColor="black"}let z=(y-S.fontSize)/2;y-S.fontSize<0&&(z=0);const Q=t._stroke?.width??0;for(let Y=0;Y<g.length;Y++)w=Q/2,b=Q/2+Y*y+S.ascent+z,t.align==="right"?w+=_-v[Y]:t.align==="center"&&(w+=(_-v[Y])/2),t._stroke?.width&&this._drawLetterSpacing(g[Y],t,l,w+s,b+s-F,!0),t._fill!==void 0&&this._drawLetterSpacing(g[Y],t,l,w+s,b+s-F)}}_drawLetterSpacing(e,t,s,o,l,c=!1){const{context:h}=s,f=t.letterSpacing;let m=!1;if(Vr.experimentalLetterSpacingSupported&&(Vr.experimentalLetterSpacing?(h.letterSpacing=`${f}px`,h.textLetterSpacing=`${f}px`,m=!0):(h.letterSpacing="0px",h.textLetterSpacing="0px")),f===0||m){c?h.strokeText(e,o,l):h.fillText(e,o,l);return}let g=o;const y=Vr.graphemeSegmenter(e);let v=h.measureText(e).width,_=0;for(let S=0;S<y.length;++S){const k=y[S];c?h.strokeText(k,g,l):h.fillText(k,g,l);let w="";for(let b=S+1;b<y.length;++b)w+=y[b];_=h.measureText(w).width,g+=v-_+f,v=_}}}const Sp=new nw;class rw extends Z1{constructor(...e){const t=J1(e,"Text");super(t,eg),this.renderPipeId="text",t.textureStyle&&(this.textureStyle=t.textureStyle instanceof Vo?t.textureStyle:new Vo(t.textureStyle))}updateBounds(){const e=this._bounds,t=this._anchor;let s=0,o=0;if(this._style.trim){const{frame:l,canvasAndContext:c}=Sp.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Sp.returnCanvasAndContext(c),s=l.width,o=l.height}else{const l=Vr.measureText(this._text,this._style);s=l.width,o=l.height}e.minX=-t._x*s,e.maxX=e.minX+s,e.minY=-t._y*o,e.maxY=e.minY+o}}Nt.add(rx,ix);const iw="http://localhost:5174",sw=25,Cp=5,ow=()=>{const i=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7","#fd79a8","#fdcb6e","#e17055","#74b9ff","#a29bfe"];return i[Math.floor(Math.random()*i.length)]},aw=i=>parseInt(i.replace("#","0x")),kp=i=>{const e=new Sn,t=new dr,s=i.size+10,o=Math.max(4,i.size-6);t.star(0,0,8,s,o),t.fill(16777215),e.addChild(t);const l=new dr;l.circle(0,0,i.size),l.fill(aw(i.color)),e.addChild(l);const c=new rw({text:i.username,style:{fontFamily:"Arial",fontSize:14,fontWeight:"bold",fill:16777215,stroke:{color:0,width:4},align:"center"}});return c.anchor.set(.5,1),c.position.set(0,-i.size-12),c.visible=!!i.username,e.addChild(c),{container:e,spike:e,username:c}},lw=(i,e)=>{const t=[];for(let o=0;o<15;o++)t.push({id:`bg-${o}`,username:"",x:Math.random()*i,y:Math.random()*e,vx:(Math.random()-.5)*Cp,vy:(Math.random()-.5)*Cp,size:sw,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.05,color:ow()});return t},uw=(i,e)=>{const t=e.x-i.x,s=e.y-i.y,o=Math.sqrt(t*t+s*s),l=i.size+e.size+20;if(o<l){const c=Math.atan2(s,t),h=i.x+Math.cos(c)*l,f=i.y+Math.sin(c)*l,m=(h-e.x)*.05,g=(f-e.y)*.05;i.vx-=m,i.vy-=g,e.vx+=m,e.vy+=g}};function cw(){const[i,e]=Ne.useState(""),[t,s]=Ne.useState("menu"),[o,l]=Ne.useState(!1),c=Ne.useRef(null),h=Ne.useRef(null),f=Ne.useRef(new Map),m=Ne.useRef(null),g=Ne.useRef({w:!1,a:!1,s:!1,d:!1}),y=Ne.useRef(null),v=Ne.useRef(null),_=Ne.useRef(new Map),S=Ne.useRef([]),k=Ne.useRef([]),w=Ne.useRef({width:4e3,height:4e3}),b=Ne.useRef(null);Ne.useEffect(()=>{if(console.log("PixiJS init effect running, containerRef:",c.current),!c.current)return;let E=null;return(async()=>{try{console.log("Creating PixiJS Application...");const F=new Nm;if(await F.init({width:window.innerWidth,height:window.innerHeight,backgroundAlpha:0,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),console.log("PixiJS app initialized:",F),console.log("Canvas:",F.canvas),!c.current){console.error("containerRef.current is null after init");return}c.current.appendChild(F.canvas),console.log("Canvas appended to container"),y.current=F;const R=new Sn;F.stage.addChild(R),v.current=R,console.log("World container created and added to stage");const z=new dr;z.circle(F.screen.width/2,F.screen.height/2,40),z.fill(16711680),F.stage.addChild(z),console.log("Debug circle added at screen center",F.screen.width/2,F.screen.height/2),l(!0),E=()=>{F.renderer.resize(window.innerWidth,window.innerHeight)},window.addEventListener("resize",E)}catch(F){console.error("PixiJS initialization error:",F)}})(),()=>{console.log("Cleaning up PixiJS"),E&&window.removeEventListener("resize",E);const F=y.current;F&&F.destroy(!0,{children:!0,texture:!0}),y.current=null,v.current=null}},[]),Ne.useEffect(()=>{if(console.log("Background spike effect, gameState:",t,"pixiReady:",o,"app:",y.current),t!=="menu"||!o||!y.current)return;const E=y.current,A=E.stage;k.current.forEach(R=>{A.removeChild(R.container)}),k.current=[],console.log("Creating background spikes..."),S.current.length===0&&(S.current=lw(E.screen.width,E.screen.height)),S.current.forEach((R,z)=>{const Q=kp(R);Q.container.position.set(R.x,R.y),Q.container.rotation=R.rotation,A.addChild(Q.container),k.current.push(Q),console.log(`Added background spike ${z} at (${R.x}, ${R.y})`)}),console.log(`Total background spikes added: ${k.current.length}`);const F=()=>{S.current.forEach((R,z)=>{R.x+=R.vx,R.y+=R.vy,R.rotation+=R.rotationSpeed;const Q=R.size+10;(R.x-Q<0||R.x+Q>E.screen.width)&&(R.vx*=-1,R.x=Math.max(Q,Math.min(E.screen.width-Q,R.x))),(R.y-Q<0||R.y+Q>E.screen.height)&&(R.vy*=-1,R.y=Math.max(Q,Math.min(E.screen.height-Q,R.y)));const Y=k.current[z];Y&&(Y.container.position.set(R.x,R.y),Y.container.rotation=R.rotation)});for(let R=0;R<S.current.length;R++)for(let z=R+1;z<S.current.length;z++)uw(S.current[R],S.current[z])};return E.ticker.add(F),()=>{E.ticker.remove(F),k.current.forEach(R=>{A.removeChild(R.container)}),k.current=[]}},[t,o]),Ne.useEffect(()=>{const E=F=>{const R=F.key.toLowerCase();(R==="w"||R==="arrowup")&&(g.current.w=!0,F.preventDefault()),(R==="a"||R==="arrowleft")&&(g.current.a=!0,F.preventDefault()),(R==="s"||R==="arrowdown")&&(g.current.s=!0,F.preventDefault()),(R==="d"||R==="arrowright")&&(g.current.d=!0,F.preventDefault())},A=F=>{const R=F.key.toLowerCase();(R==="w"||R==="arrowup")&&(g.current.w=!1,F.preventDefault()),(R==="a"||R==="arrowleft")&&(g.current.a=!1,F.preventDefault()),(R==="s"||R==="arrowdown")&&(g.current.s=!1,F.preventDefault()),(R==="d"||R==="arrowright")&&(g.current.d=!1,F.preventDefault())};return window.addEventListener("keydown",E),window.addEventListener("keyup",A),()=>{window.removeEventListener("keydown",E),window.removeEventListener("keyup",A)}},[]),Ne.useEffect(()=>{if(t!=="playing")return;const E=Oo(iw);return h.current=E,E.on("connect",()=>{console.log("Connected to server"),E.emit("join",i)}),E.on("init",A=>{console.log("Initialized with player ID:",A.playerId),console.log("Initial players:",A.players),console.log("Map config:",A.mapConfig),m.current=A.playerId,w.current=A.mapConfig,f.current.clear(),A.players.forEach(F=>{f.current.set(F.id,F),console.log("Added player:",F.username,"at position:",F.x,F.y)})}),E.on("gameState",A=>{A.forEach(F=>{f.current.set(F.id,F)})}),E.on("playerJoined",A=>{console.log("Player joined:",A.username),f.current.set(A.id,A)}),E.on("playerLeft",A=>{console.log("Player left:",A),f.current.delete(A)}),E.on("disconnect",()=>{console.log("Disconnected from server"),s("menu")}),()=>{E.disconnect()}},[t,i]),Ne.useEffect(()=>{if(t!=="playing"||!h.current)return;const A=setInterval(()=>{h.current?.emit("input",{up:g.current.w,down:g.current.s,left:g.current.a,right:g.current.d})},1e3/60);return()=>{clearInterval(A)}},[t]),Ne.useEffect(()=>{if(console.log("Playing render effect, gameState:",t,"pixiReady:",o,"app:",y.current),t!=="playing"||!o||!y.current)return;const E=y.current,A=E.stage;k.current.forEach(z=>{A.removeChild(z.container)}),k.current=[],console.log("Setting up map border and player rendering..."),b.current&&(A.removeChild(b.current),b.current.destroy(),b.current=null);const F=new dr;F.rect(0,0,w.current.width,w.current.height),F.stroke({width:5,color:16777215}),F.rect(5,5,w.current.width-10,w.current.height-10),F.stroke({width:2,color:16729670,alpha:.5}),A.addChild(F),b.current=F,console.log("Map border added to stage");const R=()=>{const z=m.current?f.current.get(m.current):null;let Q=0,Y=0;if(z){const V=z.x-E.screen.width/2,j=z.y-E.screen.height/2,ce=Math.max(0,w.current.width-E.screen.width),le=Math.max(0,w.current.height-E.screen.height);Q=Math.max(0,Math.min(ce,V)),Y=Math.max(0,Math.min(le,j))}b.current&&b.current.position.set(-Q,-Y),f.current.forEach(V=>{let j=_.current.get(V.id);j||(j=kp(V),A.addChild(j.container),_.current.set(V.id,j),console.log("Created sprite for player",V.id,"at",V.x,V.y)),j.container.position.set(V.x-Q,V.y-Y),j.container.rotation=V.rotation}),_.current.forEach((V,j)=>{f.current.has(j)||(A.removeChild(V.container),V.container.destroy({children:!0}),_.current.delete(j),console.log("Removed sprite for player",j))})};return E.ticker.add(R),console.log("Ticker added for playing state"),()=>{console.log("Cleaning up playing ticker and sprites"),E.ticker.remove(R),_.current.forEach(z=>{A.removeChild(z.container),z.container.destroy({children:!0})}),_.current.clear(),b.current&&(A.removeChild(b.current),b.current.destroy(),b.current=null)}},[t,o]);const I=()=>{const E=document.querySelector(".content");E&&E.classList.add("fade-out"),setTimeout(()=>{s("connecting"),setTimeout(()=>{s("playing")},1e3)},300)};return yt.jsxs("div",{className:"app",children:[yt.jsx("div",{className:"grid-background"}),yt.jsx("div",{ref:c,className:`game-canvas ${t==="playing"?"playing":""}`}),t==="menu"&&yt.jsxs("div",{className:"content",children:[yt.jsx("h1",{className:"title",children:"rammer.io"}),yt.jsxs("div",{className:"input-container",children:[yt.jsx("input",{type:"text",placeholder:"Enter your name",value:i,onChange:E=>e(E.target.value),onKeyDown:E=>E.key==="Enter"&&I(),className:"name-input",maxLength:20}),yt.jsx("button",{onClick:I,className:"play-button",children:"Play"})]})]}),t==="connecting"&&yt.jsx("div",{className:"content",children:yt.jsxs("div",{className:"connecting-container",children:[yt.jsx("div",{className:"spinner"}),yt.jsx("h2",{className:"connecting-text",children:"Connecting..."})]})})]})}a0.createRoot(document.getElementById("root")).render(yt.jsx(e0.StrictMode,{children:yt.jsx(cw,{})}));export{Yx as $,Rm as A,xt as B,Sn as C,kt as D,ke as E,tm as F,Qo as G,bf as H,Ki as I,x_ as J,T_ as K,is as L,pe as M,Oe as N,Ge as O,ot as P,j_ as Q,Lu as R,ec as S,Eo as T,Ru as U,Mf as V,ou as W,Rf as X,qx as Y,Vo as Z,$e as _,_m as a,Kp as a0,Im as a1,ve as a2,ze as a3,Q_ as a4,wv as a5,pv as a6,Uv as a7,Vv as a8,Yv as a9,qv as aa,Qv as ab,Fm as ac,Vr as ad,Ho as ae,xp as af,eg as ag,Z_ as ah,Gr as ai,$m as aj,Xf as ak,$f as al,dr as am,gx as an,Sp as ao,qm as ap,ln as b,hv as c,ns as d,Nt as e,Yf as f,lv as g,Uo as h,Ju as i,bm as j,lm as k,Xt as l,Cm as m,Hu as n,Dv as o,Gv as p,jv as q,Mx as r,Xv as s,Pe as t,mx as u,Zv as v,ct as w,Lt as x,Xp as y,Yt as z};
